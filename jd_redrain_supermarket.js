/*
Ë∂ÖÂ∏ÇÁ∫¢ÂåÖÈõ®

cron:1 1 1 1 * jd_redrain_supermarket.js

*/

const $ = new Env('Ë∂ÖÂ∏ÇÁ∫¢ÂåÖÈõ®');
var iÔΩâl='jsjiami.com.v7';const II11l=iii1II;(function(l1l1iI,I1llI1,I11i1l,il1il,Il1i1i,iIIili,Ii1iiI){return l1l1iI=l1l1iI>>0x9,iIIili='hs',Ii1iiI='hs',function(Ilil1I,iliIiI,II11iI,Il1i1l,Iil1ii){const lI1l11=iii1II;Il1i1l='tfi',iIIili=Il1i1l+iIIili,Iil1ii='up',Ii1iiI+=Iil1ii,iIIili=II11iI(iIIili),Ii1iiI=II11iI(Ii1iiI),II11iI=0x0;const lill1I=Ilil1I();while(!![]&&--il1il+iliIiI){try{Il1i1l=parseInt(lI1l11(0x19a,'#Byu'))/0x1*(parseInt(lI1l11(0x173,'37Q$'))/0x2)+-parseInt(lI1l11(0x1bb,'n8GM'))/0x3*(-parseInt(lI1l11(0x138,'#n*!'))/0x4)+parseInt(lI1l11(0x22f,'8QXA'))/0x5+parseInt(lI1l11(0x19c,'Osju'))/0x6+parseInt(lI1l11(0x170,'I]Us'))/0x7*(parseInt(lI1l11(0x162,'Bn&X'))/0x8)+parseInt(lI1l11(0x11b,'YcH)'))/0x9*(parseInt(lI1l11(0x13b,'8QXA'))/0xa)+-parseInt(lI1l11(0x20d,'6whP'))/0xb;}catch(Ii1ii1){Il1i1l=II11iI;}finally{Iil1ii=lill1I[iIIili]();if(l1l1iI<=il1il)II11iI?Il1i1i?Il1i1l=Iil1ii:Il1i1i=Iil1ii:II11iI=Iil1ii;else{if(II11iI==Il1i1i['replace'](/[IMANKCLqxhSXRDUBTGk=]/g,'')){if(Il1i1l===iliIiI){lill1I['un'+iIIili](Iil1ii);break;}lill1I[Ii1iiI](Iil1ii);}}}}}(I11i1l,I1llI1,function(Ilil11,i1ii1,il1ii,llI111,i1iIiI,IlllI1,I1il11){return i1ii1='\x73\x70\x6c\x69\x74',Ilil11=arguments[0x0],Ilil11=Ilil11[i1ii1](''),il1ii=`\x72\x65\x76\x65\x72\x73\x65`,Ilil11=Ilil11[il1ii]('\x76'),llI111=`\x6a\x6f\x69\x6e`,(0x150443,Ilil11[llI111](''));});}(0x19600,0x76559,Iii11l,0xcd),Iii11l)&&(iÔΩâl=II11l(0x222,'#n*!'));function Iii11l(){const il1i1=(function(){return[...[iÔΩâl,'CXRjSTsxDjLiAUaImRNhiB.AcNAkomM.vKGG7SLq==','W73dItFdLmkHveJdJ8kE','WPFdTai2','W4HVWRJcG8otWQddMLu','W6KYW6ZcOa','gcnBWQfr','WOXwW6ZdIa','yZxcTCoPW5O','W6OWoHVdQwrLWPNcKKWEWRNcPG','WONdSbO','WOqQgmo1ca','WRZdNxFcS2q','W7tORRRMSlFLP5pOTARVVj8+WRxdTSkJgNeIB1OHWO7cN8kceG','W6FdLNBdHCkBvfNcJmkfzCk6W6RcOSoliCkaWPNcGSkxymkgWORdQ8kDBHxdLq','W6DwW51u','owlcVmoGW7tcPGNcIW','WRfSBKZcPW','W6BcGIddOcWZWRVcI8ojiSocW48B','WQGafr8','W7biqHuLyG','y8ksW5RcOYu','WO4kp8kRpG','W4lcMWu','W7xdJ8kr','W6fXWPy5W48','W5q7qG','W5/cSu3dVq','W4mIwf7cQW','WRZdV2CRlG','zYaLif4','W485W7RcQu4','WQBOR4tMS6JOTAhMLOpVVihORRBMOzdMNz3NVQRNU6/PHAFOR4a','W70YxMFcQvVcMq','W6RdMCksfwBcPCo9zhbBF1aBESk5WOxdP0NcLW','aL0zmYWpW5VcOq','WQTvB1RcSG','W6NdS8k1euu','p8koWOFdKmo2cwXwWP5QWOa','lJ5HWRzJ','x8kfW7JcMYD1','WPFOR67MS4ZPHy3NVRNLJQRMLQVPLyxORktVVPVORB/OG5JNSQxLVixLJk/OG5FOV5/OOzNLJkxPPPhVV7vNBCoNWRddKCoikmkFWPtdQCoHW5nCvW','W7NcQ8kT','W7DKWRGjW4C','WQynWP8vASkPW7BcKCkJ','W6aLqN7cRv/cIgBcTq','WRdcKW/cMSom','WPLBW7RdOSoi','WPRMTAZLIOxOJQpLJj7LPi3OT5Kd6kYM5Qcn5P2z576T57Qw5PQW5zki5Q2y5BMd','W71wq08KCCkqWO5oz8ol','WRufnXr4','WPLmW7LoWOu','W7VcICkgWQGV','W6u2W7NcPw/dItC','x8oInSo6W7K','WPXjW7ldKSox','sCk2W4dcGaS','W6W9sfybdCoChI0UW4XBpCkfW5jMWPm3WRjpWRXsgHnUEq','W58SW5eXW7LyW7vS','WQxdUCkmW69Sqmo0WRVdLSk4W4FdI8k5WRaSW73cUa','l8oLW4vZEG','W70KsG','r8kjW5pcKI4','WO4xdZGg','WO/dJCkuW7q1','WRxdOSkmW6S','WPxcTchcLa','W73cT8k5','WRuCeG','rrWpkZahW43dVs4EBZWXWO5sW4i','ewNcSCoqW5emW5bRuJhcKfNdUMO','W7RcL8kqWOyX','WQ3cT8o4s3u','WQhcICkfc3pcMmoMzq','WOVcUSoN','W7zAlf8i','W7ddPSkWc0K','gfWolWSEW5a','EUITLEAZR+wpTUAvUq','m8oiWPflfq','WPFcTmoYFfW','WPnvWPuUWOO','W6pcHCkTWRmU','WPhcLCotrIK','p8oZWR3cPWCiWQWOW61yW6xcIW','6lwB5BII5y6s','W5z0WRtcGSo4WQldG3NcGG','gmoLWQfxdmoFmW','WRjkCgdcQq','WQxcJqJcOq','W7m4sxe','W63cI8orCCkN','q8klW60','W703F2e0','jSkpWPm','W44tWQunW5mb'],...(function(){return[...['WPtdPmkFW7Cf','ErD/fIm','W4CTDwBcKG','rWG2b2W','mmovWOe','W4PZWPRcPmoS','WRaNpYWP','yEACVUwlM+ElQEAbMoASIow6HU+/NUA1H+wlK+IoUUwoJ+AjJEwjOG','uc7dT8kpWO1E','WOxdG17cNvi','WRrNze7cQZS','DsvvaZxdTSkr','WQC/asTX','zCoKWQ0','WRrTBq','W7W4sG','oSkbWOBdLmoVoq','WQldV2dcHf4','WP3ORkNMSAVLPRxOTPtVVQXMsIVcJmo2Amodj3rkoGrJW6e','5Rcp5PYX5OIW5yIO5BYi5yU15Pwk6zs05QYi5z+25Q2S','WOxcS8oo','W4a8W6lcQgBdLYvIW6v/WQpcPYrzW6ddQb/cP1aBeSoiqCo9W6xdMJNdRCoBrSkgWRnyWPf8wCoeWPPqa2pcVr/dTbFcS8kEnt/dHbTaWP5BvqvroSo1W7iJbCoRnLNdPCkBBSoVW5VdNSoCumkBW5KbE8oJASkOW4DmW7KwWPtdGWzxhg/cQSoel8kJWQ5DWR4HWOaIsddcQCkEW4nEW6T+W5pdH8oyW6idyHdcKSoxBfRdVCo/hmoIW7RcHepcHCkDWPddU8keW6lcHeNdTSoAW7GudmoXW4OzjCk9kq7dSshcUcOLWRzDavddRa','A8kOW6hdTq','zCkIW7BdO1DFWPO','W4qqW63cPwC','WOJdMNqkba','WPTRW5hdKSog','WRFLVO3MNlBMTR/LIjNLTzBNU7VNU7ZMNiFdKoITRUETJ+w8TEs5IEATTEA0KUwlVq','WQddRGuMwG','W79iqtu','WOjfqgdcRG','WRNcLIpcNmoJ','W7/cO8o9zmk3','qZJcOCoyW6xcNaJdTmoJrIpdKW','vbGehvC','hCoxWR7dJhGZnY8RW5hcPSoPu8kR','5RAu5yQI6i+x5y2e5OQk5yU677YN5B+/5yQi5RAf5yIJtG','W4T1WRW','WRnfWOaoWOC3WRe','W5rYWP/cVSoQ','ySoUWQ/cV24dW6ddOKxdQa','WPCpfCo2','W7Ljqqq+Fue','W4PPWRW','5PE45zkn5BQY5Psa5OY6','yCoMWPpcPYC','8ygySXC','WQ7cMCo9','5lMh5PEp5O+155IX6k215Rci5PA65RoS','cUISQUAXOEwNNUI3QU+8P8kxW67OOj3PM5xLI47VVPfxl3Lyu8kJW73cI8ohj8o7WRJcKmo3','W7NdL8k1k30','WOeDW4JdOSob','WOVdTby','hGnRWRD2','WPFdQSkXW4Ox','WOmJW6BdQCoN','WQRcHGVcVmoOoCkSBbdcHmogWRmBWOO','W4jNWQ/cIq','W7xORytMSzhLJjtMLAW','W5HfWQKWW5G','WOBLKi/LUlXKWO8AxSkjumoXWPq','W74tsWyGxCoMWOazBCkj','yq0j','W4RcRCop','W49BoNeTW5hdImk5W7tcQa','W6FcGsxdOeLTW4JcQCojoa','WQ/cK8oPvYNdP28','sa91ja','WOBdUauRESkYlSkNc8kRW7RdOG','WRehWPldK0q9eSoDW7lcUv7dHG','ldFcH8ktDa','W78rCq','WRGIeG','DSopj8okW4C','WO/cQ27dK8k2','a0ColYPrWPhdVrroiZrZWPDPWQqIz0q','W4/LK7tLUiRdUmomutTTW59eumkQW4y','j8kxumkoWRxcSKdcPcPJrsmi','ut/dOCk0WOjqWOykAtBcKhZdR33cLHCHWODf','W59CW5RcIXG','WQNcGmorvvW','WQ3MJ7BLJBVLKiZLUP7ML4VMJkROPQ7MNydLPAdOTRBcVsW','CSkQW6ddVe8','WPuolJHe','WRKObSkrlNaj','ECkdW7dcKG8','W7vCW57cLcD4lW','W79WWQhcPCov','WP9nW4hdI8okua','W4ddP3VdHSooCa','W4vxW6voWOu','8y2hNIm','W5inFgSu','W77cLgJdLSo6','WRzJz0W','WPdcUZdcKmoB'],...(function(){return['W6SbW5lcU0S','44kN5O+j56A044cr6kYG5ysG6i2S5y6kWOJdUmoNW6C3ya','W4fMWO8+WRdcPqBdLCk9WR0t','BdJcQa','W6pcI8khWPGy','tsLYjqm','AmkQW73cIYK','6lEx5yYI5PA15PA9','W4VcP8oBvCkbgui','acPBWRXNWRKFW7pdNcVdOw89WRq','W7tdHvxcSmoAomkNlJO','WQyOeCkWlN4cWPNdQ8k6au8JzraNWOlcJ8k0uCoYW6dcUW','4P++j+AFIoIcPUAVVUEIPowLSoEsUSo6','WRudW5RcLarMdmog','WPtcUcpcJ8k5','iSkpWPRdKSoGk2XaWOa','5lUe5PEw5OYc55I16kYf5Rg65PAt5Rg2','umk1dSkSWOehWQtdLSknW7tdHCkPk3mMtvldTSo/W5pdL2RcRmoWWPdcUwuVWPyYW4LxCXVcOZ5df8oJb0ddNmoqFSo6WPhcSG','8y+xKKe','W4nLb8oxW6Gx','WQH3Eue','WQ3LKP7LUiZcGMxdLc8KWRvXWQ7cUsW','WRWdiCkopW','dfyo','ioIUOoAYJEwMNEI2PCosqCoNWPC','WRdcHW7cV8oSn8kXdblcHSoo','WPmmjCkJpW','W5pcSv4','h8oKWQfHwSkrE1n3W5nDW5ZdGLVdSMu2AxqQWRn8W5OUmCkvxIr0W4KxWRHrgv18WPTc','5OkZ5zA85OMo5lMq77+8','jYLdWQrF','oCo+WR3cPqfOWRGxW4vSW74','WQqBdWPGg8o4W5nejmktASoBtX5NCXPU','W4Xxixq+W5NdKG','WQxcLMq','WOa8W5FdNmobiNS','W4HNWRBcJq','W4KzWR0qW4aAW6fhcZG','WQhdRmkbW7O','W5RcU13dLSouW5DeqdBcJ8o8rCoFlt9ama','W4DwkN0J','WQWzWOddJL8NsW','W4jxW7PPWPS','Amo7WRRcOYObW63dV1RdOSklESkDWQeJW50JWPnrfgbVW7GvWPJcIaLwvSoIW65lsG','W6iIq1hcPLG','WQBcVH3cLmkX','WPldPg3cKmor','WRXJFKG','wmk4r8k9WQ5cWRddT8oyW6ZcJmojDYvGtv/cUCoDWO3cGIRdSq','WRuqWP4zzSkT','WQtdQSoT','W4JcR8kvWPNdHG','WR5IWQ7dSZZcJWKMWQeRW5ZdQG','lmkVWPddT8ol','FYvsoghdOSka','mSowW5LeEGddGColWO/dIufwWRddPGfoitiUW5ZcSr90DYu','g3iuedm','WP3dUvlcUNG','WRWDfbb2qSkJWRjnFmoy','g8oiWRrMjG','WOanfWOE','WQZcMGy','EGH3iWu','WPOaaSo7o8kVzgy','8lUxO8o+','WOeBd8osimkV','p8oWW5xdSLDGWOuc','W7nqWROdW74','WRRcL8ozCa0','p1byFu7dUSkYWORdMbu','yHCAdxFdSCks','WQaaha','W7LkvsqU','y8oTWQFcUYy','iSksmmoEW6ldNqlcIG','WP3cUJi','W4nLbW','WQTrWPOeWOG','8kM2HCkn','WP42W5ddN8oYmha','W6ZcVYhdQmon','WRFcPIBcOSkl','W6xcKh7dT8ow','WQxMNkdOJ5FLJytLIQRMLjxMJyxcGowmQUIbG+A2SowlNow1P+E4UEE6R+AEJW','haf3WO1/','WQ/cL8oQ','WRSLdaai','WPtdHSkmW5Cx','WPO9W4ddGmoMm3dcHa','mSooW4DzEa','WP8bbG','WOeYW43dImo8oG','W4lcOCorFSkN','smkbW77cTIvHzNm3W4pcTComF8kG'];}())];}())];}());Iii11l=function(){return il1i1;};return Iii11l();};const i11iiI=require('./jdCookie'),lIli11=require(II11l(0x198,'fJwZ')),lllI1I=require('./utils/Rebels_jdCommon'),{H5st:lillI1}=require(II11l(0x1cf,'N5ev')),IlIlii=![];let i1l1i1='';const liil11=Object['keys'](i11iiI)[II11l(0x183,'[qMP')](II1il=>i11iiI[II1il])[II11l(0x1e9,'zxvH')](lllI11=>lllI11);!liil11[0x0]&&($[II11l(0x1a2,'!Mvk')]($[II11l(0x152,'Vk(Y')],II11l(0x12f,'5m!B')),process[II11l(0x1e3,'#n*!')](0x1));type_map={0x4:II11l(0x1df,'VIFp'),0x5:'‰ºòÊÉ†Âà∏'},!(async()=>{const II11i=II11l,I1lIll={'wzixM':'3|5|0|2|1|4','hljmq':function(I1lIli,II1ii){return I1lIli||II1ii;},'cJyME':'\x0a---------------------------------------------------\x0a','aJkte':function(IIIIII,lillII){return IIIIII||lillII;},'ReBfe':function(ii1ilI,lI1ll1){return ii1ilI*lI1ll1;},'jHzIv':function(iIiI1,liil1I){return iIiI1-liil1I;},'rtDVw':II11i(0x14a,'*hFW'),'dcyXG':II11i(0x225,'4mB2'),'sWesm':II11i(0x1f1,'N5ev'),'dMnJx':function(i11ii1,IlIliI,l1iII1){return i11ii1(IlIliI,l1iII1);},'DXDZu':function(iiill1,lIli1i){return iiill1===lIli1i;},'LwlNc':II11i(0x205,'wv8#'),'WkHaQ':'\x0aÊ¥ªÂä®Ëé∑ÂèñÂ§±Ë¥•,ËØ∑Ê£ÄÊü•ÁΩëÁªúÊòØÂê¶Ê≠£Â∏∏','fOdBI':function(IIIII1,I1lIlI){return IIIII1<I1lIlI;},'BZKfZ':function(ii1ill,II1iI){return ii1ill(II1iI);},'kPzQb':function(llI1II){return llI1II();},'SvtbR':'YPpkC'};authorCodeList=await lIli1I(I1lIll[II11i(0x211,'Vk(Y')]);if(authorCodeList){if(II11i(0x1a8,'37Q$')===I1lIll[II11i(0x18a,'7EpT')]){console['log'](I1lIll[II11i(0x1ae,'SPfb')]),$['projectId']=authorCodeList[I1lIll['dMnJx'](IlIlil,0x0,authorCodeList[II11i(0x1f4,'SPfb')])];if(I1lIll[II11i(0x1d9,'*hFW')]($[II11i(0x1b6,'rJ76')],'1')){console[II11i(0x1e6,'6whP')](I1lIll['LwlNc']);return;}}else{const lillIi=I1lIll['wzixM'][II11i(0x1c1,'@Zu!')]('|');let illIi1=0x0;while(!![]){switch(lillIi[illIi1++]){case'0':iI1lll[II11i(0x21e,'t!)m')]('üîß\x20'+l1lIll+II11i(0x143,'Bn&X')+I1lIll[II11i(0x187,'j#A1')](I1l1II,'Êó†')+'\x0a');continue;case'1':llIliI['log'](I1l1I1);continue;case'2':IIli1I['log'](II11i(0x17c,'j#A1')+I1i11I+II11i(0x1d8,'j#A1'));continue;case'3':IlI1ii['log'](I1lIll['cJyME']);continue;case'4':I1i111[II11i(0x17a,')*Z!')](I1lIll[II11i(0x184,'Nem9')]);continue;case'5':lIIiii[II11i(0x179,'glI2')](II11i(0x140,'#n*!')+iI1lli+'\x20ÂìçÂ∫îBody\x20=>\x20'+I1lIll['aJkte'](ll1iI,'Êó†')+'\x0a');continue;}break;}}}else{console[II11i(0x17a,')*Z!')](I1lIll[II11i(0x15b,'glI2')]);return;}lIli11[II11i(0x15f,'rJ76')]({'title':$[II11i(0x12c,'SPfb')]});for(let ii1ili=0x0;I1lIll[II11i(0x163,'aS1m')](ii1ili,liil11['length']);ii1ili++){$[II11i(0x196,'Osju')]=ii1ili+0x1,i1l1i1=liil11[ii1ili],lllI1I['setCookie'](i1l1i1),$['UserName']=I1lIll['BZKfZ'](decodeURIComponent,lllI1I['getCookieValue'](i1l1i1,II11i(0x126,'@Zu!'))),$[II11i(0x122,'wo3x')]=lIli11['create']($[II11i(0x156,'xVqx')],$['UserName']),$[II11i(0x18e,'Vk(Y')]='',console[II11i(0x1f8,'SPfb')]('\x0a******ÂºÄÂßã„Äê‰∫¨‰∏úË¥¶Âè∑'+$[II11i(0x19b,'SPfb')]+'„Äë'+($['nickName']||$['UserName'])+II11i(0x157,'8QXA')),await I1lIll[II11i(0x1f6,'n8GM')](iiillI),lllI1I[II11i(0x1b0,'aS1m')]();if($[II11i(0x16f,'xTsE')])break;await $[II11i(0x1cb,']xdz')](0x3e8);}if(IlIlii&&lIli11['getMessage']()){if(II11i(0x19f,'6whP')===I1lIll[II11i(0x1a3,'4mB2')])return liIi1['floor'](I1lIll[II11i(0x230,'(f[)')](lI11II['random'](),I1lIll[II11i(0x1e2,'SPfb')](l1llI1,llIIll)))+IillIi;else await lIli11[II11i(0x142,'SPfb')]();}})()['catch'](lI1lil=>$[II11l(0x19e,'G&UR')](lI1lil))['finally'](()=>$[II11l(0x19d,'n8GM')]());async function iiillI(){const iI1Iii=II11l,i1l1iI={'CJARK':function(lI1lii,Iiili1){return lI1lii===Iiili1;},'JbxDL':function(Iil1l1,i1i11I){return Iil1l1(i1i11I);},'tmDaM':iI1Iii(0x15e,'q!!b'),'yqXFy':iI1Iii(0x20e,')*Z!'),'moSJi':iI1Iii(0x1fd,'xVqx'),'KIyWG':iI1Iii(0x1ac,'!Mvk'),'FtKgV':function(il1iIl,iii1ii){return il1iIl+iii1ii;}},liil1l=await lllI1I[iI1Iii(0x18b,'6whP')](i1l1i1);if(!liil1l&&i1l1iI[iI1Iii(0x12b,'wv8#')](typeof liil1l,iI1Iii(0x14f,'xVqx'))){console['log'](iI1Iii(0x135,'glI2'));return;}try{$[iI1Iii(0x1d7,'N5ev')]=![],await i1l1iI[iI1Iii(0x1d2,'%QJr')](l1iIII,i1l1iI['tmDaM']);$['activityId']?console[iI1Iii(0x188,'xTsE')](i1l1iI['yqXFy']+$[iI1Iii(0x168,'n8GM')]):($['runEnd']=!![],console[iI1Iii(0x228,'37Q$')](i1l1iI['moSJi']));for(let il1iIi=0x0;il1iIi<0x5;il1iIi++){await i1l1iI['JbxDL'](l1iIII,i1l1iI[iI1Iii(0x1e5,'7EpT')]);if($[iI1Iii(0x151,'T&x2')])break;await $['wait'](parseInt(i1l1iI['FtKgV'](Math['random']()*0x7d0,0x7d0),0xa));}}catch(iii1il){console[iI1Iii(0x150,'fJwZ')](iii1il[iI1Iii(0x22c,'[qMP')]);}}function iii1II(_0x413155,_0x371c2f){const _0x2fcd25=Iii11l();return iii1II=function(_0x5afa29,_0x3ae4a1){_0x5afa29=_0x5afa29-0x119;let _0x2d9443=_0x2fcd25[_0x5afa29];if(iii1II['MPlaDi']===undefined){var _0x3f5a51=function(_0x57a0cd){const _0x5b9c79='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0xe3bbc0='',_0x3d7d29='';for(let _0x33b00f=0x0,_0x3f0f2f,_0x31a552,_0x303186=0x0;_0x31a552=_0x57a0cd['charAt'](_0x303186++);~_0x31a552&&(_0x3f0f2f=_0x33b00f%0x4?_0x3f0f2f*0x40+_0x31a552:_0x31a552,_0x33b00f++%0x4)?_0xe3bbc0+=String['fromCharCode'](0xff&_0x3f0f2f>>(-0x2*_0x33b00f&0x6)):0x0){_0x31a552=_0x5b9c79['indexOf'](_0x31a552);}for(let _0x314854=0x0,_0x58bf9b=_0xe3bbc0['length'];_0x314854<_0x58bf9b;_0x314854++){_0x3d7d29+='%'+('00'+_0xe3bbc0['charCodeAt'](_0x314854)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x3d7d29);};const _0x4be22b=function(_0x26c933,_0x3d62cf){let _0x3c9f18=[],_0x425ef2=0x0,_0x89245e,_0x2a1ced='';_0x26c933=_0x3f5a51(_0x26c933);let _0x21bf28;for(_0x21bf28=0x0;_0x21bf28<0x100;_0x21bf28++){_0x3c9f18[_0x21bf28]=_0x21bf28;}for(_0x21bf28=0x0;_0x21bf28<0x100;_0x21bf28++){_0x425ef2=(_0x425ef2+_0x3c9f18[_0x21bf28]+_0x3d62cf['charCodeAt'](_0x21bf28%_0x3d62cf['length']))%0x100,_0x89245e=_0x3c9f18[_0x21bf28],_0x3c9f18[_0x21bf28]=_0x3c9f18[_0x425ef2],_0x3c9f18[_0x425ef2]=_0x89245e;}_0x21bf28=0x0,_0x425ef2=0x0;for(let _0x3920aa=0x0;_0x3920aa<_0x26c933['length'];_0x3920aa++){_0x21bf28=(_0x21bf28+0x1)%0x100,_0x425ef2=(_0x425ef2+_0x3c9f18[_0x21bf28])%0x100,_0x89245e=_0x3c9f18[_0x21bf28],_0x3c9f18[_0x21bf28]=_0x3c9f18[_0x425ef2],_0x3c9f18[_0x425ef2]=_0x89245e,_0x2a1ced+=String['fromCharCode'](_0x26c933['charCodeAt'](_0x3920aa)^_0x3c9f18[(_0x3c9f18[_0x21bf28]+_0x3c9f18[_0x425ef2])%0x100]);}return _0x2a1ced;};iii1II['pXfpTO']=_0x4be22b,_0x413155=arguments,iii1II['MPlaDi']=!![];}const _0x39f056=_0x2fcd25[0x0],_0x45a2b0=_0x5afa29+_0x39f056,_0xdbe4e5=_0x413155[_0x45a2b0];return!_0xdbe4e5?(iii1II['sywUoU']===undefined&&(iii1II['sywUoU']=!![]),_0x2d9443=iii1II['pXfpTO'](_0x2d9443,_0x3ae4a1),_0x413155[_0x45a2b0]=_0x2d9443):_0x2d9443=_0xdbe4e5,_0x2d9443;},iii1II(_0x413155,_0x371c2f);}async function l1l111(II11li,I1l11i){const liI1ii=II11l,iIIiiI={'tZZbp':liI1ii(0x1ba,'uuq5'),'pfnOE':function(liiI1i,ililIi){return liiI1i(ililIi);},'uNtiL':liI1ii(0x139,'wo3x'),'emvzY':function(lilIIl,ililIl){return lilIIl/ ililIl;},'LFvUA':function(liiI1l,i1l1II){return liiI1l<i1l1II;},'vXFXy':function(i1ill,I1l11l){return i1ill!==I1l11l;},'NiqxJ':liI1ii(0x1d1,'M8za'),'JGVFz':function(lilIIi,i1l1Il){return lilIIi===i1l1Il;},'pBCBO':liI1ii(0x133,'jm]*'),'xaCTE':liI1ii(0x11c,'N6x@'),'XkKmI':function(llIli,i1i11l){return llIli+i1i11l;},'xfegV':liI1ii(0x1bc,'n8GM'),'ZGJIq':'lwiQV'};try{switch(II11li){case iIIiiI[liI1ii(0x158,'5m!B')]:if(I1l11i[liI1ii(0x223,'Vk(Y')]&&I1l11i[liI1ii(0x207,'G&UR')]===0x0){$[liI1ii(0x147,'#n*!')]=I1l11i?.[liI1ii(0x1cc,'glI2')]?.['projectName'];let i1i11i=Math['floor'](iIIiiI[liI1ii(0x13c,'glI2')](Date[liI1ii(0x149,'wv8#')](),0x3e8));for(let II11l1 of I1l11i?.[liI1ii(0x15d,'SPfb')]?.[liI1ii(0x22e,'t!)m')]||[]){if(iIIiiI['LFvUA'](i1i11i,II11l1[liI1ii(0x214,'G&UR')])&&i1i11i>II11l1['startTime']){if(iIIiiI[liI1ii(0x182,'#xn5')](iIIiiI['NiqxJ'],iIIiiI['NiqxJ'])){lI1Il1['log'](iIIiiI[liI1ii(0x21f,'#xn5')]);return;}else{$['activityId']=II11l1[liI1ii(0x22a,'xVqx')];break;}}}}else iIIiiI[liI1ii(0x1c0,'YcH)')](iIIiiI[liI1ii(0x203,'cahd')],liI1ii(0x220,']xdz'))?console['log']('‚ùì'+I1l11i[liI1ii(0x1cd,'a$LC')]):IiilIi[liI1ii(0x1d4,'%QJr')]('‚ùì'+IiilIl['msg']);break;case iIIiiI[liI1ii(0x172,'[qMP')]:if(I1l11i[liI1ii(0x18f,'Bn&X')]&&I1l11i[liI1ii(0x154,']xdz')]===0x0){let {name:iii1iI,num:llIll,type:il1iII}=I1l11i?.[liI1ii(0x213,'xTsE')],iilli='';switch(il1iII){case 0x4:{iilli='['+type_map[il1iII]+']'+iii1iI+'ÂÖÉ';break;}case 0x5:{iilli='['+type_map[il1iII]+']'+iii1iI;break;}default:{iilli='[type='+il1iII+']'+iii1iI+'X'+llIll;break;}}console[liI1ii(0x1a1,'h3nU')](iIIiiI[liI1ii(0x161,'a$LC')](liI1ii(0x14b,'VIFp'),iilli));}else{if(iIIiiI['JGVFz'](I1l11i[liI1ii(0x200,'I]Us')],0xd2))$[liI1ii(0x124,'8QXA')]=!![],console[liI1ii(0x229,'7EpT')](I1l11i[liI1ii(0x20f,'Vk(Y')]);else I1l11i[liI1ii(0x1e4,'uuq5')]===0xd5?iIIiiI['vXFXy'](iIIiiI['xfegV'],'BDXjp')?console['log'](I1l11i[liI1ii(0x1ce,'Nem9')]):iIIiiI[liI1ii(0x1b8,'#n*!')](l11i1i,{'err':lI11I1,'res':l1il11,'data':IiI1}):console[liI1ii(0x219,'[qMP')]('‚ùì'+I1l11i['msg']);}break;}}catch(II11lI){iIIiiI[liI1ii(0x208,'SPfb')]===iIIiiI[liI1ii(0x1a0,'wo3x')]?console['log']('‚ùå\x20Êú™ËÉΩÊ≠£Á°ÆÂ§ÑÁêÜ\x20'+II11li+'\x20ËØ∑Ê±ÇÂìçÂ∫î\x20'+(II11lI[liI1ii(0x1ab,'uuq5')]||II11lI)):ill11I=Iliiil+'\x20ËØ∑Ê±ÇË∂ÖÊó∂ÔºåËØ∑Ê£ÄÊü•ÁΩëÁªúÈáçËØï';}}async function l1iIII(I1l11I){const lIIiIl=II11l,Ilil1l={'tGUyz':'POST','hNTlp':'redRainInitProjectScene','YaUBW':lIIiIl(0x13d,'aS1m'),'EcZRZ':lIIiIl(0x127,'glI2'),'uqiyn':lIIiIl(0x1b4,'a$LC'),'yDMvL':lIIiIl(0x160,'a$LC'),'NUQZe':'redRainStartLottery','fRJzA':lIIiIl(0x1fe,'[qMP'),'vbdYk':lIIiIl(0x1bd,'zxvH'),'PpMKN':'application/json,\x20text/plain,\x20*/*','ICudm':lIIiIl(0x212,'!scz'),'aWYfw':lIIiIl(0x1c4,'5m!B'),'qOCVB':lIIiIl(0x176,'G&UR'),'pABJS':lIIiIl(0x191,'@Zu!'),'MprqY':lIIiIl(0x130,'4mB2'),'lQJOJ':function(iii1lI,i1ilI1){return iii1lI===i1ilI1;},'yUxlH':function(Iiilii,Iil1li){return Iiilii<Iil1li;},'fTcCd':function(Iiilil,Iil1ll){return Iiilil>Iil1ll;},'BjbhD':function(iillI,lI1III,IIliIi){return iillI(lI1III,IIliIi);},'YvzMH':lIIiIl(0x120,'I]Us'),'JRNBx':lIIiIl(0x1f0,'Nem9'),'HJAld':function(IllIiI,i1il1){return IllIiI===i1il1;},'Yopom':lIIiIl(0x1f2,'N6x@'),'VxzuK':lIIiIl(0x1c3,'SmMU'),'wDybF':function(I1l111,IIii1l){return I1l111!==IIii1l;},'bHQSQ':lIIiIl(0x148,'wo3x'),'poXXS':lIIiIl(0x227,'n8GM'),'FRmbD':function(I1iIII,liiI11){return I1iIII||liiI11;},'MufSl':'\x0a---------------------------------------------------\x0a','tROie':'GutdV','PNQER':function(ililI1,IIii1i){return ililI1===IIii1i;},'cySDF':lIIiIl(0x209,'#n*!'),'jYYXz':lIIiIl(0x1dd,'[qMP'),'srTrK':function(i1ili,Iiill1){return i1ili(Iiill1);},'hZFLN':function(I1iII1,lilII1){return I1iII1||lilII1;},'YzjVL':lIIiIl(0x216,'jm]*'),'msCgJ':function(iill1,iii1l1){return iill1>=iii1l1;},'WzXrZ':'rrTLn'};if($[lIIiIl(0x15a,'uuq5')]||$[lIIiIl(0x174,'37Q$')])return;let iIIiii='',iilll='',il1iI1=Ilil1l['tGUyz'],IlllIi=null,iIIiil={};switch(I1l11I){case Ilil1l[lIIiIl(0x144,'wo3x')]:il1iI1=lIIiIl(0x1ee,'*hFW'),iIIiil={'appId':lIIiIl(0x15c,'glI2'),'functionId':Ilil1l['hNTlp'],'appid':Ilil1l[lIIiIl(0x121,'n8GM')],'clientVersion':Ilil1l[lIIiIl(0x1b5,'4mB2')],'client':Ilil1l['uqiyn'],'body':{'projectId':$[lIIiIl(0x1e0,'Vk(Y')]},'version':Ilil1l['yDMvL'],'t':!![]},IlllIi=await lillI1['getH5st'](iIIiil),iIIiii=lIIiIl(0x165,'j#A1')+IlllIi[lIIiIl(0x1fa,'aS1m')];break;case Ilil1l[lIIiIl(0x11e,'%QJr')]:il1iI1=Ilil1l[lIIiIl(0x1c2,'6whP')],iIIiil={'appId':Ilil1l[lIIiIl(0x1b9,'@Zu!')],'functionId':Ilil1l[lIIiIl(0x11e,'%QJr')],'appid':Ilil1l[lIIiIl(0x20a,'7EpT')],'clientVersion':Ilil1l[lIIiIl(0x1e7,'SmMU')],'client':Ilil1l[lIIiIl(0x17b,'VIFp')],'body':{'projectId':$[lIIiIl(0x1b7,'uuq5')],'activityId':$[lIIiIl(0x153,'zxvH')]},'version':lIIiIl(0x194,'wv8#'),'t':!![]},IlllIi=await lillI1[lIIiIl(0x164,'jm]*')](iIIiil),iIIiii='https://api.m.jd.com/api?'+IlllIi[lIIiIl(0x1b2,'6whP')];break;default:console['log']('‚ùå\x20Êú™Áü•ËØ∑Ê±Ç\x20'+I1l11I);return;}const i1l1Ii={'url':iIIiii,'headers':{'Accept':Ilil1l[lIIiIl(0x1f3,'Osju')],'Accept-Encoding':lIIiIl(0x1c5,']xdz'),'Accept-Language':lIIiIl(0x13f,'q!!b'),'Connection':Ilil1l[lIIiIl(0x202,'Bn&X')],'Content-Type':lIIiIl(0x159,'!scz'),'Cookie':i1l1i1,'Origin':lIIiIl(0x14e,'n8GM'),'Referer':lIIiIl(0x119,'N5ev'),'x-rp-client':Ilil1l[lIIiIl(0x1eb,'jm]*')],'Sec-Fetch-Dest':Ilil1l[lIIiIl(0x1af,'!Mvk')],'Sec-Fetch-Mode':Ilil1l['pABJS'],'Sec-Fetch-Site':Ilil1l[lIIiIl(0x14c,'#xn5')],'User-Agent':$['UA']},'body':iilll,'timeout':0x7530};Ilil1l['lQJOJ'](il1iI1,Ilil1l[lIIiIl(0x12e,'Bn&X')])&&(delete i1l1Ii[lIIiIl(0x1a5,'wv8#')],delete i1l1Ii[lIIiIl(0x1bf,'Bn&X')][lIIiIl(0x20b,'#Byu')]);const I1iIIi=0x1;let I1iIIl=0x0,lI1IIl=null,i1ilI=![];while(Ilil1l['yUxlH'](I1iIIl,I1iIIi)){Ilil1l['fTcCd'](I1iIIl,0x0)&&await $['wait'](0x3e8);const {err:IIliIl,res:II11ll,data:liiI1I}=await Ilil1l[lIIiIl(0x1a9,'Bn&X')](llI1I1,i1l1Ii,il1iI1);if(IIliIl){if(Ilil1l[lIIiIl(0x125,'Vk(Y')]===Ilil1l['JRNBx'])l1lIii=I11iI1+lIIiIl(0x146,'#Byu')+(l1lIil[lIIiIl(0x17d,'T&x2')]||IiiIli);else{if(Ilil1l[lIIiIl(0x167,'Osju')](typeof IIliIl,Ilil1l[lIIiIl(0x11d,'8QXA')])&&IIliIl[lIIiIl(0x16d,'xTsE')](Ilil1l[lIIiIl(0x1c9,'Nem9')]))lI1IIl=I1l11I+lIIiIl(0x1aa,'8QXA');else{const lI1II1=II11ll?.['statusCode'];if(lI1II1){if([0x193,0x1ed][lIIiIl(0x186,'T&x2')](lI1II1))lI1IIl=I1l11I+lIIiIl(0x21b,'q!!b')+lI1II1+'Ôºâ',i1ilI=!![];else[0x190,0x194][lIIiIl(0x1ad,'N5ev')](lI1II1)?lI1IIl=I1l11I+lIIiIl(0x1b3,'5m!B')+lI1II1+'Ôºâ':lI1IIl=I1l11I+lIIiIl(0x1fc,'wv8#')+lI1II1+'Ôºâ';}else lI1IIl=I1l11I+'\x20ËØ∑Ê±ÇÂ§±Ë¥•\x20=>\x20'+(IIliIl[lIIiIl(0x201,'I]Us')]||IIliIl);}I1iIIl++;}}else{if(Ilil1l[lIIiIl(0x195,'xTsE')](Ilil1l['bHQSQ'],Ilil1l[lIIiIl(0x16c,'jm]*')]))iliIII[lIIiIl(0x215,'Vk(Y')](lIIiIl(0x13a,'4mB2')+iIIl1i+'\x20ËØ∑Ê±ÇÂìçÂ∫î\x20'+(I1lllI[lIIiIl(0x22c,'[qMP')]||ill111));else{const iIIii1=lllI1I[lIIiIl(0x155,'wv8#')](II11ll),IllIi1=![];if(IllIi1){const lilIII=Ilil1l[lIIiIl(0x132,'M8za')]['split']('|');let Ii1ilI=0x0;while(!![]){switch(lilIII[Ii1ilI++]){case'0':console[lIIiIl(0x1a4,'SmMU')](lIIiIl(0x129,'fJwZ')+I1l11I+lIIiIl(0x226,'7EpT')+Ilil1l[lIIiIl(0x234,'fJwZ')](liiI1I,'Êó†')+'\x0a');continue;case'1':console['log'](lIIiIl(0x16e,'a$LC')+I1l11I+lIIiIl(0x224,'Osju'));continue;case'2':console[lIIiIl(0x215,'Vk(Y')](Ilil1l[lIIiIl(0x1db,'VIFp')]);continue;case'3':console[lIIiIl(0x232,'wo3x')]('üîß\x20'+I1l11I+lIIiIl(0x11a,'@Zu!')+Ilil1l['FRmbD'](iIIii1,'Êó†')+'\x0a');continue;case'4':console[lIIiIl(0x131,'#Byu')]('\x0a---------------------------------------------------\x0a');continue;case'5':console[lIIiIl(0x1d4,'%QJr')](i1l1Ii);continue;}break;}}try{if(Ilil1l['wDybF'](lIIiIl(0x206,'t!)m'),Ilil1l[lIIiIl(0x204,'@Zu!')]))I1iIil['log'](lI1Iil['message']);else{let iliIil=JSON[lIIiIl(0x1da,'%QJr')](liiI1I);l1l111(I1l11I,iliIil);break;}}catch(iliIii){if(Ilil1l[lIIiIl(0x12d,'#n*!')](Ilil1l['cySDF'],Ilil1l[lIIiIl(0x12a,'SmMU')])){IiilII['log']('Ë¥¶Âè∑Êó†Êïà');return;}else lI1IIl='‚ùå\x20'+I1l11I+lIIiIl(0x11f,'Bn&X')+iliIii['message'],console[lIIiIl(0x1f9,'uuq5')](lIIiIl(0x218,'cahd')+I1l11I+'\x20=>\x20'+Ilil1l['srTrK'](String,Ilil1l[lIIiIl(0x1d6,'!Mvk')](liiI1I,Ilil1l[lIIiIl(0x20c,'37Q$')]))),I1iIIl++;}i1ilI=![];}}}Ilil1l['msCgJ'](I1iIIl,I1iIIi)&&(Ilil1l[lIIiIl(0x1ec,'uuq5')]!==Ilil1l['WzXrZ']?li1I1[lIIiIl(0x1e8,'aS1m')]('‚ùì'+i1ilil[lIIiIl(0x1c7,'uuq5')]):(console[lIIiIl(0x175,'n8GM')](lI1IIl),i1ilI&&($['outFlag']=!![],$['message']&&$[lIIiIl(0x136,'7EpT')]['fix'](lI1IIl))));}async function llI1I1(iIIill,iilii=II11l(0x199,'5m!B')){const iI1Iil=II11l,Ill11i={'XbbGS':function(iilil,Ill11l){return iilil===Ill11l;},'ajOHW':iI1Iil(0x1ed,'37Q$'),'hmYhd':function(il1ll,i1ilIi){return il1ll(i1ilIi);},'pAnOj':iI1Iil(0x1fb,'Osju'),'rNkNR':function(lill1l,l1l1i1){return lill1l!==l1l1i1;},'ppEEt':'AEQur','FssWk':iI1Iil(0x22d,'jm]*'),'UKVFC':function(i1iiI,i1ilIl){return i1iiI===i1ilIl;},'AWXXc':iI1Iil(0x231,'SmMU'),'akClz':iI1Iil(0x177,'!scz'),'rzjtW':iI1Iil(0x13e,'fJwZ')};if(Ill11i[iI1Iil(0x16a,'Nem9')](iilii,Ill11i[iI1Iil(0x17f,'glI2')]))return new Promise(async llI11I=>{const il1iI=iI1Iil;Ill11i['pAnOj']!==Ill11i[il1iI(0x166,'N5ev')]?IiiiI[il1iI(0x210,'VIFp')]['fix'](llIlli):$[il1iI(0x18d,'t!)m')](iIIill,(iii1li,Iil1i1,IIii11)=>{const i1iIii=il1iI;Ill11i[i1iIii(0x1d5,'xVqx')](Ill11i['ajOHW'],Ill11i['ajOHW'])?Ill11i[i1iIii(0x1be,'M8za')](llI11I,{'err':iii1li,'res':Iil1i1,'data':IIii11}):(lliiiI[i1iIii(0x1e1,'*hFW')]=!![],lilil['message']&&ii1lI[i1iIii(0x1f5,'jm]*')]['fix'](I1ilIl));});});else{if(Ill11i['UKVFC'](iilii,Ill11i[iI1Iil(0x171,'4mB2')]))return new Promise(async Ii1il1=>{$['get'](iIIill,(iii1ll,IIliI1,il1lI)=>{const i1iIil=iii1II;Ill11i[i1iIil(0x21d,'T&x2')](Ill11i[i1iIil(0x221,'T&x2')],Ill11i['ppEEt'])?IiiIlI=Iilli1+i1iIil(0x197,'wo3x')+I1l1Il+'Ôºâ':Ill11i[i1iIil(0x217,'!scz')](Ii1il1,{'err':iii1ll,'res':IIliI1,'data':il1lI});});});else{if(Ill11i[iI1Iil(0x128,'5m!B')](iI1Iil(0x134,'6whP'),Ill11i[iI1Iil(0x21c,'!Mvk')])){const I1il1l=Ill11i[iI1Iil(0x190,'#xn5')];return{'err':I1il1l,'res':null,'data':null};}else Ill11i[iI1Iil(0x1c8,'6whP')](ii1I1l,ii1I1i);}}}function IlIlil(IIliII,iiliI){const liI1il=II11l,Ill11I={'MNqku':function(I1il1i,IliIIi){return I1il1i+IliIIi;},'cbzEZ':function(lI1l1i,i1iil){return lI1l1i-i1iil;}};return Ill11I[liI1il(0x1ca,']xdz')](Math['floor'](Math[liI1il(0x189,'T&x2')]()*Ill11I[liI1il(0x192,'#Byu')](iiliI,IIliII)),IIliII);}function lIli1I(llI11l){const llIlIi=II11l,I1llIl={'luALq':llIlIi(0x21a,'aS1m'),'uGhGs':llIlIi(0x1ea,']xdz'),'KWHSJ':'BvfNj','SuuJc':'nXcpI','aUlml':function(i1iii,I1llIi){return i1iii(I1llIi);},'BKCEd':llIlIi(0x1ff,'Bn&X')};return new Promise(IIii1I=>{const llIlIl=llIlIi,llI11i={'VEiHW':I1llIl[llIlIl(0x1ef,'Vk(Y')],'DgPce':function(l1l1il,I11i1I){return l1l1il!==I11i1I;},'XNWsg':I1llIl[llIlIl(0x1c6,'j#A1')],'ZaGeU':I1llIl['KWHSJ'],'HvTOu':function(iliIi1,l1l1ii){return iliIi1!==l1l1ii;},'lXawF':I1llIl[llIlIl(0x1a6,'uuq5')],'cjGvD':function(Il1i1I,Ii1iii){return I1llIl['aUlml'](Il1i1I,Ii1iii);}},i1iIi1={'url':''+llI11l,'timeout':0x2710,'headers':{'User-Agent':I1llIl[llIlIl(0x17e,'h3nU')]}};$[llIlIl(0x145,'N5ev')](i1iIi1,async(iIIilI,il1l1,Ii1iil)=>{const II11I=llIlIl;try{if(llI11i[II11I(0x1b1,'#xn5')](llI11i[II11I(0x180,'wv8#')],II11I(0x123,'6whP')))IlI1Ii[II11I(0x1f7,'!scz')](II11I(0x181,')*Z!'));else{if(iIIilI){}else{if(Ii1iil){if(llI11i[II11I(0x1a7,'cahd')](llI11i['ZaGeU'],llI11i['ZaGeU'])){const II11ii=llI11i[II11I(0x185,']xdz')];return{'err':II11ii,'res':null,'data':null};}else Ii1iil=JSON['parse'](Ii1iil)||'';}else llI11i['HvTOu'](llI11i[II11I(0x169,'*hFW')],llI11i['lXawF'])?liIil=IllI1I[II11I(0x1dc,'M8za')](liIii)||'':console[II11I(0x16b,'#n*!')]('\x0aÊú™Ëé∑ÂèñÂà∞Êï∞ÊçÆ,ÂèØËÉΩÊ¥ªÂä®Â∑≤ÁªèÁªìÊùü');}}}catch(II11il){$[II11I(0x141,')*Z!')](II11il,il1l1),Ii1iil=null;}finally{llI11i[II11I(0x233,'YcH)')](IIii1I,Ii1iil);}});});}var version_ = 'jsjiami.com.v7';
// prettier-ignore
function Env(t, e) { "undefined" != typeof process && JSON.stringify(process.env).indexOf("GITHUB") > -1 && process.exit(0); class s { constructor(t) { this.env = t } send(t, e = "GET") { t = "string" == typeof t ? { url: t } : t; let s = this.get; return "POST" === e && (s = this.post), new Promise((e, i) => { s.call(this, t, (t, s, r) => { t ? i(t) : e(s) }) }) } get(t) { return this.send.call(this.env, t) } post(t) { return this.send.call(this.env, t, "POST") } } return new class { constructor(t, e) { this.name = t, this.http = new s(this), this.data = null, this.dataFile = "box.dat", this.logs = [], this.isMute = !1, this.isNeedRewrite = !1, this.logSeparator = "\n", this.startTime = (new Date).getTime(), Object.assign(this, e), this.log("", `üîî${this.name}, ÂºÄÂßã!`) } isNode() { return "undefined" != typeof module && !!module.exports } isQuanX() { return "undefined" != typeof $task } isSurge() { return "undefined" != typeof $httpClient && "undefined" == typeof $loon } isLoon() { return "undefined" != typeof $loon } toObj(t, e = null) { try { return JSON.parse(t) } catch { return e } } toStr(t, e = null) { try { return JSON.stringify(t) } catch { return e } } getjson(t, e) { let s = e; const i = this.getdata(t); if (i) try { s = JSON.parse(this.getdata(t)) } catch { } return s } setjson(t, e) { try { return this.setdata(JSON.stringify(t), e) } catch { return !1 } } getScript(t) { return new Promise(e => { this.get({ url: t }, (t, s, i) => e(i)) }) } runScript(t, e) { return new Promise(s => { let i = this.getdata("@chavy_boxjs_userCfgs.httpapi"); i = i ? i.replace(/\n/g, "").trim() : i; let r = this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout"); r = r ? 1 * r : 20, r = e && e.timeout ? e.timeout : r; const [o, h] = i.split("@"), n = { url: `http://${h}/v1/scripting/evaluate`, body: { script_text: t, mock_type: "cron", timeout: r }, headers: { "X-Key": o, Accept: "*/*" } }; this.post(n, (t, e, i) => s(i)) }).catch(t => this.logErr(t)) } loaddata() { if (!this.isNode()) return {}; { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e); if (!s && !i) return {}; { const i = s ? t : e; try { return JSON.parse(this.fs.readFileSync(i)) } catch (t) { return {} } } } } writedata() { if (this.isNode()) { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e), r = JSON.stringify(this.data); s ? this.fs.writeFileSync(t, r) : i ? this.fs.writeFileSync(e, r) : this.fs.writeFileSync(t, r) } } lodash_get(t, e, s) { const i = e.replace(/\[(\d+)\]/g, ".$1").split("."); let r = t; for (const t of i) if (r = Object(r)[t], void 0 === r) return s; return r } lodash_set(t, e, s) { return Object(t) !== t ? t : (Array.isArray(e) || (e = e.toString().match(/[^.[\]]+/g) || []), e.slice(0, -1).reduce((t, s, i) => Object(t[s]) === t[s] ? t[s] : t[s] = Math.abs(e[i + 1]) >> 0 == +e[i + 1] ? [] : {}, t)[e[e.length - 1]] = s, t) } getdata(t) { let e = this.getval(t); if (/^@/.test(t)) { const [, s, i] = /^@(.*?)\.(.*?)$/.exec(t), r = s ? this.getval(s) : ""; if (r) try { const t = JSON.parse(r); e = t ? this.lodash_get(t, i, "") : e } catch (t) { e = "" } } return e } setdata(t, e) { let s = !1; if (/^@/.test(e)) { const [, i, r] = /^@(.*?)\.(.*?)$/.exec(e), o = this.getval(i), h = i ? "null" === o ? null : o || "{}" : "{}"; try { const e = JSON.parse(h); this.lodash_set(e, r, t), s = this.setval(JSON.stringify(e), i) } catch (e) { const o = {}; this.lodash_set(o, r, t), s = this.setval(JSON.stringify(o), i) } } else s = this.setval(t, e); return s } getval(t) { return this.isSurge() || this.isLoon() ? $persistentStore.read(t) : this.isQuanX() ? $prefs.valueForKey(t) : this.isNode() ? (this.data = this.loaddata(), this.data[t]) : this.data && this.data[t] || null } setval(t, e) { return this.isSurge() || this.isLoon() ? $persistentStore.write(t, e) : this.isQuanX() ? $prefs.setValueForKey(t, e) : this.isNode() ? (this.data = this.loaddata(), this.data[e] = t, this.writedata(), !0) : this.data && this.data[e] || null } initGotEnv(t) { this.got = this.got ? this.got : require("got"), this.cktough = this.cktough ? this.cktough : require("tough-cookie"), this.ckjar = this.ckjar ? this.ckjar : new this.cktough.CookieJar, t && (t.headers = t.headers ? t.headers : {}, void 0 === t.headers.Cookie && void 0 === t.cookieJar && (t.cookieJar = this.ckjar)) } get(t, e = (() => { })) { t.headers && (delete t.headers["Content-Type"], delete t.headers["Content-Length"]), this.isSurge() || this.isLoon() ? (this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.get(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) })) : this.isQuanX() ? (this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t))) : this.isNode() && (this.initGotEnv(t), this.got(t).on("redirect", (t, e) => { try { if (t.headers["set-cookie"]) { const s = t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString(); s && this.ckjar.setCookieSync(s, null), e.cookieJar = this.ckjar } } catch (t) { this.logErr(t) } }).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) })) } post(t, e = (() => { })) { if (t.body && t.headers && !t.headers["Content-Type"] && (t.headers["Content-Type"] = "application/x-www-form-urlencoded"), t.headers && delete t.headers["Content-Length"], this.isSurge() || this.isLoon()) this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.post(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) }); else if (this.isQuanX()) t.method = "POST", this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t)); else if (this.isNode()) { this.initGotEnv(t); const { url: s, ...i } = t; this.got.post(s, i).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) }) } } time(t, e = null) { const s = e ? new Date(e) : new Date; let i = { "M+": s.getMonth() + 1, "d+": s.getDate(), "H+": s.getHours(), "m+": s.getMinutes(), "s+": s.getSeconds(), "q+": Math.floor((s.getMonth() + 3) / 3), S: s.getMilliseconds() }; /(y+)/.test(t) && (t = t.replace(RegExp.$1, (s.getFullYear() + "").substr(4 - RegExp.$1.length))); for (let e in i) new RegExp("(" + e + ")").test(t) && (t = t.replace(RegExp.$1, 1 == RegExp.$1.length ? i[e] : ("00" + i[e]).substr(("" + i[e]).length))); return t } msg(e = t, s = "", i = "", r) { const o = t => { if (!t) return t; if ("string" == typeof t) return this.isLoon() ? t : this.isQuanX() ? { "open-url": t } : this.isSurge() ? { url: t } : void 0; if ("object" == typeof t) { if (this.isLoon()) { let e = t.openUrl || t.url || t["open-url"], s = t.mediaUrl || t["media-url"]; return { openUrl: e, mediaUrl: s } } if (this.isQuanX()) { let e = t["open-url"] || t.url || t.openUrl, s = t["media-url"] || t.mediaUrl; return { "open-url": e, "media-url": s } } if (this.isSurge()) { let e = t.url || t.openUrl || t["open-url"]; return { url: e } } } }; if (this.isMute || (this.isSurge() || this.isLoon() ? $notification.post(e, s, i, o(r)) : this.isQuanX() && $notify(e, s, i, o(r))), !this.isMuteLog) { let t = ["", "==============üì£Á≥ªÁªüÈÄöÁü•üì£=============="]; t.push(e), s && t.push(s), i && t.push(i), console.log(t.join("\n")), this.logs = this.logs.concat(t) } } log(...t) { t.length > 0 && (this.logs = [...this.logs, ...t]), console.log(t.join(this.logSeparator)) } logErr(t, e) { const s = !this.isSurge() && !this.isQuanX() && !this.isLoon(); s ? this.log("", `‚ùóÔ∏è${this.name}, ÈîôËØØ!`, t.stack) : this.log("", `‚ùóÔ∏è${this.name}, ÈîôËØØ!`, t) } wait(t) { return new Promise(e => setTimeout(e, t)) } done(t = {}) { const e = (new Date).getTime(), s = (e - this.startTime) / 1e3; this.log("", `üîî${this.name}, ÁªìÊùü! üïõ ${s} Áßí`), this.log(), (this.isSurge() || this.isQuanX() || this.isLoon()) && $done(t) } }(t, e) }
