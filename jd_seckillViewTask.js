/*
39 5 * * * jd_seckillViewTask.js
 */
const $ = new Env('秒杀浏览商品领豆');
var iｉl='jsjiami.com.v7';const I1iIII=iii1II;(function(iilll,il1iI1,IlllIi,iIIiil,i1l1Ii,I1iIIi,I1iIIl){return iilll=iilll>>0x7,I1iIIi='hs',I1iIIl='hs',function(lI1IIl,i1ilI,iii1lI,i1ilI1,Iiilii){const IIii1l=iii1II;i1ilI1='tfi',I1iIIi=i1ilI1+I1iIIi,Iiilii='up',I1iIIl+=Iiilii,I1iIIi=iii1lI(I1iIIi),I1iIIl=iii1lI(I1iIIl),iii1lI=0x0;const Iil1li=lI1IIl();while(!![]&&--iIIiil+i1ilI){try{i1ilI1=parseInt(IIii1l(0x174,'%zQ0'))/0x1+parseInt(IIii1l(0x195,'6RSW'))/0x2+-parseInt(IIii1l(0x11c,'9PPY'))/0x3+parseInt(IIii1l(0x194,'Aylb'))/0x4*(-parseInt(IIii1l(0x18a,'MAQp'))/0x5)+-parseInt(IIii1l(0x163,'f9fJ'))/0x6+-parseInt(IIii1l(0x115,'g#CL'))/0x7+-parseInt(IIii1l(0x165,'Gzv2'))/0x8*(-parseInt(IIii1l(0xe6,'5b(y'))/0x9);}catch(Iiilil){i1ilI1=iii1lI;}finally{Iiilii=Iil1li[I1iIIi]();if(iilll<=iIIiil)iii1lI?i1l1Ii?i1ilI1=Iiilii:i1l1Ii=Iiilii:iii1lI=Iiilii;else{if(iii1lI==i1l1Ii['replace'](/[TuRAXONntqEIfDQMpwVJS=]/g,'')){if(i1ilI1===i1ilI){Iil1li['un'+I1iIIi](Iiilii);break;}Iil1li[I1iIIl](Iiilii);}}}}}(IlllIi,il1iI1,function(Iil1ll,iillI,lI1III,IIliIi,IllIiI,i1il1,I1l111){return iillI='\x73\x70\x6c\x69\x74',Iil1ll=arguments[0x0],Iil1ll=Iil1ll[iillI](''),lI1III=`\x72\x65\x76\x65\x72\x73\x65`,Iil1ll=Iil1ll[lI1III]('\x76'),IIliIi=`\x6a\x6f\x69\x6e`,(0x14f542,Iil1ll[IIliIi](''));});}(0x6200,0x8d3a1,Iii11l,0xc6),Iii11l)&&(iｉl=0xc6);const iil1ii=$['isNode']()?require('./sendNotify'):'',IlIlli=$[I1iIII(0xf1,'JLei')]()?require(I1iIII(0x177,'lVFC')):'',il1i1i=require(I1iIII(0x133,'[DPq'));function iii1II(_0x4f2571,_0xf4fb73){const _0x1ea22c=Iii11l();return iii1II=function(_0x5d445a,_0x32b716){_0x5d445a=_0x5d445a-0xe1;let _0x5ab76d=_0x1ea22c[_0x5d445a];if(iii1II['utjSnx']===undefined){var _0x4d411f=function(_0x30b5c8){const _0x376d96='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x284b65='',_0x168a5b='';for(let _0x3ff075=0x0,_0x38ecb8,_0x13935e,_0x2e74af=0x0;_0x13935e=_0x30b5c8['charAt'](_0x2e74af++);~_0x13935e&&(_0x38ecb8=_0x3ff075%0x4?_0x38ecb8*0x40+_0x13935e:_0x13935e,_0x3ff075++%0x4)?_0x284b65+=String['fromCharCode'](0xff&_0x38ecb8>>(-0x2*_0x3ff075&0x6)):0x0){_0x13935e=_0x376d96['indexOf'](_0x13935e);}for(let _0x1d6e28=0x0,_0xbd0a89=_0x284b65['length'];_0x1d6e28<_0xbd0a89;_0x1d6e28++){_0x168a5b+='%'+('00'+_0x284b65['charCodeAt'](_0x1d6e28)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x168a5b);};const _0x3731b7=function(_0xc9a4b0,_0x4883f5){let _0x3a2307=[],_0x3df26c=0x0,_0x578512,_0x20fed1='';_0xc9a4b0=_0x4d411f(_0xc9a4b0);let _0x5ca81f;for(_0x5ca81f=0x0;_0x5ca81f<0x100;_0x5ca81f++){_0x3a2307[_0x5ca81f]=_0x5ca81f;}for(_0x5ca81f=0x0;_0x5ca81f<0x100;_0x5ca81f++){_0x3df26c=(_0x3df26c+_0x3a2307[_0x5ca81f]+_0x4883f5['charCodeAt'](_0x5ca81f%_0x4883f5['length']))%0x100,_0x578512=_0x3a2307[_0x5ca81f],_0x3a2307[_0x5ca81f]=_0x3a2307[_0x3df26c],_0x3a2307[_0x3df26c]=_0x578512;}_0x5ca81f=0x0,_0x3df26c=0x0;for(let _0x462114=0x0;_0x462114<_0xc9a4b0['length'];_0x462114++){_0x5ca81f=(_0x5ca81f+0x1)%0x100,_0x3df26c=(_0x3df26c+_0x3a2307[_0x5ca81f])%0x100,_0x578512=_0x3a2307[_0x5ca81f],_0x3a2307[_0x5ca81f]=_0x3a2307[_0x3df26c],_0x3a2307[_0x3df26c]=_0x578512,_0x20fed1+=String['fromCharCode'](_0xc9a4b0['charCodeAt'](_0x462114)^_0x3a2307[(_0x3a2307[_0x5ca81f]+_0x3a2307[_0x3df26c])%0x100]);}return _0x20fed1;};iii1II['zdriBc']=_0x3731b7,_0x4f2571=arguments,iii1II['utjSnx']=!![];}const _0x37c84e=_0x1ea22c[0x0],_0x3f50e6=_0x5d445a+_0x37c84e,_0x2705f5=_0x4f2571[_0x3f50e6];return!_0x2705f5?(iii1II['kEjkPk']===undefined&&(iii1II['kEjkPk']=!![]),_0x5ab76d=iii1II['zdriBc'](_0x5ab76d,_0x32b716),_0x4f2571[_0x3f50e6]=_0x5ab76d):_0x5ab76d=_0x2705f5,_0x5ab76d;},iii1II(_0x4f2571,_0xf4fb73);}let lil111=[],i11ilI='',ii1ii1='';function Iii11l(){const lI1II1=(function(){return[...[iｉl,'TAjqsjIifXaQmnRNiMu.wcofVmOJ.pvN7uqSEVtD==','v8kpzSkIW7vluGPdFmoTaLyxWPJdRMqYD8kIWQlcNaO','gCkTA8kGWPm','AgmGewe','5Rsg6kAjrq','WQDpdwO+','gCkDEmk8WQi','W5RdSbWUW5VcP27cHSkSuColW4tcTW','BSo4cuddMG','r2uIW73dRG','amk/DCk8WPhdHSoC','WR96m8oc','xsbZfCkA','EJqMrSoP','irCjWRz4','WQjCpmowW7G','fmkFWQrX6k+s5Ror5AAT6lsV77+l6k2p5QoF5P+d57Ym6lEV6yw96kY1','iqulWP1VW5tdKYD7','W5pcQvK','WPVdTCk3','A2FcMSkqWO8','oSopFmk9W7vcuM9v','er4wWP9OW5BdSau','umo8cW','WRddJ8kAlSkd','W4ZdUI7dJmkN','eCouz8kMW68DdGPZFmoUcrqjW6NdRMrFE8kGWQldNayQDCofESk5WQVcMCkYWQJcHaiGW6dcVH7dIGbuqb8','W47cScPBxa','6k+Q5yQU6zUh5OsC5z6aW7dcULtdNCkl6l255yAY5Qgc5l+/5Pst5ysz5A6IW57LUytORAFPGipOVltOHRdMN47LJ53OJyVLJ6hcOmk9DmkjWPBcUa','xxuLW7BdQa','hYKYt8kJ','uSoYavm','amkJq8k2WRu','dZH3WQFdUCkgWROxvNDhW7VcG8k2xGlcGSkD','W4xcMXddMfjCFq','W6G4EmkJW77cJa','WRxcILVcSmoXW4bBWRX+lCkUW6G','W5ZcRuJdQ8kxu8ke','W6HAcSo/6k+B5Rct5AwZ6lE4772f6k+/5Qoj5P6h576Q6lAS6yEv6k2E','nrqnWPbGW4FdMW','W4G0xCk3W6K','l10wy8oK','qqpdKYS0','cSouyCk/W7ja','guZcQGzN','ls4ltW','W4RdHYS2W4q','W5ldKrZdUSkf','WO/cLdCRW58','W4xcS8oVsmo5W7BdLmokvNn5kG','EgCYW7FdG8kgWQqz','WQBcPmoBgSk1W5nrWQS','W63dIcpdPSkJWP1Y','5lMO5PsB5BAw5AYW5OIJ5RwN6kEu77YG77Yt77YL','wNWbh0TmWPpdR3RdIbhcQuNcINHcsZGYqvddVZyIA8obpJVdHhBdUmkquG','s8o/WOdcQu4bWRi','A8o+jwBdGW','zsBdNdW7WOC','W7CQwhxcJa','W4ughq','W4udWR50jq','W5dcRGHYW5O','gWubWR1G','sxuJW6q'],...(function(){return[...['5B2a5AwY5RE76kw55zAh5zgAgK7dNG','ACk8sq','ixikBSoaxmoLW6pcJupdRSok','eHRdRLZdGCku','W7ySy0dcVW','z24ptSkivq3dGmk7eG','s8kRzmkdWOm','WPDKdvG1','WO7cKuxcO8oUW5425B+f5AEh44g/5lMx5lQA6lEz5y+I','WR7cVCkDWQZcMG','tZFdVeZdMa','W5dcIJbNBa','umkGs8kLWOS1W7JdJa','ACoyW4q','W5mXzSk+W6e','W5pcPbfqW7hdU8khWRm','BCkNwSkNWRzUWRRcHLNcU8kqW49oWRi7zSozWPVcH8ko','sf7cRa','W5pdVJfvxCkKl8k4WOOGW4TvFSoWWRpdMW','W7NcVwrKW4RdMCoG','lYJcGSk7cMz7','xCkWWPbDxq','ACosW41oESkd','W6C4CmknW6xcMW','WPpdHLhcJfLLvxjWCq','W6rNnvj4','WOfgFtKw','gu7cQdvmW77cH8o7','ASkSW40yFXDqrIXvW6FcImkgo3FcLhFdMtdcM8kdvConW5pdI8kVWRxcLGHXjWnKW4tcJdVdLvFcImknxXGSW4BdGmoKWPxdQvb/W47cVYBcTs1ommkims0BkGpdJfyWe8kFW4PIWQW','W48cgq','W5VdSmoTa8kH','W4ayr0lcVa','W50kuG','W6ddNaVdK8kM','EICJBXxcMSkOW7/cPXa','mvJcLrpcUCkQW6ldN8klehDaW4q','W5FcU0xdQSk+t8kh','WOLiEHSB','iaiJySkU','W4iYDCkDWORdJ8ksWRqaAq','W43cRabiW5O','dCo1W57dVSkR','W4yNmgVdOa','hr3dPK3dNa','jsqltCk/uG','pCoHhSoGW7vLW5pdKx3cN8k9WRC','WPRdL2D9kGG2aq','W61Nnva','WPHqtb41','W40VWR12ca','W7aPASkbhgaeWQuDxKS0','W4xcHIpcMJu8DG','W4BcNXddNq','W43dQYxdN8k+','s3KcgW','WOZdMwqnW6vnDCo+xSoOW7L8','cSo9W6VdTCkeW5LHjW','Cda4','d2lcHt1Z','WQDkpJpdTCoG','mCoRD8k6WOG3W4FdQa','WPBcJmkWWOFcVCkc','wgmEgeTk5Bsa5AAQ5PwBWODsWQy','5Rsx6kE35A+v5OI6776G6i+p5B+UbG','WOT0nCoDrtqiWPL7'],...(function(){return['5lQk5lIT6lE95yYF','WPzjnMKr','WQHwaHNdSmoMWQi','hSofz8kYW71tqa','eXBdTKZdHCksWPi','WQLCbdJdSmoXWQS','W5Kkwv7cVL1z','B2DjpSkkamo7W7FcI0pcP8ksWOPPBmkK','eSo0WPGoW4C1wtZdGa','pH4E','EIrqoG','iN5XoJu','b8oPWOytW4WG','WPFcI8kkWPJcQSoDbfBdTMlcQ8ofW7anW4W5WPuMW4CXW6RcTSkYdfxcQSo0W4VdUCk0W6eCWRKoja4/wSkcW4FdRmo7W5tcQLtdGMVcIJtcPsJdP8oSFfy3jCoOWQOBt8kyvmotWOiEWPTBWR3cKYC','shGdgKXiWPVdVwO','WP1iAa8bza','W73cRYbgymkUfSkK','WP7dQCkCWQdcRWfY','wNWyxu8bWPJdVZ3dHbddQW','dCoVWO0','F8o8a13dM8kOx8krlW','W5lcP04','WQjwfW','BaVdI0ddVCo0','WOX5k8ow','W7KOBSkdhMCWWPWisNmX','hMnWlqpcLCkWW7K','WQ9jadxdTCk4WRNdM8kMW7FdHt81pCkGW5TrA1ddKrJcKr7dGZ46WOVdKefqW7O9imo1WRjrWPJdGbdcUIDpWQHWoaOdW4eRA8kmzYVcRColW4BcVqGJWQSNs8kKBNTHWQK7zCoGWOCGWOZdJCowWRxcVLbEF8khCvXDW61TWRCfWPf2hCkK','W78brwZdU8oiWOpdOCkJW4W','W6W/WPG','W5tcOsfzW44','W5X1jenEo8oZW5q','CCkiWOdcImo0WQ9ZgCkcWQ7cLgy','W5RcQazFW57dRSkl','AdtdPJi','gmo1WOyFW40','W4BdKCoWeCkj','W77cO2T3W4ldPSoTWOxdQXrq','uCkBDmk4WOW','W5SSBmkpWPFdKmkbW7rOealdO8oF','ydRdTq','WRhdLCktWOhcHq','W4K/xh/cNq','WPRdIKH+oau9','5lMt5lUJ6lEy5yYF','W7pcU20','m8oCW5RdLCkpW7racCkwWPu','b8kLESk4WRJdJSoFvW','W7JcRd1aqq','oWivWPTMW5RdLa','W5/cRb/cHtm','W4OwC0hcJW','sw0Ff01c','W44mdG','g2z7lYK','W63cTwrHW4NdMa','DSkNxmk+WQSZW7ZdJ1a','W4lOR6ZPHPFMLiBNMzFLVitOJ7xLJiTdyh0wWOSWiSkKW6G3WQNcNmkVWPrKW7OHW6ldIX4vECoYstxdQmodWOSGW649aadcUCodWQhdO8kJqCoXwqFdUmoa','Ar3dQuJdRSo1WRW','y8onW5r+va','jcarsCkJ','iYKBWPfh'];}())];}())];}());Iii11l=function(){return lI1II1;};return Iii11l();};if($[I1iIII(0x16b,'BTW8')]()){Object['keys'](IlIlli)[I1iIII(0xf7,'xJ$T')](lllilI=>{lil111['push'](IlIlli[lllilI]);});if(process['env'][I1iIII(0xec,'g#CL')]&&process['env']['JD_DEBUG']==='false')console[I1iIII(0x11d,'BTW8')]=()=>{};}else lil111=[$[I1iIII(0x154,'MAQp')](I1iIII(0x148,'*SCg')),$[I1iIII(0xf9,'v0n2')](I1iIII(0xf4,'5b(y')),...ii1iiI($[I1iIII(0xfa,'xJ$T')](I1iIII(0x147,'[DPq'))||'[]')[I1iIII(0x144,'xWk5')](ilil11=>ilil11['cookie'])][I1iIII(0x101,'#8]K')](illlI1=>!!illlI1);!(async()=>{const liiI11=I1iIII,IIIl11={'ioZeC':function(I1lIi1,liiIIi){return I1lIi1===liiIIi;},'ilSbq':'https://bean.m.jd.com/bean/signIndex.action','RQrdG':function(lil11I){return lil11I();},'xVuSB':function(Iliii1,iIiIi){return Iliii1<iIiIi;},'GSmDU':function(iil1ll,iiilil){return iil1ll!==iiilil;},'DOASH':'yeDVh','MVAxk':function(iil1li,lillIl){return iil1li(lillIl);},'WmIPq':function(iIiIl,iiilii){return iIiIl+iiilii;},'VjssA':function(li1i1i,IlIli1){return li1i1i-IlIli1;},'xENcq':'TvCCQ','xouQh':function(illIiI,lI1lli){return illIiI(lI1lli);},'sYPpa':function(Ill1l,llI1Il){return Ill1l!==llI1Il;},'SoQbC':liiI11(0x19b,'g#CL'),'gUQKV':liiI11(0xe4,'6I!M')};if(!lil111[0x0]){$[liiI11(0x192,'7P&$')]($[liiI11(0xff,'%zQ0')],'【提示】请先获取京东账号一cookie\x0a直接使用NobyDa的京东签到获取',IIIl11[liiI11(0x113,'Jx$W')],{'open-url':IIIl11[liiI11(0x113,'Jx$W')]});return;}$['UA']=il1i1i['genUA']($[liiI11(0x10f,'Aylb')]),await IIIl11['RQrdG'](llllI);for(let ii1iii=0x0;IIIl11[liiI11(0x17d,'qDB@')](ii1iii,lil111[liiI11(0x10c,'6RSW')]);ii1iii++){if(lil111[ii1iii]){if(IIIl11[liiI11(0x16c,'7P&$')](IIIl11[liiI11(0x14a,'f9fJ')],IIIl11[liiI11(0x16e,'Li4v')])){if(IIli1i){IllIIi=IllIIl[liiI11(0x19a,'Jx$W')](IiiIi1);if(l1ii1[liiI11(0xe7,'d0*4')]==='1'){}else IIIl11[liiI11(0x152,'adkj')](ii1ll[liiI11(0xfb,'7P&$')],'0')&&(lliiil[liiI11(0x166,'!aNc')]=![]);}}else{i11ilI=lil111[ii1iii],$[liiI11(0x17e,'*xjF')]=IIIl11[liiI11(0x15c,'BTW8')](decodeURIComponent,i11ilI[liiI11(0x131,'lVFC')](/pt_pin=([^; ]+)(?=;?)/)&&i11ilI['match'](/pt_pin=([^; ]+)(?=;?)/)[0x1]),$[liiI11(0x19d,'v0n2')]=IIIl11[liiI11(0x16a,'jmRa')](ii1iii,0x1),$[liiI11(0x106,'3Evx')]=!![],$[liiI11(0x18d,'k^Xd')]='',$['UA']=il1i1i[liiI11(0x13f,'13SX')]($['UserName']),console[liiI11(0x173,'*xjF')](liiI11(0x17a,'!aNc')+$[liiI11(0x187,'Fekx')]+'】'+($[liiI11(0x181,'Jx$W')]||$[liiI11(0x105,'qDB@')])+liiI11(0x199,'9PPY'));if(!$[liiI11(0x186,'KRBm')]){$[liiI11(0x112,'Li4v')]($['name'],'【提示】cookie已失效',liiI11(0xf5,'8zj[')+$[liiI11(0x100,'Aylb')]+'\x20'+($[liiI11(0x124,'adkj')]||$[liiI11(0x114,'RHfK')])+liiI11(0x12e,'5b(y'),{'open-url':liiI11(0x14c,'[DPq')});$[liiI11(0xef,'xJ$T')]()&&await iil1ii[liiI11(0x123,'g#CL')]($[liiI11(0x151,'jmRa')]+liiI11(0xf2,'x8$6')+$[liiI11(0x164,'JDTf')],liiI11(0x121,'JLei')+$['index']+'\x20'+$['UserName']+'\x0a请重新登录获取cookie');continue;}let Ill1i=await IIIl11[liiI11(0x146,'8zj[')](lllil1,liiI11(0x184,'qDB@'));if(Ill1i['data']?.['taskThreshold']&&!Ill1i[liiI11(0xe8,'MAQp')]?.[liiI11(0x11a,'qVRi')]){$[liiI11(0x10a,'xWk5')](liiI11(0x172,'g#CL'));let ii1iil=i11il1($['skulist'],IIIl11[liiI11(0x161,'!aNc')](Ill1i[liiI11(0x117,'BTW8')][liiI11(0x139,'Lva9')],Ill1i[liiI11(0xe3,'RHfK')]['taskProgress']));for(let lllI1l of ii1iil){IIIl11['ioZeC'](liiI11(0x11b,'*xjF'),IIIl11[liiI11(0xee,'k^Xd')])?(i1illl[liiI11(0x145,'3Evx')](''+I1llil[liiI11(0x12d,'*xjF')](I1llii)),lilIll[liiI11(0x149,'jmRa')](liiI11(0x142,'Fekx'))):(console['log'](liiI11(0x136,'lVFC')+lllI1l),Ill1i=await IIIl11[liiI11(0x197,'6I!M')](lllil1,liiI11(0xeb,'zDP!')+lllI1l+liiI11(0x153,'JDTf')),await $['wait'](0x7d0));}Ill1i=await lllil1(liiI11(0xfc,'%zQ0')),Ill1i[liiI11(0x171,'JDTf')]?.['awardStatus']?console['log'](liiI11(0xf3,'W(E$')+Ill1i[liiI11(0x10d,'9PPY')][liiI11(0x157,'xWk5')]+'豆'):console['log'](JSON[liiI11(0x143,'*SCg')](Ill1i));}else{if(IIIl11[liiI11(0x127,'d0*4')](IIIl11[liiI11(0x135,'x8$6')],IIIl11['gUQKV']))$[liiI11(0x108,'#8]K')](liiI11(0x167,'MAQp'));else return l1llIi[liiI11(0xf6,'FI5E')](II1llI);}await $[liiI11(0x13d,'5b(y')](0xbb8);}}}})()['catch'](lllI1i=>{const ililI1=I1iIII;$[ililI1(0xfe,'*SCg')]('','❌\x20'+$['name']+',\x20失败!\x20原因:\x20'+lllI1i+'!','');})[I1iIII(0x185,'qVRi')](()=>{$['done']();});async function llllI(){const IIii1i=I1iIII,li1i1l={'jquxc':function(lI1lll,iIiII){return lI1lll===iIiII;},'PYYow':IIii1i(0xe5,'Li4v'),'sfpBy':function(iil1lI,iiiliI){return iil1lI(iiiliI);}};let II1i1={'url':IIii1i(0x18e,'rAYT'),'headers':{'User-Agent':$['UA']}};return new Promise(async li1i1I=>{const i1ili=IIii1i;$[i1ili(0x16d,'n2sZ')](II1i1,async(illIii,ii1il1,lI1llI)=>{const Iiill1=i1ili;try{li1i1l[Iiill1(0x13b,'JDTf')](li1i1l['PYYow'],Iiill1(0x15a,'h)6v'))?illIii?(console[Iiill1(0x10b,'xJ$T')](''+JSON['stringify'](illIii)),console['log']('\x20API请求失败，请检查网路重试')):(lI1llI=lI1llI[Iiill1(0x18b,'RHfK')](/\"skuId\":\"(\d+)\"/g),$['skulist']=[...new Set(lI1llI[Iiill1(0x18f,'n2sZ')](illIil=>illIil['match'](/\d+/)[0x0]))]):I1lliI[Iiill1(0x104,'6I!M')](llIllI,I1ilI1);}catch(i11iiI){$[Iiill1(0x155,'h)6v')](i11iiI,ii1il1);}finally{li1i1l[Iiill1(0x140,'*SCg')](li1i1I,lI1llI);}});});}async function lllil1(lIli11){const I1iII1=I1iIII,lllI1I={'pQaoT':function(IlIlii,i1l1i1){return IlIlii>i1l1i1;},'IPJVz':I1iII1(0x148,'*SCg'),'AgIpJ':'CookiesJD','zoFpV':'fOQgh','ItxIa':'WUvOh','PWflq':'tsIOP','aYDqF':I1iII1(0x125,'qDB@'),'TMrfq':I1iII1(0x160,'Lva9'),'Rkevh':function(liil11,iiillI){return liil11(iiillI);},'DeGhK':I1iII1(0x107,'x8$6'),'HAAEc':I1iII1(0x182,'*xjF'),'FUVqf':I1iII1(0x102,'JLei')};let lillI1={'url':'https://api.m.jd.com/client.action','body':I1iII1(0x110,'xJ$T')+lIli11+'&functionId=seckillViewTask&t='+Date[I1iII1(0x183,'8zj[')](),'headers':{'Host':lllI1I['DeGhK'],'Origin':lllI1I[I1iII1(0x14b,'!aNc')],'Referer':lllI1I[I1iII1(0x176,'7P&$')],'Content-Type':I1iII1(0x168,'x8$6'),'User-Agent':$['UA'],'Cookie':i11ilI}};return new Promise(async l1l111=>{$['post'](lillI1,async(l1iIII,llI1I1,IlIlil)=>{const iill1=iii1II,lIli1I={'FOCNM':function(II1il,lllI11){return II1il-lllI11;},'iRLNr':function(I1lIll,I1lIli){const lilII1=iii1II;return lllI1I[lilII1(0x138,'adkj')](I1lIll,I1lIli);},'nkaXe':function(II1ii,IIIIII){return II1ii*IIIIII;},'dDYYY':function(lillII,ii1ilI){return lillII+ii1ilI;},'Pvnpd':lllI1I[iill1(0xe9,'!aNc')],'WfyXm':iill1(0x109,'jmRa'),'JDcaX':lllI1I[iill1(0x137,'FI5E')]};if('fOQgh'!==lllI1I[iill1(0x128,'7P&$')])i1ill1[iill1(0x15f,'lVFC')]();else try{if(l1iIII){if(iill1(0x15b,'W(E$')!==lllI1I[iill1(0x170,'*SCg')])console['log'](''+JSON[iill1(0x103,'x8$6')](l1iIII)),console[iill1(0x122,'qVRi')](iill1(0x158,'5b(y'));else{for(let liil1I=lIli1I[iill1(0x11e,'3Evx')](I11iIi['length'],0x1);lIli1I['iRLNr'](liil1I,0x0);liil1I--){const i11ii1=l1iIl[iill1(0x14d,'qDB@')](lIli1I[iill1(0x15e,'k^Xd')](illIll[iill1(0x12c,'qVRi')](),lIli1I[iill1(0x19c,'n2sZ')](liil1I,0x1)));[iIli1I[liil1I],Iiil1[i11ii1]]=[iiilli[i11ii1],l1iIIl[liil1I]];}return lIIill;}}else lllI1I['PWflq']!==lllI1I['aYDqF']?IlIlil=JSON[iill1(0x14f,'JDTf')](IlIlil):lI1Iii=[i1li[iill1(0xf8,'[DPq')](lIli1I[iill1(0x12b,'Aylb')]),li1II[iill1(0x159,'*SCg')](lIli1I[iill1(0x180,'h)6v')]),...IliI11(i1ll[iill1(0x116,'Jx$W')](lIli1I[iill1(0x141,'9PPY')])||'[]')[iill1(0xed,'13SX')](l1iII1=>l1iII1[iill1(0x189,'h)6v')])][iill1(0x175,'v0n2')](iiill1=>!!iiill1);}catch(lIli1i){lllI1I[iill1(0x119,'Gzv2')]!==iill1(0x162,'zDP!')?$['logErr'](lIli1i,llI1I1):lilil[iill1(0x169,'cDB&')]=![];}finally{lllI1I[iill1(0x13a,'jmRa')](l1l111,IlIlil);}});});}function iil1il(){const I1lIlI={'OYYkQ':'https://plogin.m.jd.com/cgi-bin/ml/islogin','fyMZL':'https://h5.m.jd.com/'};return new Promise(ii1ill=>{const iii1l1=iii1II,II1iI={'yulxd':function(lIli1l,lillIi){return lIli1l(lillIi);},'UeVqf':function(illIi1,ii1ili){return illIi1===ii1ili;},'NxJTF':function(liil1i){return liil1i();}},llI1II={'url':I1lIlI[iii1l1(0x17c,'6RSW')],'headers':{'Cookie':i11ilI,'referer':I1lIlI['fyMZL'],'User-Agent':$['UA']},'timeout':0x2710};$['get'](llI1II,(lI1lil,i1l1iI,liil1l)=>{const IIliIl=iii1l1;try{if(liil1l){if(IIliIl(0x16f,'Jx$W')===IIliIl(0x17b,'JLei'))II1iI[IIliIl(0x118,'#8]K')](II1li1,l1lIlI);else{liil1l=JSON[IIliIl(0x18c,'6I!M')](liil1l);if(liil1l[IIliIl(0x196,'xWk5')]==='1'){}else II1iI['UeVqf'](liil1l[IIliIl(0x196,'xWk5')],'0')&&($[IIliIl(0x12f,'6RSW')]=![]);}}}catch(Iiili1){console[IIliIl(0x17f,'T4ae')](Iiili1);}finally{II1iI[IIliIl(0x178,'*xjF')](ii1ill);}});});}function ilil1I(Iil1l1){const II11ll=I1iIII,i1i11I={'VhWeh':function(il1iIl,iii1ii){return il1iIl>iii1ii;},'IlotY':II11ll(0x132,'*SCg'),'dgdZb':function(il1iIi,iii1il){return il1iIi+iii1il;}};for(let II11li=Iil1l1[II11ll(0x188,'T4ae')]-0x1;i1i11I[II11ll(0x150,'lVFC')](II11li,0x0);II11li--){if(i1i11I['IlotY']===i1i11I[II11ll(0x190,'Gzv2')]){const I1l11i=Math['floor'](Math[II11ll(0x129,'x8$6')]()*i1i11I[II11ll(0x193,'!aNc')](II11li,0x1));[Iil1l1[II11li],Iil1l1[I1l11i]]=[Iil1l1[I1l11i],Iil1l1[II11li]];}else{IIll1=ll1il[II11ll(0x134,'adkj')](IiiIiI);if(lilii[II11ll(0x13c,'adkj')]==='1'){}else l1iiI[II11ll(0x126,'*SCg')]==='0'&&(Illl1I[II11ll(0x120,'Vt^#')]=![]);}}return Iil1l1;}function i11il1(liiI1i,ililIi){const liiI1I=I1iIII,lilIIl={'yFiND':function(i1l1II,i1ill){return i1l1II===i1ill;}},ililIl=ilil1I(liiI1i),liiI1l=[];for(let I1l11l=0x0;I1l11l<ililIl['length'];I1l11l++){if(lilIIl[liiI1I(0x11f,'7P&$')](liiI1l[liiI1I(0x19e,'lVFC')],ililIi))break;const lilIIi=ililIl[I1l11l];!liiI1l[liiI1I(0xe2,'Vt^#')](lilIIi)&&liiI1l[liiI1I(0xea,'x8$6')](lilIIi);}return liiI1l;}function ii1iiI(i1l1Il){const ililII=I1iIII,llIli={'iCFHe':function(i1i11l,i1i11i){return i1i11l==i1i11i;},'qLIBA':ililII(0x15d,'[DPq'),'fzwWZ':function(II11l1,Iil1lI){return II11l1!==Iil1lI;},'tyMBk':ililII(0x14e,'13SX')};if(llIli[ililII(0x198,'lVFC')](typeof i1l1Il,llIli[ililII(0x179,'FI5E')]))try{if(llIli[ililII(0x130,'T4ae')](ililII(0x13e,'%zQ0'),'ScKbV'))return JSON[ililII(0x191,'7P&$')](i1l1Il);else i1lI['log'](IlI1l[ililII(0xfd,'#8]K')](lilIil));}catch(iii1iI){return console[ililII(0x12a,'n2sZ')](iii1iI),$['msg']($[ililII(0xff,'%zQ0')],'',llIli['tyMBk']),[];}}var version_ = 'jsjiami.com.v7';
// prettier-ignore
function Env(t, e) { "undefined" != typeof process && JSON.stringify(process.env).indexOf("GITHUB") > -1 && process.exit(0); class s { constructor(t) { this.env = t } send(t, e = "GET") { t = "string" == typeof t ? { url: t } : t; let s = this.get; return "POST" === e && (s = this.post), new Promise((e, i) => { s.call(this, t, (t, s, r) => { t ? i(t) : e(s) }) }) } get(t) { return this.send.call(this.env, t) } post(t) { return this.send.call(this.env, t, "POST") } } return new class { constructor(t, e) { this.name = t, this.http = new s(this), this.data = null, this.dataFile = "box.dat", this.logs = [], this.isMute = !1, this.isNeedRewrite = !1, this.logSeparator = "\n", this.startTime = (new Date).getTime(), Object.assign(this, e), this.log("", `🔔${this.name}, 开始!`) } isNode() { return "undefined" != typeof module && !!module.exports } isQuanX() { return "undefined" != typeof $task } isSurge() { return "undefined" != typeof $httpClient && "undefined" == typeof $loon } isLoon() { return "undefined" != typeof $loon } toObj(t, e = null) { try { return JSON.parse(t) } catch { return e } } toStr(t, e = null) { try { return JSON.stringify(t) } catch { return e } } getjson(t, e) { let s = e; const i = this.getdata(t); if (i) try { s = JSON.parse(this.getdata(t)) } catch { } return s } setjson(t, e) { try { return this.setdata(JSON.stringify(t), e) } catch { return !1 } } getScript(t) { return new Promise(e => { this.get({ url: t }, (t, s, i) => e(i)) }) } runScript(t, e) { return new Promise(s => { let i = this.getdata("@chavy_boxjs_userCfgs.httpapi"); i = i ? i.replace(/\n/g, "").trim() : i; let r = this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout"); r = r ? 1 * r : 20, r = e && e.timeout ? e.timeout : r; const [o, h] = i.split("@"), n = { url: `http://${h}/v1/scripting/evaluate`, body: { script_text: t, mock_type: "cron", timeout: r }, headers: { "X-Key": o, Accept: "*/*" } }; this.post(n, (t, e, i) => s(i)) }).catch(t => this.logErr(t)) } loaddata() { if (!this.isNode()) return {}; { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e); if (!s && !i) return {}; { const i = s ? t : e; try { return JSON.parse(this.fs.readFileSync(i)) } catch (t) { return {} } } } } writedata() { if (this.isNode()) { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e), r = JSON.stringify(this.data); s ? this.fs.writeFileSync(t, r) : i ? this.fs.writeFileSync(e, r) : this.fs.writeFileSync(t, r) } } lodash_get(t, e, s) { const i = e.replace(/\[(\d+)\]/g, ".$1").split("."); let r = t; for (const t of i) if (r = Object(r)[t], void 0 === r) return s; return r } lodash_set(t, e, s) { return Object(t) !== t ? t : (Array.isArray(e) || (e = e.toString().match(/[^.[\]]+/g) || []), e.slice(0, -1).reduce((t, s, i) => Object(t[s]) === t[s] ? t[s] : t[s] = Math.abs(e[i + 1]) >> 0 == +e[i + 1] ? [] : {}, t)[e[e.length - 1]] = s, t) } getdata(t) { let e = this.getval(t); if (/^@/.test(t)) { const [, s, i] = /^@(.*?)\.(.*?)$/.exec(t), r = s ? this.getval(s) : ""; if (r) try { const t = JSON.parse(r); e = t ? this.lodash_get(t, i, "") : e } catch (t) { e = "" } } return e } setdata(t, e) { let s = !1; if (/^@/.test(e)) { const [, i, r] = /^@(.*?)\.(.*?)$/.exec(e), o = this.getval(i), h = i ? "null" === o ? null : o || "{}" : "{}"; try { const e = JSON.parse(h); this.lodash_set(e, r, t), s = this.setval(JSON.stringify(e), i) } catch (e) { const o = {}; this.lodash_set(o, r, t), s = this.setval(JSON.stringify(o), i) } } else s = this.setval(t, e); return s } getval(t) { return this.isSurge() || this.isLoon() ? $persistentStore.read(t) : this.isQuanX() ? $prefs.valueForKey(t) : this.isNode() ? (this.data = this.loaddata(), this.data[t]) : this.data && this.data[t] || null } setval(t, e) { return this.isSurge() || this.isLoon() ? $persistentStore.write(t, e) : this.isQuanX() ? $prefs.setValueForKey(t, e) : this.isNode() ? (this.data = this.loaddata(), this.data[e] = t, this.writedata(), !0) : this.data && this.data[e] || null } initGotEnv(t) { this.got = this.got ? this.got : require("got"), this.cktough = this.cktough ? this.cktough : require("tough-cookie"), this.ckjar = this.ckjar ? this.ckjar : new this.cktough.CookieJar, t && (t.headers = t.headers ? t.headers : {}, void 0 === t.headers.Cookie && void 0 === t.cookieJar && (t.cookieJar = this.ckjar)) } get(t, e = (() => { })) { t.headers && (delete t.headers["Content-Type"], delete t.headers["Content-Length"]), this.isSurge() || this.isLoon() ? (this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.get(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) })) : this.isQuanX() ? (this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t))) : this.isNode() && (this.initGotEnv(t), this.got(t).on("redirect", (t, e) => { try { if (t.headers["set-cookie"]) { const s = t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString(); s && this.ckjar.setCookieSync(s, null), e.cookieJar = this.ckjar } } catch (t) { this.logErr(t) } }).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) })) } post(t, e = (() => { })) { if (t.body && t.headers && !t.headers["Content-Type"] && (t.headers["Content-Type"] = "application/x-www-form-urlencoded"), t.headers && delete t.headers["Content-Length"], this.isSurge() || this.isLoon()) this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.post(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) }); else if (this.isQuanX()) t.method = "POST", this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t)); else if (this.isNode()) { this.initGotEnv(t); const { url: s, ...i } = t; this.got.post(s, i).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) }) } } time(t, e = null) { const s = e ? new Date(e) : new Date; let i = { "M+": s.getMonth() + 1, "d+": s.getDate(), "H+": s.getHours(), "m+": s.getMinutes(), "s+": s.getSeconds(), "q+": Math.floor((s.getMonth() + 3) / 3), S: s.getMilliseconds() }; /(y+)/.test(t) && (t = t.replace(RegExp.$1, (s.getFullYear() + "").substr(4 - RegExp.$1.length))); for (let e in i) new RegExp("(" + e + ")").test(t) && (t = t.replace(RegExp.$1, 1 == RegExp.$1.length ? i[e] : ("00" + i[e]).substr(("" + i[e]).length))); return t } msg(e = t, s = "", i = "", r) { const o = t => { if (!t) return t; if ("string" == typeof t) return this.isLoon() ? t : this.isQuanX() ? { "open-url": t } : this.isSurge() ? { url: t } : void 0; if ("object" == typeof t) { if (this.isLoon()) { let e = t.openUrl || t.url || t["open-url"], s = t.mediaUrl || t["media-url"]; return { openUrl: e, mediaUrl: s } } if (this.isQuanX()) { let e = t["open-url"] || t.url || t.openUrl, s = t["media-url"] || t.mediaUrl; return { "open-url": e, "media-url": s } } if (this.isSurge()) { let e = t.url || t.openUrl || t["open-url"]; return { url: e } } } }; if (this.isMute || (this.isSurge() || this.isLoon() ? $notification.post(e, s, i, o(r)) : this.isQuanX() && $notify(e, s, i, o(r))), !this.isMuteLog) { let t = ["", "==============📣系统通知📣=============="]; t.push(e), s && t.push(s), i && t.push(i), console.log(t.join("\n")), this.logs = this.logs.concat(t) } } log(...t) { t.length > 0 && (this.logs = [...this.logs, ...t]), console.log(t.join(this.logSeparator)) } logErr(t, e) { const s = !this.isSurge() && !this.isQuanX() && !this.isLoon(); s ? this.log("", `❗️${this.name}, 错误!`, t.stack) : this.log("", `❗️${this.name}, 错误!`, t) } wait(t) { return new Promise(e => setTimeout(e, t)) } done(t = {}) { const e = (new Date).getTime(), s = (e - this.startTime) / 1e3; this.log("", `🔔${this.name}, 结束! 🕛 ${s} 秒`), this.log(), (this.isSurge() || this.isQuanX() || this.isLoon()) && $done(t) } }(t, e) }