/*
清空购物车

jd_clean_cart_pin  // 清空定义PIN账号，多个用 & 隔开,不填清空全部账号

cron "1 1 1 1 *" script-path=jd_clean_cart.js, tag=清空购物车

 */
const $ = new Env('清空购物车');
var iｉl='jsjiami.com.v7';const IliiiI=iii1II;(function(ilil1l,illlIi,I1lIii,IiI1I,illlIl,i11ill,IIIIIi){return ilil1l=ilil1l>>0x3,i11ill='hs',IIIIIi='hs',function(IIIIIl,I1lIil,IIIl1i,liiII1,IIIl1l){const lllili=iii1II;liiII1='tfi',i11ill=liiII1+i11ill,IIIl1l='up',IIIIIi+=IIIl1l,i11ill=IIIl1i(i11ill),IIIIIi=IIIl1i(IIIIIi),IIIl1i=0x0;const lllll=IIIIIl();while(!![]&&--IiI1I+I1lIil){try{liiII1=-parseInt(lllili(0x178,'6p^S'))/0x1+-parseInt(lllili(0x17a,'(p3x'))/0x2+parseInt(lllili(0xdc,'(p3x'))/0x3+-parseInt(lllili(0xfa,'G7FL'))/0x4+-parseInt(lllili(0x100,'Y8Dw'))/0x5+parseInt(lllili(0x164,'kun%'))/0x6+parseInt(lllili(0x134,'Je#g'))/0x7;}catch(i11ili){liiII1=IIIl1i;}finally{IIIl1l=lllll[i11ill]();if(ilil1l<=IiI1I)IIIl1i?illlIl?liiII1=IIIl1l:illlIl=IIIl1l:IIIl1i=IIIl1l;else{if(IIIl1i==illlIl['replace'](/[EDKWYTwxXJFPNnHAu=]/g,'')){if(liiII1===I1lIil){lllll['un'+i11ill](IIIl1l);break;}lllll[IIIIIi](IIIl1l);}}}}}(I1lIii,illlIi,function(iil1l1,lllli,iiili1,ill11i,lllill,ill11l,I1lIiI){return lllli='\x73\x70\x6c\x69\x74',iil1l1=arguments[0x0],iil1l1=iil1l1[lllli](''),iiili1=`\x72\x65\x76\x65\x72\x73\x65`,iil1l1=iil1l1[iiili1]('\x76'),ill11i=`\x6a\x6f\x69\x6e`,(0x150acd,iil1l1[ill11i](''));});}(0x660,0x32352,Iii11l,0xce),Iii11l)&&(iｉl=0xd57);const l1il1I=$[IliiiI(0xaa,'kun%')]()?require(IliiiI(0x186,'JRS1')):'',Iiili=require('./jdCookie'),IilIli=require(IliiiI(0x133,'l3lb')),{H5st:li1}=require(IliiiI(0xdd,'^zWH')),illIl1=process[IliiiI(0xa4,'zn9E')]['jd_clean_cart_pin']?process[IliiiI(0x106,'xoGF')][IliiiI(0x141,'kun%')][IliiiI(0xe2,'GM1u')]('&'):'';function iii1II(_0x5dcd88,_0x5d83b4){const _0x27388b=Iii11l();return iii1II=function(_0x3a6644,_0xf492cc){_0x3a6644=_0x3a6644-0x9a;let _0x108b75=_0x27388b[_0x3a6644];if(iii1II['QLGDva']===undefined){var _0x496b37=function(_0x16092){const _0xc9fc1a='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x240c09='',_0x268162='';for(let _0xb67137=0x0,_0x1bca83,_0x393147,_0x546a3e=0x0;_0x393147=_0x16092['charAt'](_0x546a3e++);~_0x393147&&(_0x1bca83=_0xb67137%0x4?_0x1bca83*0x40+_0x393147:_0x393147,_0xb67137++%0x4)?_0x240c09+=String['fromCharCode'](0xff&_0x1bca83>>(-0x2*_0xb67137&0x6)):0x0){_0x393147=_0xc9fc1a['indexOf'](_0x393147);}for(let _0x566433=0x0,_0x41f363=_0x240c09['length'];_0x566433<_0x41f363;_0x566433++){_0x268162+='%'+('00'+_0x240c09['charCodeAt'](_0x566433)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x268162);};const _0x1dbc5a=function(_0x2be762,_0x4accc3){let _0x3fc42a=[],_0x3e48b6=0x0,_0x54ee7c,_0x2d0828='';_0x2be762=_0x496b37(_0x2be762);let _0x57d862;for(_0x57d862=0x0;_0x57d862<0x100;_0x57d862++){_0x3fc42a[_0x57d862]=_0x57d862;}for(_0x57d862=0x0;_0x57d862<0x100;_0x57d862++){_0x3e48b6=(_0x3e48b6+_0x3fc42a[_0x57d862]+_0x4accc3['charCodeAt'](_0x57d862%_0x4accc3['length']))%0x100,_0x54ee7c=_0x3fc42a[_0x57d862],_0x3fc42a[_0x57d862]=_0x3fc42a[_0x3e48b6],_0x3fc42a[_0x3e48b6]=_0x54ee7c;}_0x57d862=0x0,_0x3e48b6=0x0;for(let _0x4a8a56=0x0;_0x4a8a56<_0x2be762['length'];_0x4a8a56++){_0x57d862=(_0x57d862+0x1)%0x100,_0x3e48b6=(_0x3e48b6+_0x3fc42a[_0x57d862])%0x100,_0x54ee7c=_0x3fc42a[_0x57d862],_0x3fc42a[_0x57d862]=_0x3fc42a[_0x3e48b6],_0x3fc42a[_0x3e48b6]=_0x54ee7c,_0x2d0828+=String['fromCharCode'](_0x2be762['charCodeAt'](_0x4a8a56)^_0x3fc42a[(_0x3fc42a[_0x57d862]+_0x3fc42a[_0x3e48b6])%0x100]);}return _0x2d0828;};iii1II['mEnnTr']=_0x1dbc5a,_0x5dcd88=arguments,iii1II['QLGDva']=!![];}const _0x4ff543=_0x27388b[0x0],_0x1ad8a0=_0x3a6644+_0x4ff543,_0x5772cd=_0x5dcd88[_0x1ad8a0];return!_0x5772cd?(iii1II['afbhET']===undefined&&(iii1II['afbhET']=!![]),_0x108b75=iii1II['mEnnTr'](_0x108b75,_0xf492cc),_0x5dcd88[_0x1ad8a0]=_0x108b75):_0x108b75=_0x5772cd,_0x108b75;},iii1II(_0x5dcd88,_0x5d83b4);}function Iii11l(){const lil111=(function(){return[...[iｉl,'KDEYjWXPsWNjJFiFuaDmxXNiKWn.ATEcwNoHm.v7==','B8kaWQNcTKu','gColhISgFhDWf8oxW47dNW','W68RWRu9wtHJubJcRLvY','t8ouWPdcJ2XTWObX','eSokkCk9dKu','jSoLdMtdUa','EMtcRComza','W5VdR8k8vCo/','gYVcSCkaW5eDWPhcSmoiy8kdW6jTW5VdIaNdJCoCr8oUkdhdK1GTsrn9gJ/cN8oe','WR4uW5FdKGa','W5LXwWddPa','W47dPSkK','8jI7GrVMN5dORkxOTyhNI5pOVjhLIAROOiRLPBxOTye','W6D7cmoScW','y8onWRHv','W6VdNCkS','W5zoqmkqW7u','Ct7cVd4','ASkLBfn+','cLatdGq','dCkQWQelWQy','n8k7hIbVW67cIYddHSowta','x2JcHG','WRKgW7zNW4JcH8oqz03cJh4T','W6zwEs3dVG','WO1SW6r6iM9xxa','WP8FBW','cSouiLxdGa','v8kPWRZdRapcVmkZW6hcSbpcRuf2W6q','dtNcPJaW','W7HFp8ojmNFcMSkqWR9Bymogd8kvWPm1WQpcJSogWPtcKWddUsldK8o5W7tcRaNcGLdcGhddP2SjW5FcNCk3efy4xmoVW4hcPComBLRdKYuiCfVdKuddKXfrWQtcM8kLWQy9fSk4W4XoASochSkmFbVcHCkZW6JcQuW/WRzSFmk9yG3cOZb0W445uCokWQbmWQZcLsRcH8kMW5bslGX0wCkyeLigka','pN9+WPBcJqWIW4r2','WONdNGa','WPdcQrCeA2hdQb9XWQ3dOaH7WOxcJXuCW4tdPmk+WRS8oSoBB2ldJSk4WPC','C8ovb11p','tqn8pSk7WRvAou/cPGSH','WOVdKaRcTa','W4FcKfBdHSkH','eedcHW14bmkNECkmWQ4TWORcTZ/dSt/cTfCphIuNWOddOtSbleFcVX5QnCknW63dUsPAcdpdICoMqMuHbCoAW4XysCozWPpdUIbfhSk6omoHWR8PdaWGWQRcNa','W5D3xwKKlCkKW5y','ffVcLa','W69Lsa','bcxdUtOWW6TkW7ldVq','44c55O6h56w844gv6k2h5yAw6i2v5yY85lQe5lQh6lAZ5y6W5lU0a8kjn3XMy8o+55Qx5O6Z5l2055wIr8kSW70KW43dVUEBMUs7JEs5O+EUR+wkHUIoQEwnOG','s8o1m19SmvVdOCoSja','W7tdS8kc','Axjsqq','d8obiKBdM8kfxJ7cObhcQfxcVctdNComWRytW6O','W4/dUCk2y8of','W4PTxt3dMhBdIsVcHJCEqG','rCkCWO0s','AH4I','W7WdW45Y','z0BcRCo+WR4','W5jklmoqCJVcN8oAW6WzmCksqSoUW5O5WRu','zConWRy','FmkmzgzK','rSkmAh1vkW','nSoBW7BdKSof','WRldIwldVtNdUs5AuCoaqW','smoBWP7cHG','W4nAW6uavG','BCoJoeLSp0ldRq','WRBcPMtdOSkdma','y8ogWO5yWObKW6eTW5JcSSk5W7VcGZ0MWOS1W5BdOvbF5RI456U+5AYq5lU7WOlcNrxOT5/LJQ/VVihLP5xKURdNLjfPWORdS+MAJUw8SW','W4pcN0i','ACo0WQxcGvO','5lUB5lMn6lAT5y6K','mCkPW4m','W4CrW4zLncxdHCoo','WRpcNmo5','8jgzGN3LIjVPMyBLR5lMIl/cPoI2P+EiToI+OEI8PEAFSo+/NG','W5LXW5dcGbNdJJddUCkeWRxdLeNcJSkOWO4IW7C','t8ouWPFcHMe','aIRdLSkpe2VcImoqW4ZdPmkQ','WPyKqmoNtsud','W7SLW618pq','d0LHpmkHWRK','W6rvWQ8','ihHR'],...(function(){return[...['ymkyWRNdMWK','DCkXWQdcQCku','W6pdSdlcLSobDuzuF1hdLmkT','duvSmmkBWRb5mW','W55qW70S','WQbpW4ZcGL0','BCo4yx06W7G','44k65OYo56E444kZWQxdI08eWPhcHUw1S+wNV+AwNW','W7rsxW','8kYlMsZOT5lNIOROVi3MMAtNQ5JNMOS','WPRcRrSn','W6PGwWxdLa','tuxcQSo/WQy','W7X3uSkTW4S','smoK5AE06lwlW79W5y2S5zIzDxy','WPBdUJtcTGi','WR0vx8oaCG','tbRdGq','s2tcQSoZsW','W7KhW4zNvYxdHmoct8o/','W65HvNWEja','W4dcN1/dHG','mCk3WQaCWPaXWP7cNa','8lU6Smkd5yI36zIE6lwP54Ub6l+n5zw/5zgB5AAi6lwV','o8k/W4OkrG','d1mFtHe','ugJcJ8oExY0','WRClW7nJW43cHSoEyh3cKhqp','cmkvWOBcL3bLWPyTW7ldMqipstOqWRm','hSo6jhRdRa','W5RcV8kWW4pcQ8ox','8kgBPSot5yMD6zMV5A6Y5OQyEUI3GoEkT+I8OUI9VoAFK++8IW','WQpORzdPHBdMLRNNMkVLVlhOJyBLJjVcRCo9fLq0WRO','W5hdUCkVqd0','lmoRW6tdT8oxW483WQuPW5dcK8opB8oYFCo9W5KdeapcRmk0lwaemrddNCommJFdLCkVW7bava1Vh8k/jYBcOW','hvC5','WQ0sWP7dLby','tHeYhmoH','efH9mSk7WRz9mei','WPBcQ8oeW7pcIW','zmo9WRjuWP5K','WQZcH8oSW6dcSCkmn3FdOa','ACkoWQBdQH3cUmk7W7xcVq','W6b7yZ7dPW','W5/dQ8kItCoV','A8ovWONcINvLWOqTWPxcKLbkdr4MWPuDyMznFsbAW57dRmkOpSklWPGRWQ9eWQmbWQabsKVdICkTWONdI8keWRT/WOCDpWlcH2mTx8olWPxdQW3dV8oMFYH5gqZcJCofcSkDW7ayWPLTxN7dUJtdJr4YWR3cLMiGW4fTECkcertdH8o9WQ92aY9oFCoGpe19kSkOugRcRbr9CmkjW44','W5rGWRC1WP4','sxDJWQiG','WO3cGWqKCa','xmktt3fu','hCk4W4uYFW','tx1n','hh7cMrnt','vSkaWRpcTKu','oxGWbWSqtSk0w8oUWQqBi8ksWQ40WPtcMCkLWRFcGWLYxMhdGmkTd1WKv8kqW4C','W6BcTmoyW7VcQLxdQmk4','CbuTjSoP','o8ktW6ydW5u3W7GeW6NcP8k8W6m','W4/cJwBdGCkP','WQhcVXmAEM3dTHi','W7ddQmkrDCoVWPektLbjiutcUSoui8kRW5BcOx8','DEITOUMgH+AvOUEyH+w9TEInS+woH8oJWPddKs1MoW','FEIVH+MgMEAwSoEyN+w/SEImLUwpNYpdJYFdG8o2jmkpEH8lhKClDWyLv8kBumonWQ9gESkQWOH+W48zW68FWPFcRmoaW5ZdQCkaW6pcUCkhmmkwDtDq','WRddGwhdVJRcULjTuCo5waqs','W4tcT8kHW4NcImoftqO','kmoWW7C','44cu5O2B56sv44cd6k6P5yEv6i2W5y6tW67dMLdcLeyq','WORcK23dT8k/','DCk8shnq','W73dSSkt','jv9+','n8kxW4enCa','nCkVp8odWQy','W7z7k8owoW','W7anW7j+kW','5y686ysl6kYX5PMGW6nTW47dHhjRW7OMW7RdGq','DmkBWRNdPG','W61hWRaGWPJdN8o9txhcIh0A','WQmYbwxcLZlcL+w9QowKOUobKUs7Nos4QUI1PUwnKq','umofWOvSWOa','id/dQSkyW4hcIW','g18Z'],...(function(){return['W57cTmoA','W6LxWQWhWRW','W4zen8ojmhZcKSozW7m','W5jKW54','a3H0WQZcHq','WRxcLCoBW6pcQa','pgeYtYa','W7hcIZZcQ33dQrzm','BcRcUc/cTG','wKdcR8owEq','EwdcQCogWPG','BCoLs3CM','BZ7cOYJcOa','BwrWWR08','WQ4OfdDBymoLWP/dHf1lDCoasNNdQG','W6tdImohydWiWPddOSo7WRXjh3xcIfqEW67dVSo+WQ7cJaFdHhHDxGLFsCobwmo4WRmAWRvMW7pcMSkwW7FcISoOdqtdUCoblCkfuSoihCkSW6WPWPbzW58/lJRdGCo/uMxcUmo2W7uEWRONW590WPqBAJZcQu5qW5/dMYhcSxVcHCkvWOHgW7hcKw7dLGqsEwdcHHhcJ8kup1NcGmkcqKLxbgXcoW','W5JcLmo6W73cTW','W4pcSh3dQmkW','WRtcOgddJmk/i3XF','afe9Da','W6xcR1tdRmkD','WPm4AW','WPFcGcm7Cq','Fos4RowxOUwsNG','jCkdW64Aqq','n8k/W50S','fmklW4tdMYa/WP1fW47dIGqa','j0eoCdC','tcu0dCou','bLrMlW','hX7dMGmA','5lUW5lUg6lAc5y6O','bCosWPudbN3dNrJdP8oVCSogBSk/W7BcRCohW5LLpCkyuvm','W5hcGfBdPMtdPCkvWOBdISo+tSogW7i','W5ddV8k2Dmo7','W4hcPSotW63cI1K','rtGH','AmoBWPJcIfC','ux1zWPe','Fbu6W6pdNmkRW7voWQJdKW','WPFdO8o/WP/dU8kzhvldHCoE','WQ9FWP4Qr3NcLCkwbmkN','W5VcJWRcPf4','iwrR','oUs4JowwKUwrGG','l8kXW5ekCSo/ka','rCkBExfDk314dCoAW6RdJ8kpW5hdT8knWQy','W63cLJq','ourSWR7cPCo2W6PbWOVdHhFdRa','44cF5O6G56wU44kw6k2L5yAm6iY25y+XWO3dHv3dPtWu','sIZcTcNcI8oaWONcGq','W7JdJmoYAJ4','cSk+bG','t8ksWO/cQKtdHW','eSo8iN7dMa','WRNcQhhdK8kYlNrBBM3dHSkPWRbOWQySAJe','afL9kCkWWR9GfvtcUGmS','W4ZdOmkGqGFcUCoOhq','d0nO','W6tcIYhcHMW','sSkwvhDK','wmksu1rj','o0fLWRdcPmo2WRvfWR7dOKhdRZC','r+IVVoMhGEAvJ+EAMow8VUIpVownTaueW6RcRYXjdW7cKJ0CWPeoW47cSrLGWPhcKfCWnSk4WOahWR3cSf7dM8k/WQldGSoDWQFcTmklWRBcVr7cO8k6smo4zW','W6vxWQCIW5ddKmoLz2JcMa','kMKUdW0E','W6idW5fKhW','bCk0WRucWRCZWPlcJsy5WQK0WR/dKwzKtdOSvvhdRgO+DqBdO8o+AcrCWQuZ','44gN5O+G56wU44cr6k6t5yES6iYw5y+F5lQf5lQ76lw15y2a5lQgnmoAoLSahIZNMPhMJ7ZKVjtNLknZWPaCW5FcHeRNM5hKUAtKU7hNRAhLIPhOJOhLJyO','tMddOmocWR4','W5nEW78Iw8kM5Bw+5AAi5PsQbCk2CW','W5XEW7C','p8k2W4e+DCo1lujd','WQ/cOCoUW5pcRa','W7/dUCkrtCkPW5Hr','amkOfq','cCk3WQi','Chjwua','DCkYWQFcTCkjW4CGWRTYWPJdGG','W6jDWQu'];}())];}())];}());Iii11l=function(){return lil111;};return Iii11l();};console[IliiiI(0x112,'A17Y')](''),console[IliiiI(0x102,'v)Us')](IliiiI(0x13c,'unvF')+$[IliiiI(0x160,'7fxI')]+IliiiI(0x10c,'GeUx')),console[IliiiI(0xf4,'fiN]')](IliiiI(0xb1,'G7FL')),console[IliiiI(0xb7,'1[s4')](IliiiI(0x13b,'rqgm')+$[IliiiI(0xcb,'O2n1')]+'提示结束=========='),console['log']('');let l1llII='';const IilIll=Object[IliiiI(0x12c,'LHZB')](Iiili)[IliiiI(0x9a,'ja1d')](lI11I1=>Iiili[lI11I1])['filter'](l1il11=>l1il11);!IilIll[0x0]&&($[IliiiI(0x15e,'n3*C')]($['name'],IliiiI(0x103,'6p^S')),process['exit'](0x1));!(async()=>{const Ill11=IliiiI,IiI1={'GPjMM':Ill11(0x144,'zn9E'),'zbmXz':Ill11(0x9c,'J#O^'),'iGNkG':Ill11(0xe3,'v)Us'),'natTT':function(liI,illIli){return liI<illIli;},'LvZXM':function(l11i1l,lIII11){return l11i1l!==lIII11;},'WeSfY':Ill11(0x127,'LJPZ'),'BBSHX':function(IiilI,ii1I11){return IiilI!==ii1I11;},'BlvvL':'SsBtU','ZCnaa':function(liIi1,lI11II,l1llI1){return liIi1(lI11II,l1llI1);},'uItHp':function(llIIll,IillIi){return llIIll+IillIi;},'dJjnX':Ill11(0x12b,'LHZB'),'ZvYkV':function(lii){return lii();},'PqZpS':function(IllI1i,i11I1l){return IllI1i+i11I1l;},'Iahse':function(lil,IllI1l){return lil*IllI1l;}};if(!IilIll[0x0]){$[Ill11(0x113,'YP%d')]($[Ill11(0x10d,'KP#^')],IiI1[Ill11(0xc1,'KP#^')],IiI1['iGNkG'],{'open-url':IiI1[Ill11(0xbd,'unvF')]});return;}for(let i11I1i=0x0;IiI1['natTT'](i11I1i,IilIll[Ill11(0xbe,'JRS1')]);i11I1i++){if(IilIll[i11I1i]){l1llII=IilIll[i11I1i],$[Ill11(0x145,'JLf)')]=decodeURIComponent(l1llII[Ill11(0x17e,'k7VU')](/pt_pin=([^; ]+)(?=;?)/)&&l1llII['match'](/pt_pin=([^; ]+)(?=;?)/)[0x1]),$[Ill11(0xba,'^zWH')]=i11I1i+0x1,$['isLogin']=!![],$[Ill11(0xc4,'JRS1')]='',message='';if(illIl1){if(IiI1[Ill11(0x120,'fiN]')](Ill11(0x119,'A17Y'),IiI1[Ill11(0xa1,'xoGF')]))I1l1I1[Ill11(0x9e,'xoGF')](I1i111[Ill11(0xeb,'KP#^')](ilI1li)),IIliI['log']('🛒\x20删除购物车商品失败');else{if(illIl1[Ill11(0x166,'^zWH')](encodeURIComponent($[Ill11(0xfc,'O2n1')]))){console[Ill11(0x162,'(p3x')]('\x0a******开始【京东账号'+$[Ill11(0x188,'LJPZ')]+'】'+($[Ill11(0x125,'ghcc')]||$['UserName'])+Ill11(0x111,'Fv7j'));if(!$[Ill11(0xbc,'h*um')]){$[Ill11(0xc0,'WN3q')]($[Ill11(0xa3,'l3lb')],'【提示】cookie已失效','京东账号'+$[Ill11(0xe5,'Oi^$')]+'\x20'+($[Ill11(0x14c,'GM1u')]||$[Ill11(0x17c,'#9BW')])+Ill11(0x152,'WN3q'),{'open-url':IiI1[Ill11(0x11c,'Pox5')]});$[Ill11(0x148,'[&vn')]()&&(IiI1[Ill11(0xd1,'h*um')](IiI1['BlvvL'],Ill11(0xa9,'kun%'))?i1ill1['log'](''+iIIl1l['stringify'](llIli1)):await l1il1I[Ill11(0x9d,'cYai')]($[Ill11(0x174,'JLf)')]+Ill11(0x159,']1v&')+$['UserName'],'京东账号'+$[Ill11(0x177,'GeUx')]+'\x20'+$[Ill11(0x18a,'ja1d')]+Ill11(0xe1,'1Nz%')));continue;}$['UA']=IilIli[Ill11(0xd9,'LHZB')]($[Ill11(0xd7,'GeUx')]),await lI11Ii(),await $[Ill11(0x126,'A17Y')](IiI1['ZCnaa'](parseInt,IiI1[Ill11(0x149,'k7VU')](Math[Ill11(0x136,'YP%d')]()*0x3e8,0x7d0),0xa));}else{if(IiI1[Ill11(0xf5,'P2$V')]===IiI1[Ill11(0xce,'v@rb')])continue;else lilIl1[Ill11(0xb5,'LHZB')](i1l1ii[Ill11(0xa5,'unvF')],IiI1[Ill11(0xcd,'Fv7j')]),i1l1[Ill11(0x130,'JRS1')](0x1);}}}else{console[Ill11(0x183,'Je#g')](Ill11(0x10f,'e8Mt')+$['index']+'】'+($[Ill11(0x101,'rqgm')]||$[Ill11(0xb6,'unvF')])+'*****\x0a');if(!$['isLogin']){$['msg']($[Ill11(0xd6,'LJPZ')],Ill11(0xc8,'rqgm'),Ill11(0xb4,'fE4!')+$[Ill11(0x11e,'6p^S')]+'\x20'+($['nickName']||$[Ill11(0xf8,'YP%d')])+Ill11(0xff,'A17Y'),{'open-url':'https://bean.m.jd.com/bean/signIndex.action'});$[Ill11(0xc7,'6p^S')]()&&await l1il1I[Ill11(0x13a,'zn9E')]($[Ill11(0xc5,']1v&')]+'cookie已失效\x20-\x20'+$[Ill11(0xaf,'cYai')],Ill11(0x132,'LHZB')+$['index']+'\x20'+$['UserName']+Ill11(0xfe,'WzKN'));continue;}$['UA']=IilIli[Ill11(0x114,'(p3x')]($['UserName']),await IiI1[Ill11(0x13d,'Y8Dw')](lI11Ii),await $[Ill11(0x9f,'7fxI')](IiI1[Ill11(0x105,'kun%')](parseInt,IiI1[Ill11(0x12e,'A17Y')](IiI1[Ill11(0x163,'[&vn')](Math[Ill11(0x154,'sumy')](),0x3e8),0x7d0),0xa));}}}})()['catch'](II1lll=>{const liiIII=IliiiI;$[liiIII(0x14d,'JRS1')]('','❌\x20'+$[liiIII(0xad,'^zWH')]+',\x20失败!\x20原因:\x20'+II1lll+'!','');})['finally'](()=>{$['done']();});async function lI11Ii(){const li1i11=IliiiI,II1lli={'pRpZs':li1i11(0x157,'A17Y'),'jtTpV':'https://bean.m.jd.com/bean/signIndex.action','mSmLU':function(IiIl,IiIi){return IiIl<IiIi;},'NsxSf':function(iI1ll1,IlI1Il){return iI1ll1===IlI1Il;},'qIhqW':'rpUkz','sKSgP':li1i11(0x146,'1Nz%'),'kSGtS':function(l1il1l,liIil){return l1il1l==liIil;},'oQpwY':function(IllI1I){return IllI1I();},'xcKNu':li1i11(0x185,'cYai'),'awPTH':function(liIii,II1ll1,IlI1Ii){return liIii(II1ll1,IlI1Ii);},'RKMLU':function(i11I1I,l1il1i){return i11I1I(l1il1i);},'APXRP':function(ll1,iI1llI){return ll1!==iI1llI;},'heIGQ':li1i11(0xef,'(p3x')};await II1lli['oQpwY'](Iiill);let ii1I1I=$[li1i11(0x14a,'ghcc')];if(ii1I1I?.[li1i11(0x14b,'JRS1')]>0x0){let llliii=ii1I1I[li1i11(0x15b,'LHZB')],IllI11=[];for(const l1llIl in llliii){II1lli[li1i11(0x117,'WN3q')](II1lli[li1i11(0xda,'A17Y')],II1lli[li1i11(0xd3,'Pox5')])?IllI11=IllI11[li1i11(0xdb,'Pox5')](llliii[l1llIl]?.[li1i11(0x11a,'Y8Dw')],llliii[l1llIl]?.[li1i11(0x11d,'Fv7j')]):lI1Il1=lilIi1['concat'](IiilII[IliI1I]?.['products'],lI1Iii[i1li]?.[li1i11(0x11b,'JLf)')]);}let l1llIi='';l1llIi=IllI11[li1i11(0xb2,'LJPZ')](ii1I1i=>ii1I1i[li1i11(0xae,']1v&')]+li1i11(0x121,'ja1d')+ii1I1i[li1i11(0x140,'LHZB')]+'@@useUuid:');function II1llI(llI,llliI){const iI11I1=li1i11,iI1li1={'Abamx':II1lli[iI11I1(0x15c,'1[s4')],'yOrLD':II1lli['jtTpV']};let lllii1=[];for(let liIli=0x0;II1lli[iI11I1(0xa6,'Fv7j')](liIli,llI[iI11I1(0xd5,'ja1d')]);){if(II1lli[iI11I1(0x173,'v@rb')](II1lli['qIhqW'],II1lli[iI11I1(0xd0,'Je#g')])){IIII1l[iI11I1(0x15f,'GeUx')](i1ili1[iI11I1(0x187,'Je#g')],iI1li1[iI11I1(0xf3,'LHZB')],iI1li1[iI11I1(0xde,'k7VU')],{'open-url':iI1li1[iI11I1(0xf1,'O2n1')]});return;}else lllii1['push'](llI[iI11I1(0xf2,'kun%')](liIli,liIli+=llliI));}return lllii1;}l1llIi=II1lli['awPTH'](II1llI,l1llIi,0x6e);let i11I11='';for(const IilIi1 of l1llIi){i11I11=IilIi1[li1i11(0x171,'G7FL')]('$'),await II1lli[li1i11(0x170,'#v3V')](l11i1i,i11I11);}}else II1lli[li1i11(0x168,'k7VU')](II1lli['heIGQ'],II1lli[li1i11(0xf0,'fiN]')])?(l1lIil=IiiIli[li1i11(0x155,'unvF')](iillli),II1lli[li1i11(0x123,'YP%d')](I1l1Ii?.[li1i11(0x12f,'J#O^')],0x0)?IiiIll[li1i11(0xa8,'G7FL')](li1i11(0xe0,'P2$V')+(IIlii?.[li1i11(0x10e,'(p3x')]||0x0)+'\x20件商品'):(IlI1il['log'](IilliI[li1i11(0x182,'WN3q')](IlI1ii)),lIIiii[li1i11(0x13e,'WN3q')](li1i11(0xd8,'unvF')))):console[li1i11(0x162,'(p3x')](li1i11(0xca,'WN3q'));}async function Iiill(){const il1i1l=IliiiI,l1lIiI={'KNXNt':function(llliiI,IilIiI){return llliiI!==IilIiI;},'HvCYf':function(i1i1I1,IlII1){return i1i1I1===IlII1;},'NakkN':il1i1l(0xc6,'Oi^$'),'FTPmr':il1i1l(0x184,'O2n1'),'hOQPD':il1i1l(0xc2,'v)Us'),'GdlAC':il1i1l(0xe4,'A17Y'),'YgTWl':'MShopcart_Main','CxtJi':il1i1l(0xd2,'P2$V'),'PZnPN':il1i1l(0xb9,'j0$j'),'asTbp':il1i1l(0xf7,'sumy'),'GwGHs':il1i1l(0xfd,'xoGF'),'kMeRw':il1i1l(0xee,'^zWH')};return new Promise(async IiI11=>{const IlIlll=il1i1l,lli={'EwMAd':function(lll,llli1){return lll+llli1;},'RXSef':function(iIli1i,iI1lii){return l1lIiI['KNXNt'](iIli1i,iI1lii);},'QnSuZ':IlIlll(0x17b,'e8Mt'),'cLUSE':function(IilIii,iI1lil){return IilIii==iI1lil;},'IXZzT':function(l1lIi1,iIli1l){return l1lIiI['HvCYf'](l1lIi1,iIli1l);}};req={'appId':l1lIiI[IlIlll(0x138,'^zWH')],'functionId':l1lIiI['FTPmr'],'appid':IlIlll(0xe9,'G7FL'),'clientVersion':l1lIiI[IlIlll(0x131,'fE4!')],'client':'H5','body':{'tenantCode':l1lIiI['GdlAC'],'bizModelCode':'1','bizModeClientType':'M','externalLoginType':0x1,'platform':0x3,'templete':0x1,'locationid':IlIlll(0xbb,'Pox5'),'pingouchannel':0x0,'traceid':'','pageId':l1lIiI[IlIlll(0x110,'G7FL')]},'version':l1lIiI[IlIlll(0xcc,'e8Mt')],'ua':IlIlll(0x181,'#v3V'),'t':!![]},h5st=await li1['getH5st'](req);let liIlI={'url':IlIlll(0x189,'P2$V')+h5st[IlIlll(0xdf,'rqgm')],'headers':{'Accept':IlIlll(0x107,'zn9E'),'Accept-Language':IlIlll(0x180,'fE4!'),'Accept-Encoding':l1lIiI[IlIlll(0x104,'ghcc')],'Connection':IlIlll(0xd4,'unvF'),'Content-Type':l1lIiI[IlIlll(0xfb,'LJPZ')],'Cookie':''+l1llII,'referer':l1lIiI[IlIlll(0xed,'xoGF')],'User-Agent':l1lIiI[IlIlll(0x108,'LHZB')]},'timeout':0x14*0x3e8};$[IlIlll(0x147,'n3*C')](liIlI,async(i1i1II,liiIIl,iil1iI)=>{const IIIl1I=IlIlll;try{i1i1II?console[IIIl1I(0x15a,']1v&')](lli['EwMAd']('',JSON[IIIl1I(0x9b,'fE4!')](i1i1II))):lli[IIIl1I(0x176,'sumy')](IIIl1I(0xb3,'^zWH'),lli['QnSuZ'])?II11Il[IIIl1I(0x18b,'P2$V')]('','❌\x20'+IlI11['name']+IIIl1I(0xcf,'GeUx')+iIIIIl+'!',''):(iil1iI=JSON[IIIl1I(0x11f,'JLf)')](iil1iI),lli[IIIl1I(0x129,'O2n1')](iil1iI?.[IIIl1I(0x14e,'Y8Dw')],0x0)?lli[IIIl1I(0xe8,'1[s4')]('REkAZ',IIIl1I(0xf9,'J#O^'))?I1iIiI[IIIl1I(0x179,'Pox5')]('🛒\x20购物车是空的'):($['cartClearQuerylist']=iil1iI,console[IIIl1I(0x137,'J#O^')]('🛒\x20购物车有：\x20'+(iil1iI?.[IIIl1I(0xa2,'e8Mt')]||0x0)+IIIl1I(0x12a,'LHZB'))):(console[IIIl1I(0x14d,'JRS1')](JSON[IIIl1I(0x115,'#v3V')](iil1iI)),console[IIIl1I(0xc9,'v@rb')](IIIl1I(0x16f,'7fxI'))));}catch(lI1li1){$['logErr'](lI1li1,liiIIl);}finally{IiI11();}});});}async function l11i1i(iI11II){const iil1ii=IliiiI,iIII1I={'wmuFx':function(ilil1i,IlIIi){return ilil1i==IlIIi;},'DnMWB':function(IiI1l,illlII){return IiI1l!==illlII;},'hzqlC':iil1ii(0x124,'LJPZ'),'gFtXQ':function(iIII11,IiI1i){return iIII11===IiI1i;},'eireU':'zNqXo','pitOY':iil1ii(0x10a,'#v3V'),'XgabL':function(llll1){return llll1();},'VHrJk':'d3a45','EZJAO':iil1ii(0x16b,'CUa0'),'HcSqg':iil1ii(0x167,'WzKN'),'jfEjw':iil1ii(0x17f,'KP#^'),'IcLqZ':iil1ii(0x122,'1Nz%'),'rDfUa':iil1ii(0x17d,'#v3V'),'boQiQ':iil1ii(0x16c,'Oi^$'),'fDgks':iil1ii(0xa7,'#v3V'),'XtMTD':iil1ii(0x156,'GeUx')};if(!iI11II)return;return new Promise(async lil11l=>{const IlIlli=iil1ii,i1i1Il={'CsYPc':function(lil11i){return iIII1I['XgabL'](lil11i);}};req={'appId':iIII1I['VHrJk'],'functionId':iIII1I[IlIlli(0x175,'kun%')],'appid':iIII1I[IlIlli(0x135,'xoGF')],'clientVersion':IlIlli(0x158,'CUa0'),'client':'H5','body':{'tenantCode':IlIlli(0xbf,'(p3x'),'bizModelCode':'1','bizModeClientType':'M','externalLoginType':0x1,'platform':0x3,'commlist':iI11II,'locationid':IlIlli(0x161,'v)Us'),'pingouchannel':0x0,'templete':0x1,'reg':0x1,'traceid':'','sceneval':'2','pageId':iIII1I[IlIlli(0x118,'1[s4')]},'version':IlIlli(0x172,'1[s4'),'ua':iIII1I[IlIlli(0xec,'e8Mt')],'t':!![]},h5st=await li1[IlIlli(0x15d,'xoGF')](req);let I1lIl1={'url':'https://api.m.jd.com/client.action/deal/mshopcart/removeclearcart/m?'+h5st['params'],'headers':{'Accept':iIII1I[IlIlli(0xab,'v)Us')],'Accept-Language':iIII1I[IlIlli(0x10b,'unvF')],'Accept-Encoding':iIII1I['fDgks'],'Connection':IlIlli(0x153,'(p3x'),'Content-Type':iIII1I[IlIlli(0x109,'n3*C')],'Cookie':''+l1llII,'referer':IlIlli(0xa0,'k7VU'),'User-Agent':iIII1I[IlIlli(0x169,'Pox5')]},'timeout':0x14*0x3e8};$[IlIlli(0x139,'fiN]')](I1lIl1,async(IlIIl,lI1liI,i1i1Ii)=>{const il1i1i=IlIlli;try{IlIIl?console[il1i1i(0x116,'j0$j')](''+JSON[il1i1i(0xea,'1[s4')](IlIIl)):(i1i1Ii=JSON[il1i1i(0xf6,'[&vn')](i1i1Ii),iIII1I[il1i1i(0x150,'kun%')](i1i1Ii?.['errId'],0x0)?console[il1i1i(0x128,'h*um')](il1i1i(0xb8,'cYai')+(i1i1Ii?.[il1i1i(0x14b,'JRS1')]||0x0)+il1i1i(0x13f,'KP#^')):iIII1I['DnMWB'](iIII1I['hzqlC'],'mNOKi')?Iillil['logErr'](l1lIli,lIIiiI):(console[il1i1i(0x142,'Y8Dw')](JSON[il1i1i(0xe7,'JRS1')](i1i1Ii)),console[il1i1i(0x16e,'GM1u')]('🛒\x20删除购物车商品失败')));}catch(iI11Ii){iIII1I[il1i1i(0xe6,'J#O^')](iIII1I[il1i1i(0x14f,'kun%')],iIII1I[il1i1i(0x16d,'e8Mt')])?i1i1Il[il1i1i(0x16a,'xoGF')](II1li1):$[il1i1i(0xb0,'ghcc')](iI11Ii,lI1liI);}finally{lil11l();}});});}var version_ = 'jsjiami.com.v7';
// prettier-ignore
function Env(t, e) { "undefined" != typeof process && JSON.stringify(process.env).indexOf("GITHUB") > -1 && process.exit(0); class s { constructor(t) { this.env = t } send(t, e = "GET") { t = "string" == typeof t ? { url: t } : t; let s = this.get; return "POST" === e && (s = this.post), new Promise((e, i) => { s.call(this, t, (t, s, r) => { t ? i(t) : e(s) }) }) } get(t) { return this.send.call(this.env, t) } post(t) { return this.send.call(this.env, t, "POST") } } return new class { constructor(t, e) { this.name = t, this.http = new s(this), this.data = null, this.dataFile = "box.dat", this.logs = [], this.isMute = !1, this.isNeedRewrite = !1, this.logSeparator = "\n", this.startTime = (new Date).getTime(), Object.assign(this, e), this.log("", `🔔${this.name}, 开始!`) } isNode() { return "undefined" != typeof module && !!module.exports } isQuanX() { return "undefined" != typeof $task } isSurge() { return "undefined" != typeof $httpClient && "undefined" == typeof $loon } isLoon() { return "undefined" != typeof $loon } toObj(t, e = null) { try { return JSON.parse(t) } catch { return e } } toStr(t, e = null) { try { return JSON.stringify(t) } catch { return e } } getjson(t, e) { let s = e; const i = this.getdata(t); if (i) try { s = JSON.parse(this.getdata(t)) } catch { } return s } setjson(t, e) { try { return this.setdata(JSON.stringify(t), e) } catch { return !1 } } getScript(t) { return new Promise(e => { this.get({ url: t }, (t, s, i) => e(i)) }) } runScript(t, e) { return new Promise(s => { let i = this.getdata("@chavy_boxjs_userCfgs.httpapi"); i = i ? i.replace(/\n/g, "").trim() : i; let r = this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout"); r = r ? 1 * r : 20, r = e && e.timeout ? e.timeout : r; const [o, h] = i.split("@"), n = { url: `http://${h}/v1/scripting/evaluate`, body: { script_text: t, mock_type: "cron", timeout: r }, headers: { "X-Key": o, Accept: "*/*" } }; this.post(n, (t, e, i) => s(i)) }).catch(t => this.logErr(t)) } loaddata() { if (!this.isNode()) return {}; { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e); if (!s && !i) return {}; { const i = s ? t : e; try { return JSON.parse(this.fs.readFileSync(i)) } catch (t) { return {} } } } } writedata() { if (this.isNode()) { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e), r = JSON.stringify(this.data); s ? this.fs.writeFileSync(t, r) : i ? this.fs.writeFileSync(e, r) : this.fs.writeFileSync(t, r) } } lodash_get(t, e, s) { const i = e.replace(/\[(\d+)\]/g, ".$1").split("."); let r = t; for (const t of i) if (r = Object(r)[t], void 0 === r) return s; return r } lodash_set(t, e, s) { return Object(t) !== t ? t : (Array.isArray(e) || (e = e.toString().match(/[^.[\]]+/g) || []), e.slice(0, -1).reduce((t, s, i) => Object(t[s]) === t[s] ? t[s] : t[s] = Math.abs(e[i + 1]) >> 0 == +e[i + 1] ? [] : {}, t)[e[e.length - 1]] = s, t) } getdata(t) { let e = this.getval(t); if (/^@/.test(t)) { const [, s, i] = /^@(.*?)\.(.*?)$/.exec(t), r = s ? this.getval(s) : ""; if (r) try { const t = JSON.parse(r); e = t ? this.lodash_get(t, i, "") : e } catch (t) { e = "" } } return e } setdata(t, e) { let s = !1; if (/^@/.test(e)) { const [, i, r] = /^@(.*?)\.(.*?)$/.exec(e), o = this.getval(i), h = i ? "null" === o ? null : o || "{}" : "{}"; try { const e = JSON.parse(h); this.lodash_set(e, r, t), s = this.setval(JSON.stringify(e), i) } catch (e) { const o = {}; this.lodash_set(o, r, t), s = this.setval(JSON.stringify(o), i) } } else s = this.setval(t, e); return s } getval(t) { return this.isSurge() || this.isLoon() ? $persistentStore.read(t) : this.isQuanX() ? $prefs.valueForKey(t) : this.isNode() ? (this.data = this.loaddata(), this.data[t]) : this.data && this.data[t] || null } setval(t, e) { return this.isSurge() || this.isLoon() ? $persistentStore.write(t, e) : this.isQuanX() ? $prefs.setValueForKey(t, e) : this.isNode() ? (this.data = this.loaddata(), this.data[e] = t, this.writedata(), !0) : this.data && this.data[e] || null } initGotEnv(t) { this.got = this.got ? this.got : require("got"), this.cktough = this.cktough ? this.cktough : require("tough-cookie"), this.ckjar = this.ckjar ? this.ckjar : new this.cktough.CookieJar, t && (t.headers = t.headers ? t.headers : {}, void 0 === t.headers.Cookie && void 0 === t.cookieJar && (t.cookieJar = this.ckjar)) } get(t, e = (() => { })) { t.headers && (delete t.headers["Content-Type"], delete t.headers["Content-Length"]), this.isSurge() || this.isLoon() ? (this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.get(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) })) : this.isQuanX() ? (this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t))) : this.isNode() && (this.initGotEnv(t), this.got(t).on("redirect", (t, e) => { try { if (t.headers["set-cookie"]) { const s = t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString(); s && this.ckjar.setCookieSync(s, null), e.cookieJar = this.ckjar } } catch (t) { this.logErr(t) } }).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) })) } post(t, e = (() => { })) { if (t.body && t.headers && !t.headers["Content-Type"] && (t.headers["Content-Type"] = "application/x-www-form-urlencoded"), t.headers && delete t.headers["Content-Length"], this.isSurge() || this.isLoon()) this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.post(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) }); else if (this.isQuanX()) t.method = "POST", this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t)); else if (this.isNode()) { this.initGotEnv(t); const { url: s, ...i } = t; this.got.post(s, i).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) }) } } time(t, e = null) { const s = e ? new Date(e) : new Date; let i = { "M+": s.getMonth() + 1, "d+": s.getDate(), "H+": s.getHours(), "m+": s.getMinutes(), "s+": s.getSeconds(), "q+": Math.floor((s.getMonth() + 3) / 3), S: s.getMilliseconds() }; /(y+)/.test(t) && (t = t.replace(RegExp.$1, (s.getFullYear() + "").substr(4 - RegExp.$1.length))); for (let e in i) new RegExp("(" + e + ")").test(t) && (t = t.replace(RegExp.$1, 1 == RegExp.$1.length ? i[e] : ("00" + i[e]).substr(("" + i[e]).length))); return t } msg(e = t, s = "", i = "", r) { const o = t => { if (!t) return t; if ("string" == typeof t) return this.isLoon() ? t : this.isQuanX() ? { "open-url": t } : this.isSurge() ? { url: t } : void 0; if ("object" == typeof t) { if (this.isLoon()) { let e = t.openUrl || t.url || t["open-url"], s = t.mediaUrl || t["media-url"]; return { openUrl: e, mediaUrl: s } } if (this.isQuanX()) { let e = t["open-url"] || t.url || t.openUrl, s = t["media-url"] || t.mediaUrl; return { "open-url": e, "media-url": s } } if (this.isSurge()) { let e = t.url || t.openUrl || t["open-url"]; return { url: e } } } }; if (this.isMute || (this.isSurge() || this.isLoon() ? $notification.post(e, s, i, o(r)) : this.isQuanX() && $notify(e, s, i, o(r))), !this.isMuteLog) { let t = ["", "==============📣系统通知📣=============="]; t.push(e), s && t.push(s), i && t.push(i), console.log(t.join("\n")), this.logs = this.logs.concat(t) } } log(...t) { t.length > 0 && (this.logs = [...this.logs, ...t]), console.log(t.join(this.logSeparator)) } logErr(t, e) { const s = !this.isSurge() && !this.isQuanX() && !this.isLoon(); s ? this.log("", `❗️${this.name}, 错误!`, t.stack) : this.log("", `❗️${this.name}, 错误!`, t) } wait(t) { return new Promise(e => setTimeout(e, t)) } done(t = {}) { const e = (new Date).getTime(), s = (e - this.startTime) / 1e3; this.log("", `🔔${this.name}, 结束! 🕛 ${s} 秒`), this.log(), (this.isSurge() || this.isQuanX() || this.isLoon()) && $done(t) } }(t, e) }
