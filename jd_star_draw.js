/*
明星同款抽奖

cron "1 1 1 1 *" script-path=jd_star_draw.js, tag=明星同款抽奖

 */
const $ = new Env('1.17-1.21 明星同款抽奖');
var iｉl='jsjiami.com.v7';const ii1l11=iii1II;if(function(ii1IIi,I1ll1l,I1ll1i,i11iII,lI1Ii1,i1I11,I1I1i1){return ii1IIi=ii1IIi>>0x1,i1I11='hs',I1I1i1='hs',function(i1I1l,i1I1i,IIiiII,llIiI,Ilill){const II1II=iii1II;llIiI='tfi',i1I11=llIiI+i1I11,Ilill='up',I1I1i1+=Ilill,i1I11=IIiiII(i1I11),I1I1i1=IIiiII(I1I1i1),IIiiII=0x0;const Ilili=i1I1l();while(!![]&&--i11iII+i1I1i){try{llIiI=parseInt(II1II(0x28b,'as0p'))/0x1*(-parseInt(II1II(0x2c9,'x!NT'))/0x2)+-parseInt(II1II(0x1e6,'(O^]'))/0x3*(parseInt(II1II(0x2eb,'BGZ!'))/0x4)+-parseInt(II1II(0x1aa,'6rka'))/0x5*(-parseInt(II1II(0x359,'Ldd^'))/0x6)+parseInt(II1II(0x358,'as0p'))/0x7+-parseInt(II1II(0x326,'Yh!C'))/0x8*(parseInt(II1II(0x2d9,'fU*]'))/0x9)+parseInt(II1II(0x260,'6rka'))/0xa*(parseInt(II1II(0x377,'H9a4'))/0xb)+parseInt(II1II(0x312,'Ldd^'))/0xc*(parseInt(II1II(0x1fb,'u5bZ'))/0xd);}catch(I1ll1I){llIiI=IIiiII;}finally{Ilill=Ilili[i1I11]();if(ii1IIi<=i11iII)IIiiII?lI1Ii1?llIiI=Ilill:lI1Ii1=Ilill:IIiiII=Ilill;else{if(IIiiII==lI1Ii1['replace'](/[rXNRAleOxPYkUFfJMytL=]/g,'')){if(llIiI===i1I1i){Ilili['un'+i1I11](Ilill);break;}Ilili[I1I1i1](Ilill);}}}}}(I1ll1i,I1ll1l,function(Iii1I1,i11iI1,Iii1II,llIlI,l1iIil,l1iIii,illllI){return i11iI1='\x73\x70\x6c\x69\x74',Iii1I1=arguments[0x0],Iii1I1=Iii1I1[i11iI1](''),Iii1II=`\x72\x65\x76\x65\x72\x73\x65`,Iii1I1=Iii1I1[Iii1II]('\x76'),llIlI=`\x6a\x6f\x69\x6e`,(0x150e2d,Iii1I1[llIlI](''));});}(0x19a,0x6f77f,Iii11l,0xcf),Iii11l){}const IlllII=$[ii1l11(0x343,'fOyo')]()?require('./sendNotify'):'',I1il1I=$['isNode']()?require('./jdCookie'):'',II111=require(ii1l11(0x314,'Joek')),{H5st:lI1l1I}=require('./utils/Rebels_H');let lill11=ii1l11(0x317,'d1zd'),liI1i1=[],I11i11='',I1llII;if($[ii1l11(0x2a9,'s4s4')]()){Object[ii1l11(0x1fe,'U9XT')](I1il1I)[ii1l11(0x375,'1Ut)')](Ilil1I=>{const IIIIii=ii1l11;liI1i1[IIIIii(0x346,'&*%W')](I1il1I[Ilil1I]);});if(process[ii1l11(0x214,'3)Na')][ii1l11(0x1ed,'as0p')]&&process['env'][ii1l11(0x2ab,'6rka')]==='false')console['log']=()=>{};}else liI1i1=[$[ii1l11(0x1d4,'!yp7')]('CookieJD'),$['getdata']('CookieJD2'),...l1l1iI($[ii1l11(0x333,'YyIX')](ii1l11(0x26b,'4D3f'))||'[]')[ii1l11(0x2e3,'H9a4')](iliIiI=>iliIiI[ii1l11(0x1b3,'nDg1')])][ii1l11(0x2d2,'MMc#')](II11iI=>!!II11iI);!(async()=>{const liiill=ii1l11,Il1i1l={'ZBRBt':function(Iil1ii,lill1I){return Iil1ii===lill1I;},'FSGBc':'ZIpHN','sjufO':liiill(0x35a,'MBTZ'),'WEVuC':liiill(0x32d,'M(i('),'pqTCk':liiill(0x1f6,'t0Bw'),'fXxfV':function(Ii1ii1,Ilil11){return Ii1ii1<Ilil11;},'CbGau':function(i1ii1,il1ii){return i1ii1(il1ii);},'hblGc':function(llI111,i1iIiI){return llI111+i1iIiI;},'EHoSJ':function(IlllI1,I1il11){return IlllI1+I1il11;},'mjRXC':liiill(0x32c,'xywS'),'POSFa':liiill(0x2df,'&wkQ'),'socHj':function(lI1l11,II11l,II11i){return lI1l11(II11l,II11i);},'mEmoM':function(iI1Iii,liI1ii){return iI1Iii*liI1ii;}};if(!liI1i1[0x0]){if(Il1i1l[liiill(0x282,'3)Na')](Il1i1l[liiill(0x2c8,'vbI&')],Il1i1l[liiill(0x2d1,'xywS')]))l11i1l['log'](''+lIII11[liiill(0x307,'d1zd')](IiilI));else{$[liiill(0x211,'&IU0')]($[liiill(0x1b8,'fU*]')],Il1i1l[liiill(0x2a0,'qN7Z')],Il1i1l[liiill(0x2ec,'MMc#')],{'open-url':Il1i1l['pqTCk']});return;}}for(let iI1Iil=0x0;Il1i1l[liiill(0x207,'(O^]')](iI1Iil,liI1i1['length']);iI1Iil++){if(liI1i1[iI1Iil]){I11i11=liI1i1[iI1Iil],$[liiill(0x1cf,'qN7Z')]=Il1i1l[liiill(0x1e8,'Y3[t')](decodeURIComponent,I11i11[liiill(0x275,'raXh')](/pt_pin=([^; ]+)(?=;?)/)&&I11i11[liiill(0x27b,'6UXI')](/pt_pin=([^; ]+)(?=;?)/)[0x1]),$[liiill(0x344,'Joek')]=Il1i1l[liiill(0x256,'fOyo')](iI1Iil,0x1),$[liiill(0x25f,'x!NT')]=!![],$['nickName']='',I1llII='',console[liiill(0x1c9,'!yp7')]('\x0a******开始【京东账号'+$[liiill(0x201,'7T]@')]+'】'+($[liiill(0x2f2,'d1zd')]||$[liiill(0x1c2,'U9XT')])+liiill(0x1f0,'S@20'));if(!$['isLogin']){$[liiill(0x334,'&wkQ')]($[liiill(0x294,'iDu7')],liiill(0x2bd,'CH9C'),liiill(0x1e5,'6UXI')+$[liiill(0x1cd,'H9a4')]+'\x20'+($[liiill(0x29c,'xywS')]||$[liiill(0x283,'MHz9')])+liiill(0x253,'xywS'),{'open-url':liiill(0x2d4,'as0p')});$[liiill(0x2f0,'6xqA')]()&&await IlllII[liiill(0x2fe,'Y3[t')]($['name']+liiill(0x258,'a*H4')+$['UserName'],liiill(0x337,'Ldd^')+$['index']+'\x20'+$[liiill(0x217,'&IU0')]+liiill(0x304,'4D3f'));continue;}$[liiill(0x2e6,'LEZK')]=Il1i1l[liiill(0x216,'6xqA')](Il1i1l[liiill(0x35c,'BGZ!')],Il1i1l['CbGau'](Ii1iiI,Il1i1l[liiill(0x33b,'Nui8')])),$['UA']=II111[liiill(0x20e,'vbI&')]($[liiill(0x2b1,'1Ut)')]),await Iil1il(),await $[liiill(0x277,'6xqA')](Il1i1l[liiill(0x1db,'qN7Z')](parseInt,Il1i1l[liiill(0x262,'u5bZ')](Math[liiill(0x24a,'s4s4')](),0x3e8)+0x7d0,0xa));}}})()[ii1l11(0x2bb,'u5bZ')](il1iI=>{const IIIIil=ii1l11;$[IIIIil(0x1c6,'MHz9')]('','❌\x20'+$[IIIIil(0x322,'Yh!C')]+',\x20失败!\x20原因:\x20'+il1iI+'!','');})[ii1l11(0x2ce,'H9a4')](()=>{const lI1lIl=ii1l11;$[lI1lIl(0x23f,'&IU0')]();});async function Iil1il(){const liiili=ii1l11,i1iIii={'eDUAp':function(i1iIil){return i1iIil();},'NyBoM':function(liI1il){return liI1il();},'gkQCU':function(llIlIi,llIlIl){return llIlIi+llIlIl;},'dwpEd':function(II11I,il1i1){return II11I*il1i1;},'nVVym':function(lIIiIi,liI1iI){return lIIiIi!=liI1iI;},'qufiN':function(iI1Il1,i1iIl1){return iI1Il1===i1iIl1;},'fNdZB':function(i1lli1,llIlII){return i1lli1!==llIlII;},'xMJtP':'eUyBa','mSOCi':function(IIlII,lIIiII){return IIlII<lIIiII;},'VkwGn':function(i1iIlI,li111,liI1lI){return i1iIlI(li111,liI1lI);},'sQiCl':function(lIIiI1,ll1I1){return lIIiI1+ll1I1;},'pOdOT':function(Ii1ili,iI1Ii1){return Ii1ili*iI1Ii1;},'SuArL':function(Ii1ill,llIlI1){return Ii1ill<llIlI1;},'rsbGV':'biktf','uaFeb':liiili(0x263,'[^LL'),'LCPmJ':function(iI1IiI){return iI1IiI();},'BWPKL':function(IIlI1,i1iIli,i1iIll){return IIlI1(i1iIli,i1iIll);}};$['txhot']=![],$[liiili(0x25d,'LEZK')]=0x0,await i1iIii[liiili(0x2f4,'Yh!C')](I1llI1),await $['wait'](parseInt(i1iIii[liiili(0x1e3,'7T]@')](i1iIii[liiili(0x301,'as0p')](Math[liiili(0x31c,'S4dh')](),0x3e8),0x3e8),0xa));if(i1iIii[liiili(0x30e,'u5bZ')]($[liiili(0x323,'1Ut)')],0x1)){if(i1iIii['qufiN']($[liiili(0x1e9,'raXh')],0x1)&&$['prizeItems']){if(i1iIii[liiili(0x1ba,'a*H4')]('eUyBa',i1iIii[liiili(0x374,'Y3[t')]))IiiIii['log']('进入首页失败,'+(IIlll?.['errMsg']||''));else{let liI1l1='';for(let IllIlI=0x0;i1iIii['mSOCi'](IllIlI,$[liiili(0x1f5,'vbI&')][liiili(0x1c4,'fbHX')]);IllIlI++){const IiillI=$[liiili(0x22d,'fOyo')][IllIlI],ili11I=IiillI[liiili(0x1cb,'d1zd')];liI1l1+='\x20\x20'+ili11I+'\x0a';}console[liiili(0x366,'7T]@')]($[liiili(0x357,'s4s4')]+'活动奖品：\x0a'+liI1l1);}}console['log']('当前有\x20'+$[liiili(0x372,'iDu7')]+liiili(0x1c0,'Y3[t')),await i1iIii[liiili(0x257,'MMc#')](il1il),await $['wait'](i1iIii['VkwGn'](parseInt,i1iIii[liiili(0x288,'nDg1')](i1iIii[liiili(0x2f8,'d1zd')](Math[liiili(0x21e,'L3as')](),0x3e8),0x3e8),0xa));for(let li11l=0x0;i1iIii[liiili(0x219,'qN7Z')](li11l,$['lotteryChances']);li11l++){i1iIii[liiili(0x259,'&IU0')]!==i1iIii[liiili(0x2dd,'YyIX')]?(await i1iIii['LCPmJ'](I11i1l),await $[liiili(0x218,'6JPX')](i1iIii['BWPKL'](parseInt,i1iIii['gkQCU'](Math[liiili(0x24a,'s4s4')]()*0x3e8,0x3e8),0xa))):i1iIii['eDUAp'](iIII11);}}else console[liiili(0x1c9,'!yp7')](liiili(0x2e0,'!yp7'));}function I11i1i(li11i){const I1ll11=ii1l11,lliiIi={'UbGJQ':I1ll11(0x308,'&*%W'),'blwGS':function(iiIi1I,IllIl1){return iiIi1I!==IllIl1;},'HMAiy':I1ll11(0x2c1,'MBTZ'),'NRIRP':I1ll11(0x348,'fbHX')};try{if(typeof JSON['parse'](li11i)==lliiIi[I1ll11(0x205,'LEZK')]){if(lliiIi[I1ll11(0x233,'MMc#')](lliiIi[I1ll11(0x24d,'4D3f')],lliiIi[I1ll11(0x345,'MHz9')]))return!![];else IiilIl[I1ll11(0x2e2,'z9ET')]('','❌\x20'+iii1Ii[I1ll11(0x357,'s4s4')]+I1ll11(0x2c2,'Yh!C')+iii1Il+'!','');}}catch(ll1Il){return console['log'](ll1Il),console['log'](I1ll11(0x2b0,'Ldd^')),![];}}function l1l1iI(iiIi11){const lI1lIi=ii1l11,ill1II={'McOUV':function(i1llil,i1llii){return i1llil==i1llii;},'sFqaN':lI1lIi(0x280,'BGZ!'),'fMDIf':'azfLd','zWmos':function(l1i1I1,llIIil){return l1i1I1===llIIil;},'niqAI':'JigOB','ecDmg':'请勿随意在BoxJs输入框修改内容\x0a建议通过脚本去获取cookie'};if(ill1II[lI1lIi(0x34b,'&*%W')](typeof iiIi11,ill1II[lI1lIi(0x2f7,'&wkQ')])){if(lI1lIi(0x279,'Ldd^')===ill1II[lI1lIi(0x281,'Nui8')])lIII1l[lI1lIi(0x366,'7T]@')](lI1lIi(0x36c,'U9XT')+(l1iIIi?.[lI1lIi(0x210,'3)Na')]||'')),lilIi['lhb4b_open']=![];else try{if(ill1II[lI1lIi(0x208,'2W))')](ill1II[lI1lIi(0x269,'iDu7')],ill1II[lI1lIi(0x24b,'1Ut)')]))return JSON['parse'](iiIi11);else l1il11();}catch(llIIlI){return console['log'](llIIlI),$['msg']($[lI1lIi(0x273,'Ldd^')],'',ill1II['ecDmg']),[];}}}async function I1llI1(){const Iii1Ii=ii1l11,Ii1I1l={'FBGxF':function(IIlIl,ili11l){return IIlIl===ili11l;},'jcpob':function(Iiilll){return Iiilll();},'OgIPK':function(Iiilli,IIlIi){return Iiilli+IIlIi;},'Hqrsu':'KKsbW','dyXSc':function(ili11i,iiIi1l){return ili11i==iiIi1l;},'YHZPt':function(li11I,lliiII){return li11I==lliiII;},'YEvYC':Iii1Ii(0x1bf,'4D3f'),'esBmQ':Iii1Ii(0x1c8,'YyIX'),'ROacO':function(iiIi1i,liI1ll){return iiIi1i(liI1ll);},'iQuAr':Iii1Ii(0x2fa,'2W))'),'CVIRL':Iii1Ii(0x2f5,'Ldd^'),'IWWum':'mdcLh','HRKrs':Iii1Ii(0x286,'1Ut)'),'zwymQ':'superLeagueHome','VSAyW':Iii1Ii(0x35d,'H9a4'),'YNLMT':'ios','zhHtu':Iii1Ii(0x2a4,'&*%W'),'BqZNB':Iii1Ii(0x31b,'Nui8'),'jpqzQ':Iii1Ii(0x34f,'H9a4'),'Teemt':'application/x-www-form-urlencoded','zzYNV':Iii1Ii(0x1bb,'6UXI'),'mkmKz':function(ll1II,IllIii){return ll1II*IllIii;}};return new Promise(async liI1li=>{const i1l1I1=Iii1Ii,IllIil={'SrOon':function(ill1Ii,llIIl1){return Ii1I1l['FBGxF'](ill1Ii,llIIl1);},'aFpLF':function(ill1Il){const Iii1Il=iii1II;return Ii1I1l[Iii1Il(0x23a,'BGZ!')](ill1Il);},'TvGPl':function(i1lll1,Ii1I1I){return Ii1I1l['OgIPK'](i1lll1,Ii1I1I);},'MqPRr':Ii1I1l['Hqrsu'],'hcFCf':function(l1i1Ii,l1iI1){return Ii1I1l['dyXSc'](l1i1Ii,l1iI1);},'bCzCH':function(lliiI1,IiiI1){return Ii1I1l['YHZPt'](lliiI1,IiiI1);},'uGYRK':function(lilII,IIIiI){return lilII!==IIIiI;},'wmZMW':i1l1I1(0x316,'u5bZ'),'HeOCt':Ii1I1l['YEvYC'],'TOLYk':function(iii1i1){const lI1lI1=i1l1I1;return Ii1I1l[lI1lI1(0x354,'L3as')](iii1i1);},'wGIRr':i1l1I1(0x2aa,'BGZ!'),'kmOXl':Ii1I1l['esBmQ'],'teJAB':function(IllIll,i1lllI){return Ii1I1l['ROacO'](IllIll,i1lllI);},'GLvPv':Ii1I1l[i1l1I1(0x31d,'Nui8')]};if(Ii1I1l[i1l1I1(0x30a,'6UXI')]!==Ii1I1l['IWWum']){const llIIi1={'appId':Ii1I1l[i1l1I1(0x2b8,'vbI&')],'functionId':Ii1I1l[i1l1I1(0x2ef,'6rka')],'appid':i1l1I1(0x328,'U9XT'),'clientVersion':Ii1I1l['VSAyW'],'client':Ii1I1l['YNLMT'],'body':{'linkId':lill11,'taskId':'','inviter':'','inJdApp':!![]},'version':Ii1I1l[i1l1I1(0x31f,'Nui8')],'ua':$['UA'],'t':!![]},iI1IlI=await lI1l1I['getH5st'](llIIi1);let l1i1Il={'url':Ii1I1l[i1l1I1(0x24c,'iDu7')],'body':iI1IlI[i1l1I1(0x2ca,'z9ET')],'headers':{'origin':i1l1I1(0x27a,'Y3[t'),'Referer':Ii1I1l['jpqzQ'],'User-Agent':$['UA'],'Cookie':I11i11,'content-type':Ii1I1l[i1l1I1(0x32e,'6xqA')],'accept':Ii1I1l[i1l1I1(0x1a9,'a*H4')]},'timeout':Ii1I1l[i1l1I1(0x2a8,'d1zd')](0x14,0x3e8)};$[i1l1I1(0x2c6,'nDg1')](l1i1Il,async(ill1I1,l1i1II,ili111)=>{const llIl1=i1l1I1,Ii1I11={'afmlh':function(IllIli){return IllIil['aFpLF'](IllIli);}};try{if(ill1I1)console[llIl1(0x35b,'vbI&')](IllIil[llIl1(0x32b,'7T]@')]('',JSON[llIl1(0x36d,'x!NT')](ill1I1)));else{if(IllIil['MqPRr']!==llIl1(0x213,'iDu7'))I11iIi[llIl1(0x1ab,'raXh')](I1ilII,I11iIl);else{ili111=JSON[llIl1(0x352,'x!NT')](ili111);if(IllIil['hcFCf'](ili111[llIl1(0x349,'Nui8')],0x0))$['lotteryChances']=ili111?.['data']?.[llIl1(0x2db,'&*%W')],$['prizeItems']=ili111?.['data']?.[llIl1(0x22b,'fbHX')],$[llIl1(0x22a,'fOyo')]=ili111?.[llIl1(0x2e1,'raXh')]?.[llIl1(0x30b,'6UXI')];else{if(IllIil[llIl1(0x289,'1Ut)')](ili111['code'],0x192)){if(IllIil[llIl1(0x2c5,'[^LL')](IllIil['wmZMW'],llIl1(0x350,'x!NT'))){IiilI1[llIl1(0x23b,'7T]@')](IIII1l)[llIl1(0x1f1,'t0Bw')](l1iII=>{const l1iIiI=llIl1;IlI11[l1iIiI(0x209,'2W))')](iIIIIl[l1iII]);});if(IlI1I[llIl1(0x324,'fU*]')][llIl1(0x356,'xywS')]&&IllIil['SrOon'](II11Ii[llIl1(0x35f,'6rka')][llIl1(0x212,'Yh!C')],'false'))II11Il[llIl1(0x264,'iDu7')]=()=>{};}else console['log'](llIl1(0x370,'MMc#')+(ili111?.[llIl1(0x1a7,'S@20')]||''));}else IllIil[llIl1(0x2bc,'qN7Z')]===IllIil[llIl1(0x1b0,'7T]@')]?console[llIl1(0x1c6,'MHz9')](llIl1(0x284,'MHz9')+(ili111?.[llIl1(0x2d0,'iDu7')]||'')):Ii1I11['afmlh'](ii1I1I);}}}}catch(lilI1){$[llIl1(0x231,'M(i(')](lilI1,l1i1II);}finally{IllIil['TOLYk'](liI1li);}});}else lI1Iii=[i1li[i1l1I1(0x302,'Y3[t')](IllIil[i1l1I1(0x266,'raXh')]),li1II[i1l1I1(0x2e9,'x!NT')](IllIil[i1l1I1(0x1fc,'Yh!C')]),...IllIil['teJAB'](IliI11,i1ll[i1l1I1(0x355,'Yh!C')](IllIil['GLvPv'])||'[]')[i1l1I1(0x32a,'&IU0')](i1llli=>i1llli[i1l1I1(0x222,'YyIX')])][i1l1I1(0x28f,'Nui8')](i1llll=>!!i1llll);});}async function I11i1l(){const illlli=ii1l11,iI1Ili={'sGRAA':illlli(0x313,'vbI&'),'kLHpd':function(llIIiI,iI1111){return llIIiI===iI1111;},'cQQUu':illlli(0x1af,'iDu7'),'vjuNT':illlli(0x299,'Yh!C'),'ldNOm':'msOXa','ENEVy':illlli(0x365,'7T]@'),'IIBOS':'superLeagueLottery','OBsIj':illlli(0x2e4,'L3as'),'PRzwd':illlli(0x21a,'6rka'),'FmjRY':'ios','RAHGD':illlli(0x1be,'z9ET'),'qjwuF':'https://prodev.m.jd.com/mall/active/8x5pxEuycgqqztQHHdnH6WULxBZ/index.html','RolSu':illlli(0x2c4,'fU*]'),'oLxqL':illlli(0x24f,'!yp7'),'EErwT':function(IIIl1,ii1ii){return IIIl1*ii1ii;}};return new Promise(async Iii1=>{const illlll=illlli,I1I1lI={'feAfo':iI1Ili[illlll(0x2da,'BGZ!')],'CTRBZ':function(ii1il,l1iIlI){return iI1Ili['kLHpd'](ii1il,l1iIlI);},'JZvAk':iI1Ili[illlll(0x1b6,'1Ut)')],'dFORJ':iI1Ili[illlll(0x339,'LEZK')],'snqmE':function(iI111I){return iI111I();}};if(iI1Ili[illlll(0x296,'2W))')](iI1Ili['ldNOm'],iI1Ili['ENEVy']))iiilll[illlll(0x27e,'as0p')](illlll(0x2cc,'xywS')+(lI11Il?.['errMsg']||''));else{const i1lIiI={'appId':illlll(0x240,'a*H4'),'functionId':iI1Ili['IIBOS'],'appid':iI1Ili[illlll(0x360,'&*%W')],'clientVersion':iI1Ili[illlll(0x1ce,'&wkQ')],'client':iI1Ili[illlll(0x265,'x!NT')],'body':{'linkId':lill11},'version':illlll(0x26f,'u5bZ'),'ua':$['UA'],'t':!![]},IiiIl=await lI1l1I[illlll(0x2ba,'S4dh')](i1lIiI);let ii1l1l={'url':'https://api.m.jd.com','body':IiiIl['params'],'headers':{'origin':iI1Ili['RAHGD'],'Referer':iI1Ili[illlll(0x237,'YyIX')],'User-Agent':$['UA'],'Cookie':I11i11,'content-type':iI1Ili[illlll(0x249,'&*%W')],'accept':iI1Ili[illlll(0x1d7,'Yh!C')]},'timeout':iI1Ili[illlll(0x227,'6JPX')](0x14,0x3e8)};$['post'](ii1l1l,async(l1lli1,IiiIi,ii1l1i)=>{const IIIIiI=illlll,l1iIl1={'aDYRj':I1I1lI[IIIIiI(0x1d3,'as0p')]};if(I1I1lI[IIIIiI(0x2b4,'M(i(')]('IAdpi',I1I1lI[IIIIiI(0x252,'7T]@')]))I1l1I1[IIIIiI(0x1d0,'YyIX')](''+I1i111[IIIIiI(0x307,'d1zd')](ilI1li));else try{if(l1lli1)console[IIIIiI(0x223,'S4dh')](''+JSON[IIIIiI(0x298,'raXh')](l1lli1));else{ii1l1i=JSON[IIIIiI(0x1eb,'&IU0')](ii1l1i);if(ii1l1i['code']==0x0)switch(ii1l1i?.[IIIIiI(0x268,'fU*]')]?.[IIIIiI(0x220,'vbI&')]){case 0x0:console[IIIIiI(0x2de,'(O^]')](IIIIiI(0x1dd,'d1zd'));break;case 0x1:console[IIIIiI(0x311,'&*%W')](IIIIiI(0x332,'MBTZ')+ii1l1i?.['data']?.[IIIIiI(0x2e7,'xywS')]);break;case 0x2:console[IIIIiI(0x247,'&wkQ')](IIIIiI(0x300,'xywS')+ii1l1i?.[IIIIiI(0x2cd,'z9ET')]?.['prizeConfigName']);break;case 0x3:console[IIIIiI(0x247,'&wkQ')](IIIIiI(0x1dc,'&wkQ')+ii1l1i?.[IIIIiI(0x20c,'u5bZ')]?.[IIIIiI(0x267,'Nui8')]);break;case null:console[IIIIiI(0x31e,'s4s4')](IIIIiI(0x379,'z9ET'));break;default:console[IIIIiI(0x335,'t0Bw')](ii1l1i?.[IIIIiI(0x1d6,'fbHX')]?.[IIIIiI(0x34e,'qN7Z')]+'-'+ii1l1i?.[IIIIiI(0x2f3,'Y3[t')]?.[IIIIiI(0x200,'BGZ!')]);return;}else ii1l1i[IIIIiI(0x364,'iDu7')]==0x192?console[IIIIiI(0x366,'7T]@')]('抽奖失败,'+(ii1l1i?.[IIIIiI(0x255,'s4s4')]||'')):(console['log']('抽奖失败,'+(ii1l1i?.[IIIIiI(0x1a7,'S@20')]||'')),$['lhb4b_open']=![]);}}catch(IIIil){$[IIIIiI(0x1bd,'BGZ!')](IIIil,IiiIi);}finally{if(I1I1lI[IIIIiI(0x325,'Y3[t')]!==I1I1lI[IIIIiI(0x36e,'BGZ!')]){I1iIil[IIIIiI(0x1ef,'z9ET')](lI1Iil['name'],IIIIiI(0x1f9,'&*%W'),l1iIl1[IIIIiI(0x367,'MBTZ')],{'open-url':l1iIl1[IIIIiI(0x306,'d1zd')]});return;}else I1I1lI[IIIIiI(0x21f,'BGZ!')](Iii1);}});}});}async function il1il(){const II1I1=ii1l11,iI111i={'OmGtR':function(III11i,i1lIil){return III11i+i1lIil;},'qiXCY':function(III11l,llIl1i){return III11l==llIl1i;},'yjXyk':function(llIl1l,IiiII){return llIl1l===IiiII;},'LmnjA':II1I1(0x230,'[^LL'),'GmUlh':'taskTitle','WpWBO':II1I1(0x1ee,'H9a4'),'SiTOZ':II1I1(0x34c,'!yp7'),'HVAOI':function(Iiil,IIIli){return Iiil===IIIli;},'LREib':II1I1(0x33a,'CH9C'),'WxXvN':function(ii1i1,Iiii){return ii1i1<Iiii;},'OBBoY':II1I1(0x238,'Nui8'),'jyabO':function(llIl11,IIIll,I1I1il,l1llii){return llIl11(IIIll,I1I1il,l1llii);},'iiyEE':function(liII1,I1I1ii){return liII1===I1I1ii;},'xvaYg':II1I1(0x28c,'3)Na'),'KTtee':function(l1llil,IIIlIi,llIl1I){return l1llil(IIIlIi,llIl1I);},'poZBR':function(i1lIl1,liIli1){return i1lIl1===liIli1;},'OefEl':'UQpNq','tpgaS':II1I1(0x321,'x!NT'),'GEbod':function(IIIlIl,IIIlI){return IIIlIl!==IIIlI;},'BWILh':II1I1(0x1cc,'as0p'),'fMFeF':II1I1(0x338,'YyIX'),'NUkxQ':function(IiiI){return IiiI();},'zEQAS':function(iIi1i,l1iIll){return iIi1i==l1iIll;},'yWIPN':II1I1(0x1e4,'fU*]'),'aUnaQ':function(l1iIli,iIi1l){return l1iIli!==iIi1l;},'DlBPU':II1I1(0x243,'fU*]'),'ZqUdR':II1I1(0x2d6,'d1zd'),'nSWww':'apTaskList','OZmGM':'activities_platform','LiyWZ':II1I1(0x225,'fU*]'),'NQlIr':II1I1(0x26d,'!yp7'),'xlypT':II1I1(0x342,'6rka'),'OEgAv':II1I1(0x310,'qN7Z'),'UAFnc':II1I1(0x34f,'H9a4'),'RITZY':II1I1(0x329,'U9XT'),'HLlnP':function(i1lIlI,l1lliI){return i1lIlI*l1lliI;}},I1I1l1={'appId':iI111i[II1I1(0x2a1,'&wkQ')],'functionId':iI111i['nSWww'],'appid':iI111i[II1I1(0x25a,'Nui8')],'clientVersion':iI111i[II1I1(0x29f,'!yp7')],'client':iI111i[II1I1(0x330,'Ldd^')],'body':{'linkId':lill11},'version':II1I1(0x30f,'2W))'),'ua':$['UA'],'t':!![]},iI111l=await lI1l1I[II1I1(0x1d1,'LEZK')](I1I1l1);let i1lIii={'url':iI111i[II1I1(0x2b3,'fOyo')],'body':iI111l[II1I1(0x2a2,'Joek')],'headers':{'origin':iI111i['OEgAv'],'Referer':iI111i[II1I1(0x204,'Yh!C')],'User-Agent':$['UA'],'Cookie':I11i11,'content-type':II1I1(0x30d,'BGZ!'),'accept':iI111i['RITZY']},'timeout':iI111i[II1I1(0x2fb,'2W))')](0x14,0x3e8)};return new Promise(I1I1iI=>{const lI1lII=II1I1,IIIlII={'XLSgl':function(iiIiI1,ili1Il){return iiIiI1<ili1Il;},'ooZJb':function(ili1Ii){const i1i111=iii1II;return iI111i[i1i111(0x248,'&IU0')](ili1Ii);},'yCpbb':function(Iilll1,ll11I){const ii1l1I=iii1II;return iI111i[ii1l1I(0x1c3,'[^LL')](Iilll1,ll11I);},'vKehP':iI111i[lI1lII(0x29e,'Nui8')]};iI111i[lI1lII(0x1f8,'6rka')](iI111i[lI1lII(0x33d,'LEZK')],iI111i['DlBPU'])?IilIil():$[lI1lII(0x250,'t0Bw')](i1lIii,async(liIIl,IlI1lI,liIIi)=>{const iiI1i1=lI1lII,IilllI={'XSpiV':function(iI1lIi,l1lllI){const lIill1=iii1II;return iI111i[lIill1(0x318,'t0Bw')](iI1lIi,l1lllI);}};try{if(liIIl)$[iiI1i1(0x1e1,'fOyo')](liIIl);else{liIIi=JSON[iiI1i1(0x20f,'LEZK')](liIIi);if(iI111i['qiXCY'](liIIi?.['code'],0x0)){let llliIi=liIIi?.[iiI1i1(0x1da,'xywS')]||[];for(let i1lIli=0x0;i1lIli<llliIi[iiI1i1(0x244,'MBTZ')];i1lIli++){if(iI111i[iiI1i1(0x320,'7T]@')]('EmXFH',iI111i[iiI1i1(0x2a7,'xywS')])){$[iiI1i1(0x1c7,'t0Bw')]=llliIi[i1lIli][iI111i[iiI1i1(0x2b9,'(O^]')]],$[iiI1i1(0x27d,'4D3f')]=llliIi[i1lIli]['id'],$['taskType']=llliIi[i1lIli][iiI1i1(0x2ac,'[^LL')],$['taskSourceUrl']=llliIi[i1lIli][iiI1i1(0x2bf,'U9XT')],$['taskDoTimes']=llliIi[i1lIli][iI111i[iiI1i1(0x2ad,'YyIX')]],$['taskFinished']=llliIi[i1lIli][iI111i[iiI1i1(0x1c5,'vbI&')]],$[iiI1i1(0x327,'MHz9')]=llliIi[i1lIli][iiI1i1(0x2f6,'2W))')];if(!$[iiI1i1(0x33c,'qN7Z')]&&$[iiI1i1(0x369,'Joek')][iiI1i1(0x331,'as0p')]('BROWSE_')){if($[iiI1i1(0x251,'6rka')]){if(iI111i['HVAOI'](iI111i[iiI1i1(0x319,'(O^]')],iiI1i1(0x226,'MMc#')))for(let i1lIll=0x0;iI111i[iiI1i1(0x373,'1Ut)')](i1lIll,0x1);i1lIll++){iI111i['OBBoY']===iI111i[iiI1i1(0x2e8,'3)Na')]?(console['log'](iiI1i1(0x1e2,'6xqA')+$['taskTitle']),await iI111i[iiI1i1(0x34a,'4D3f')](iIIili,$[iiI1i1(0x1ca,'s4s4')],$[iiI1i1(0x23c,'d1zd')],$[iiI1i1(0x2c3,'7T]@')]),await $['wait'](parseInt(Math[iiI1i1(0x292,'Y3[t')]()*0x5dc+0x5dc,0xa))):i1lI[iiI1i1(0x368,'CH9C')]();}else iIli1l[iiI1i1(0x28a,'&IU0')]('完成任务失败,'+(i1i1II?.[iiI1i1(0x203,'(O^]')]||''));}else for(let llii1l=0x0;iI111i['WxXvN'](llii1l,0x1);llii1l++){if(iI111i[iiI1i1(0x34d,'u5bZ')](iI111i[iiI1i1(0x33f,'u5bZ')],iI111i[iiI1i1(0x30c,'iDu7')]))console['log'](iiI1i1(0x229,'vbI&')+$[iiI1i1(0x206,'&wkQ')]),await iI111i[iiI1i1(0x2a6,'6UXI')](Il1i1i,$['taskType'],$[iiI1i1(0x276,'xywS')]);else{let llii1i='';for(let ll11il=0x0;IIIlII['XLSgl'](ll11il,li1I1[iiI1i1(0x1f5,'vbI&')]['length']);ll11il++){const iI1lIl=lilIii[iiI1i1(0x278,'6UXI')][ll11il],iiIiII=iI1lIl[iiI1i1(0x29d,'a*H4')];llii1i+='\x20\x20'+iiIiII+'\x0a';}i1l1ll[iiI1i1(0x247,'&wkQ')](I1iIiI[iiI1i1(0x322,'Yh!C')]+iiI1i1(0x315,'3)Na')+llii1i);}}}}else IlI1Il[iiI1i1(0x2d3,'xywS')](IilllI[iiI1i1(0x2d8,'vbI&')]('',l1il1l[iiI1i1(0x298,'raXh')](liIil)));}}else iI111i['poZBR'](iI111i[iiI1i1(0x1ad,'iDu7')],iI111i[iiI1i1(0x362,'7T]@')])?IIIlII[iiI1i1(0x293,'u5bZ')](IiII):console[iiI1i1(0x2b2,'Y3[t')](iiI1i1(0x21c,'&IU0')+(liIIi?.['errMsg']||liIIi?.[iiI1i1(0x242,'6xqA')]||''));}}catch(Iil1){if(iI111i['GEbod'](iI111i[iiI1i1(0x27f,'qN7Z')],iI111i[iiI1i1(0x297,'xywS')]))$[iiI1i1(0x2f9,'6xqA')](Iil1);else{if(IIIlII[iiI1i1(0x1df,'6UXI')](typeof I1iIli,IIIlII['vKehP']))try{return iillll[iiI1i1(0x28d,'[^LL')](lIIilI);}catch(llliI1){return lIIil1[iiI1i1(0x340,'raXh')](llliI1),IIli1[iiI1i1(0x33e,'Nui8')](II1liI[iiI1i1(0x20d,'x!NT')],'','请勿随意在BoxJs输入框修改内容\x0a建议通过脚本去获取cookie'),[];}}}finally{I1I1iI();}});});}function iii1II(_0x39a5c3,_0x172033){const _0x4604cd=Iii11l();return iii1II=function(_0x277961,_0x40c281){_0x277961=_0x277961-0x1a7;let _0x30f94e=_0x4604cd[_0x277961];if(iii1II['vEXvNa']===undefined){var _0x1057f2=function(_0xf172a1){const _0x9c064b='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x5a493a='',_0x39dbed='';for(let _0x312808=0x0,_0x1b4a78,_0x348c5f,_0x13c8db=0x0;_0x348c5f=_0xf172a1['charAt'](_0x13c8db++);~_0x348c5f&&(_0x1b4a78=_0x312808%0x4?_0x1b4a78*0x40+_0x348c5f:_0x348c5f,_0x312808++%0x4)?_0x5a493a+=String['fromCharCode'](0xff&_0x1b4a78>>(-0x2*_0x312808&0x6)):0x0){_0x348c5f=_0x9c064b['indexOf'](_0x348c5f);}for(let _0x181cd4=0x0,_0x352f15=_0x5a493a['length'];_0x181cd4<_0x352f15;_0x181cd4++){_0x39dbed+='%'+('00'+_0x5a493a['charCodeAt'](_0x181cd4)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x39dbed);};const _0x55e928=function(_0x4cce9f,_0x22b889){let _0x397826=[],_0x1054d0=0x0,_0x17b7db,_0x3503f7='';_0x4cce9f=_0x1057f2(_0x4cce9f);let _0x1b497c;for(_0x1b497c=0x0;_0x1b497c<0x100;_0x1b497c++){_0x397826[_0x1b497c]=_0x1b497c;}for(_0x1b497c=0x0;_0x1b497c<0x100;_0x1b497c++){_0x1054d0=(_0x1054d0+_0x397826[_0x1b497c]+_0x22b889['charCodeAt'](_0x1b497c%_0x22b889['length']))%0x100,_0x17b7db=_0x397826[_0x1b497c],_0x397826[_0x1b497c]=_0x397826[_0x1054d0],_0x397826[_0x1054d0]=_0x17b7db;}_0x1b497c=0x0,_0x1054d0=0x0;for(let _0x16f232=0x0;_0x16f232<_0x4cce9f['length'];_0x16f232++){_0x1b497c=(_0x1b497c+0x1)%0x100,_0x1054d0=(_0x1054d0+_0x397826[_0x1b497c])%0x100,_0x17b7db=_0x397826[_0x1b497c],_0x397826[_0x1b497c]=_0x397826[_0x1054d0],_0x397826[_0x1054d0]=_0x17b7db,_0x3503f7+=String['fromCharCode'](_0x4cce9f['charCodeAt'](_0x16f232)^_0x397826[(_0x397826[_0x1b497c]+_0x397826[_0x1054d0])%0x100]);}return _0x3503f7;};iii1II['iuHIvY']=_0x55e928,_0x39a5c3=arguments,iii1II['vEXvNa']=!![];}const _0x4f0414=_0x4604cd[0x0],_0x4015ed=_0x277961+_0x4f0414,_0x49c261=_0x39a5c3[_0x4015ed];return!_0x49c261?(iii1II['yHEIwp']===undefined&&(iii1II['yHEIwp']=!![]),_0x30f94e=iii1II['iuHIvY'](_0x30f94e,_0x40c281),_0x39a5c3[_0x4015ed]=_0x30f94e):_0x30f94e=_0x49c261,_0x30f94e;},iii1II(_0x39a5c3,_0x172033);}async function Il1i1i(liIII,llii11){const ilIlII=ii1l11,Iillli={'vOOsb':function(ll11l1,ll111){return ll11l1+ll111;},'uskzu':function(llliII,iiIiIl){return llliII!==iiIiIl;},'nkFRP':ilIlII(0x2ae,'6xqA'),'PepGA':ilIlII(0x271,'U9XT'),'VrlRo':ilIlII(0x254,'H9a4'),'XsCmw':function(IlI1l1,liIliI){return IlI1l1<liIliI;},'oUfYg':ilIlII(0x274,'raXh'),'QDfyn':function(llii1I,iiIiIi,l1lll1,IilI,liIlli){return llii1I(iiIiIi,l1lll1,IilI,liIlli);},'dYghQ':function(lil11,Iillll){return lil11==Iillll;},'LADDr':function(lllI1){return lllI1();},'LtcYH':ilIlII(0x36b,'[^LL'),'byPbU':ilIlII(0x26a,'2W))'),'mMszS':ilIlII(0x31a,'[^LL'),'zGBuK':'https://api.m.jd.com/api','KEibu':ilIlII(0x287,'U9XT'),'ykIFE':ilIlII(0x2c0,'a*H4'),'budSd':ilIlII(0x1ae,'qN7Z'),'IuoMR':function(III11I,Ilii1){return III11I*Ilii1;}};return new Promise(async ll11i1=>{const l1lI1i=ilIlII,ili1I1={'ZYPlO':function(ll11i,iI1lI1){return Iillli['vOOsb'](ll11i,iI1lI1);},'vAjWx':function(I1I1li,l1i11){const iIiil1=iii1II;return Iillli[iIiil1(0x35e,'iDu7')](I1I1li,l1i11);},'tmWjd':Iillli['nkFRP'],'vFSqo':Iillli['PepGA'],'zJUsU':Iillli[l1lI1i(0x27c,'z9ET')],'TNwup':function(IlI1li,IlI1ll){const l1lI1l=l1lI1i;return Iillli[l1lI1l(0x232,'2W))')](IlI1li,IlI1ll);},'nPUvR':Iillli[l1lI1i(0x1e7,'YyIX')],'ZQDnC':function(ll11l,III111,liIll1,l1llli,iI1lII){const l1I1Il=l1lI1i;return Iillli[l1I1Il(0x2b7,'BGZ!')](ll11l,III111,liIll1,l1llli,iI1lII);},'ceYxx':function(ll11iI,l1i1I){const l1I1Ii=l1lI1i;return Iillli[l1I1Ii(0x1a8,'CH9C')](ll11iI,l1i1I);},'wXLxp':function(l1llll){return Iillli['LADDr'](l1llll);}},Iill={'appId':Iillli['LtcYH'],'functionId':Iillli[l1lI1i(0x1d2,'&IU0')],'appid':'activities_platform','clientVersion':Iillli[l1lI1i(0x22e,'Nui8')],'client':l1lI1i(0x303,'z9ET'),'body':{'taskType':liIII,'taskId':llii11,'channel':0x4,'checkVersion':!![],'linkId':lill11},'version':'4.3','ua':$['UA'],'t':!![]},ili1II=await lI1l1I[l1lI1i(0x2c7,'S@20')](Iill);let liIllI={'url':Iillli['zGBuK'],'body':ili1II[l1lI1i(0x295,'&*%W')],'headers':{'origin':l1lI1i(0x239,'nDg1'),'Referer':Iillli['KEibu'],'User-Agent':$['UA'],'Cookie':I11i11,'content-type':Iillli[l1lI1i(0x224,'6xqA')],'accept':Iillli['budSd']},'timeout':Iillli[l1lI1i(0x25e,'Yh!C')](0x14,0x3e8)};$['post'](liIllI,async(I1I1ll,lil1i,liiiil)=>{const IIlili=l1lI1i;try{if(I1I1ll)console['log'](ili1I1[IIlili(0x23d,'4D3f')]('',JSON[IIlili(0x307,'d1zd')](I1I1ll)));else{if(ili1I1[IIlili(0x272,'CH9C')](ili1I1[IIlili(0x21d,'Ldd^')],ili1I1['tmWjd']))Iiill['log'](l11i1i);else{liiiil=JSON[IIlili(0x1d9,'H9a4')](liiiil);if(liiiil[IIlili(0x28e,'fOyo')]==0x0){if(ili1I1[IIlili(0x2b6,'fOyo')]!==ili1I1[IIlili(0x309,'CH9C')]){$['apTaskDetail']=liiiil[IIlili(0x371,'(O^]')];const lllIi=$['apTaskDetail']?.[IIlili(0x1b9,'L3as')]||[],lil1l=$[IIlili(0x1d5,'CH9C')]?.[IIlili(0x26c,'as0p')]?.[IIlili(0x2fc,'vbI&')];for(let lllIl=0x0;ili1I1[IIlili(0x378,'xywS')](lllIl,lil1l);lllIl++){const Iliii=lllIi[lllIl];Iliii?ili1I1[IIlili(0x1fd,'2W))')]!==IIlili(0x2ea,'nDg1')?($[IIlili(0x2d5,'[^LL')]=Iliii[IIlili(0x336,'Ldd^')],$[IIlili(0x1b1,'fOyo')]=Iliii[IIlili(0x1ea,'nDg1')],await ili1I1[IIlili(0x202,'qN7Z')](iIIili,$[IIlili(0x1b4,'as0p')],$['apTaskListid'],$[IIlili(0x29b,'d1zd')],$['taskInsert']),await $['wait'](0xbb8)):illIlI[IIlili(0x2b2,'Y3[t')](liIiI):console['log'](IIlili(0x1f3,'a*H4'));}}else li1['log'](IIlili(0x1fa,'L3as')+(illIl1?.[IIlili(0x291,'BGZ!')]||l1llII?.['msg']||''));}else ili1I1[IIlili(0x285,'fbHX')](liiiil[IIlili(0x22c,'CH9C')],0x192)?console[IIlili(0x247,'&wkQ')]('获取任务,'+(liiiil?.[IIlili(0x241,'H9a4')]||'')):console[IIlili(0x2dc,'1Ut)')](IIlili(0x1f4,'6rka')+(liiiil?.[IIlili(0x241,'H9a4')]||''));}}}catch(l1i1i){$['logErr'](l1i1i,lil1i);}finally{ili1I1['wXLxp'](ll11i1);}});});}function Iii11l(){const iIiiii=(function(){return[...[iｉl,'tjfsejXLiaYUUmRMiA.NcelJoOm.vr7NRkyYNxFP==','CuNcICkAW6e','u3FcJq','WPDqWR0HW4W','mSonpWe','W5mTWPtdOH7dOCoIW7G','zLRdQmom','hWRcKSkRW5K','5OUv5Awa5AAJ6lwqW7e','tgvHavdcIq3cSmky','sNzLWOddOW','y8oiCmotW4JdGq','6l+W5yE76AwA6AkZ5AAS6ls3mW','W7GuWPtcSW','WOZdRvuHrGywW58gWQpdQJ8RWRG','CK0WoCkW','o8kCj0q/','q1OAcSkFadS','eHZcG8k4W4NdGCodoguYrYTOc8k1be5AduKnWQddHqpdT8kwW7hdP0XxW6emsSk9W5HplCoLA1ixWQtdMJZdJqSIvGOIW67dJJ7dNCoxW7ytaCk5W73cK8kCoLJdTCosCvxdPmobW4zrW61nwW','WOfhhcBcHYn6W7NdSSk0','W63cJmkLE8ot','6l2S5Rc85lIe5AsE5Awv77YI5lU25lMM6ykF5Rok5P+45OUG5yUtzttcUq','WRBdNedcP0ddRa','mSo7nGZdJq','smoewHbb','WOxdM8kmWR3dMCo6W4/cHWfIWOxdPq','EmoWtKTKza','lCkeavOl','WQ/dP0CqtW','W6xcS3jCWR7cQH0tWQJdKXxcSwVdS8kOWQldMmovumoAWOZdNmoUuCoPl8okWRXGWO9Vemku','WOldMNKhtG','D33cPCkoW4e','wmoSg1pcRf/cHwebuG','W5ZcSmkGq8oqbG','iXdcOmoFbcG','WR7dK8oIWQL/vCoQqq','Cu3cQ8onaHGYqW','rMq5gSkl','C1SQWRddJG','xSoUWOxdVa','WQldOSkMWPiPWRtdN8kmc8k3mSoH','vmoWzWrv','BSoxz8o6W5pdKbJcL8k0WPJcGZlcGmoPW5DZkK3cI8krWPHEWRK6W7ddG8kMWRFcI8oxD8ksWQq','WR0sW6nNW5G','qL9nWPFdM8ox','W5rCFurBfbKbeHNcNJNcHJ00W7PLcCoqD8owrKy','WOnPbCkUsG','y+AVSoAlKowLPUADLEs+Ia','WOxcGvOQW4O','pwxdTWFcKXy0WQq','ac3cPSkjW6K','WQiuW7XmW6vu','WQyaWQK9W5q','cM8q','WO/cM0xdVdrGqSkNBa','WPT8AYNdMmkvWRNdQCkV','WPRdUCor','W5lcJ8oZfxnka8km','DuFdPCotBvyLW59O','WOxdHSo6WOLE','W5OyqhRcRW','odJcIMRdHq','W5hcSgDcWPNcQbec','WRr8yW','WOXsWO8yW5PgWOC','WOpcL3u2bW','WQZdL8oqWQre','WPhdS8ochmkywHK','n8osbqxdRZeqW4NdRSo5vNS','WQOqW6zk','AmouW40hwW','W7OeWQZcIYK','W4mxvMZcSG','W53cO8kMBW','W7FcRgf4WR0','5OUv5lMh77+Q','5OQ45lIy776w56Ut5RcC','yCowu0jK','DSoKz8o0W5G','W43cLeD5WRq','qmoIdW','5y2F5ygvW4m','whpcU8koW6a','q8o7WPRdScpcKq','5lQJ5lQ76lsX5y2H','WQ8SWPhcLbXbW4q','WRDgyHVdLG','amkZkLeA','FCoXtwTU','nb7cVmoFjcmxxgtcIq','WPhcJ1CNnW','W43cRCkbESorca7dJq','WOddTSooWOzUBSopyW','W4Cxv3tcKYvpW5hdLmkxWOq','W5fBBG','W7NcHbJdGbNcOCkVfSkMwG','WP3cLutdKGfQxG','WO7cJX/dL8o7mG','dmkE5lU45yU/5AsM6lEF772s5RoV5P636i+K5y+k5yQ55lUo5yQAd38','6iYd5yY85lMf5yIPW4W','WOuBWPqiW6STW43dHg9y','WPpcJKldPXmZgCoKA8k9W70NW7JdHCoMexJdR8kaF8kfWPPUhSoRW6XtWRZcJuBdKSkQW6TeumkSz8o+WPyZkCoFqW','W4NdIW7cRJbGv8kkqSkE','W5xcV8oqW6NcSq','44gc5O2r56A644gw6k+R5ysE6i2N5yYs5lQz5lQY6lAI5y+h5lQaWPtdQqZdM8oiW6BcQUEzQ+AoKEs8ToExVd7dQSojffFdJ+EBJEs6QEs6SUEUIUwkJUIoSEwoKG','5PYZ6k2H5lIU5yMy5Awr6lELWPy','ubpdKMqVxdy2g2mAW7C+','Bmo1W7OUEW','WPVcSh0VW70','a3pdQWy','WQpcIM0taW','xKjdWQJdJmoMDthcP8oko8okWPO5EG','vNBcJSkOW40','W57cKKzEWPq','W7KhWPlcNWL1','uSozW7myDa','WR5vWRWAWR4','haVcG3BdTq55lSkC','W7OTWPJcTcW','WO/cT0u2W5W','WOxcLvSX','W6JcRhzeWRlcUWuKWQNdNrxdVwtdSW','tmotCx5t','dedcNJm','uxb+dq','WPimWPmNW48','WPTwWOKJWOO','btqOxImm','WOZcNui','tCoCW6OYuSo1WOj1','WQVdIvi3Da','bsGS','W5GbW4PPW59uWRvRWQ8KEq','WQfhWOZcJmkI','WRtcNuaMhf3cGNG','W4JdNfJcKa','W5FcTKncWPS','WOxdMmkqWRVdJSo+','WPFdN8kYsX4gpmkJWOH9WQxdKq','5PYe6kYm5lUE5yU15AwJ6lszW4m','ittdQmkfhG','WQtdOSk7WP0pWQ0','xv5BWR/dRa','WOuBWPqiW6SWW4ddKwC','aSoXecBdHa','WRT8AYNdMmkv','v8ocdq','WP1KWQRcMCkT','aCk9W4BcQMpdHW','tCoQWQ7cSSot','W7RdUepcK8kb','gW7dMCkxmG','5y2o5ycZW50','qSoIhhtcILBcN2O','WR4dW7TrW7r1qSk4WQeb','nConnqe'],...(function(){return[...['xmo/aulcGhJcGMeEvq','A3m+WR7dHq','W6xdMSkKWR8gWPpdUa','pWxcR8koW7i','W73dScObpGC','WQ3cK2S0W5G','sCoYWRVcGCoo','D8oFB8oUW4ldIWhcM8kLWO/cLwxcKSoIW4bLFHxcH8km','5AYZ5OQT5lUk5yMf5AEK6lsMiq','vZHajKtdGCkHeeldOG','WQL5CZFdTW','BfuIWQ7dGq','kaVcU8oehNDlfMBcJ8kkt2xdUZ1REmkRpCk/W5xdVfy','rfnAWR3dIW','vh3cK8k+','zexdMmoiE34gW5j+g1pdPq','WRvGaSkXsW','W7lcGmkGW7uAgmkUsL/dUNbOWOu','WOxcGuSX','bmkozZ0J','W5yevLlcPc0','WOL8WOq','ESo6WRVdKrC','WPPXWOOuW5ix','W7BdIwJcKSkF','W60NysBcHG','baxcLW','WQ/cU04SaW','amoUW6WuAq','W5tcJ8oUgKHE','s1WzdSk3','WQldS3SByq','WQD0e8k0Fq','WPpcJ0SWpve','WPFdPSogfmkqtrNcPSoyW5hcL8kDB8k3WO1SlmkbECkjWPPCE1e6CM0eoweSW5mJ','WOVcLuxdOW','W4dcI8onW6pcS8kGW7xcVWblWQBdLCky','DulcNmkmW54','WRpORlxPHj/MLR7NM5JLVltOJ5FLJBXojL/dKwq7W6S4W5ywW53cJuxcUX7dUK3cKuBdOI3dQr/cGSkYoSk8cCokfSkOsmkaW6NdSSksW78fWOddQxjUW6LG','W5W8Dx3cPa','W4pcNmoYm1ru','rmoVbh/cHG','zCoNWO7cQCoq','uCorBdv+WP/LTQZLPB/ML7zZmCkP','WPpcNuCtba','swqGWOpdMW','xSorza','DCo5W5SsEmoA','WODyWO8KWOPhWOP/WPakrhistW','tSoTW5O7rq','vMjFb1NcHWO','WOFdNmkpWRhdKmkUW4BcMJrHWQa','WQiEW7u','bwtcHZ1B','oW3cNSkzW7C','WOZdRuy','ExX5oMC','y8oyyfXK','DKWKWR7dSZpcKcpcHX1JWPFdNb3cMa','vmoUWPZdUa','WO7dQ1auAG','WPtcKhW4W5XeWP5Yfr8Bra','WQXwpCk2BCkrDCkUhW','WRNdHSoWWRzExW','WP/dUCof','W74YWQhcSty','xa/dMq','W6BcLGBdNalcSSkYD8o/odVcGmkY','eghdKYtcPq','imoJoZpdPa','oZJdKSkk','zmoNugLm','ECo+xw1+','W5JcSSkgB8oqcIZdGZC6qSob','WPnUWORcQW','F8ovFSoSW5/dUG3cHSkWWOq','lZldLSkvmG','k8kLguaCWQGWWPldPCkiW4rLWQxdG0Ogxmk/rLDzW6yM','ySogy8o1W5i','W6PAzwzh','WO5jbSk8D8kFsSknkaldHCkp','WQBdNCo2','W4BcLeT8WR8','xuryWRVdH8oc','yhmjWO3dSa','oGqiusq','m3mszeldOSkiaG','6l695ywL6AEH6AgJ5As96lAMW4K','WQ0uW4TtW6K','rWimFSoj','agldPGxcRK12W67dObhcJmoLmhCPsMTRuCodzbapD3tcLSkbW5DPDmokW6VdJNr/WOirnGJcPsDnW4eZDhqXW6aBW4P/WRhdKgfGm2m6vHmXkCoxW4C4cw1SqHejdmoVyce','mY7cPSo3aq','r3ysdmk2','WO3cGui','W77cGCoMWQrMzSoDrW','jHeJvIy','cGNcHCk7W58','t8oIdf0','yfCHWRddSWi','W4fAWOOuW4mUW77dGG','s0jyWP/dMSoc','mCkWa1qaW78','b07cSbH0','WO7dO0WW','iSoGW7iMCsu','WP7cRgaPW4S','W5/cJ8kuA8oL','z8oRw2D4CCoikCoJ','yCooW6WFrW','naRcHmo6ha','CvtdV8ocw3O/W4LUcM/dSZa','W5FcQ8kXzCoTaa3dJW','qSomAIrYWRKXkSoB','F2KeWPtdMa','WRRdV8opl8kJ','W5pcHLrfWPq','mHVcPxNdSW','W5CTWPxdQcFdQW','oCoaW5uwCa','zSkVWRm','W4/dNepcHCk4Ca','rmoZy8oZW58','W7xcR8k8zmoI','Af7dOCoICG','W4/cNCooeunw','Bv9fWRNdGmoaubS','W77cRSoHW4ZcPCknW5xcIG','dGNcHmkJW67cGSkCCG','WO9JuWddVG','WRfwWOlcI8kN','W73cQCohW4dcKq','5lU55lMf5P6Y5yMo5zIs6k+K6zEf5PsR5O+r5lUV56MR776p6k+q5Qk95P6C6iw86lQ86kYj5As9572H57U45OoG5ys8','CeynpCkWaJ7cVG','l8k+cG','vmoHeuJcSq','W5ldIX8gfG','5A265OIe5lIF5yUs5AAx6lwAWOq','wSolo0NcIG','F3rmWQVdHW','WR07WRyaW70','W5SyWRxcVHi','xmoihSkaWODEW78','c0dcNJf+','W4ZcPK1ZWQm','44gg5O2Y56wR44g1W781o8ohW7pdVEw3JEwKPUAvQq','WRS+WPSkW4y','hhFdOr7cJHGSWRpdSWBcTSoZoq','u8ooCZj+WPK/oSoxphlcPK0wmuWmWPBdUIBcLZpcIKbyWQHaWO/cMmo5WR9EWQa','WOzTWPqAW7W','k8k45AAe6lwtnSkx5y2i5zUsW6BcUG','s3NcMCkMW6BdVYNdO0WoFmkXWOW','uCo/WPJdTstcLxnTdInFhdPCC1ZdHNeDmmkuW5hcVmk1WOFdTSomymk7W6VdNriU','dY/cRSkAW7e','mbdcVmoa','WRtdI0BcOGBdUmoX','WRm6WROWW60','dIKKwhBcRcdcOCkfAW'],...(function(){return['W4XjE1vfxq','D1ddVmofAxyV','5OIe5AAu5AEJ6lsRWO8','W5HjFvu','W5uFsN7cUYzI','WOrEWPeLW7m','WOxdSfmyubm','W4RcQmkNAmoS','tCo3WQdcSSo4ya','W5xcRCk1','WQldHSoLWRjyfSk1c3tdSMvYW41rs8kfW4TFkcRdQmobErJdLmk0gwFdN33dMWqmAmohW4TwW53cQJ56WRVcSG','dGNcHmkJW6NcLmkzzxyLFt1H','zGxcUSolpW','ECoyWQ3dKc4','WQ06WO0BW5G','cmk9W5NcRNZdGIz3lIffrYq','xxD4WPpdQa','imoKW60MDtJcHmkTwmolW7C','svOp','WQ1YqIFdKW','W7aAWOC','wrlcIgxdMr91oSkbWQBcICo1W4XMW7tdVSocfCk6WRaMW6LhwCkSpCkQWQiNaIxdLqTBW7aGl3hcVCker10GW67dHxxcQYP0W4eZuCoYA8klWRafm8owW7ddLCo5wcTaWQr8','6kYb5Qgw5P2t6lwE5yYo5PIb5zgE5P+B5PE5','Cmo+xw8','W5bhBG','W54xva','WRFdOmkHWPawWQNdJSkiiSkThSoLAdGVxCkSkCoG','WR4fWPqfW4i','WOftWPO','W4NcSmk7DmogiG/dHciNtmoRDsxcTa','lWqyFaK','whrNdf/cMGu','na/cUCo8fa','hqusW6dcNCkwlaFcJCosfmoYWR4','w8oVWPJcHCo2','vmohi2VcTa','qCokCtD5WP03kmoh','W47cNCohW6xcSq','WO18WQ3cSmkmW5m','iSopkrddKa','A1ZdR8ocrNqNW54','j8kWgve','sCoHW7CzwG','eIhdSSkepW','WOhcGvSYW7XhWRvGnrCgrmo6','gYZcGxZdRW','DxRdQmoMxa','WOHGWOq','WRBcJ0CYW4zkWQLDjq','WR3cReq3W78','WPmaWPmBW70mW7FdHgDp','m1KLuwy','mmk0a1qHW71RW5tdS8kd','WOjtWOKGW6W','5OIe5lUV77+i','WQ7dHCoHWODp','jmk0gvqoW6z+','W5vhEG','W6xOR47PHP/MLA3NMB/LVQhOJRhLJli4gCodWOddJu0','WPVdV1dcVx4','zhhdLCo7yG','DKhdVSoazNiJW510','pCoJW6OIFYi','lmoObbFdIq','tmoXxSoeW7y','yCoiy8oAW5xdLbdcJq','WPJdTeamra','t0bAWR7dGmogEYVcQmommSkRWOn5AeZdSuBdLSkhW4/dLCo6q8k0W7JcGSkGF8kdAvddQW','bNFcVcT7','W4hdJHS','W6ZcT3zaWQtdS1niWRhdJHtdUMtdTSoPWQhdMSkFqmkrWPFdH8kS','pSoUW6C','zgVdM8kwfq59iq','WP0DWOKcW71EWPBcJMbotmkcWRtdSmo0k8oNkfe/zmkfWRZcHKpcRCoIWRztdCo7W5TrWP9aW7TGea8/WP3dQ2O','WOLJWPldVspdTmoHWRlcP2v8AdCwlmojmSozB8oPWQyNoW','5RwB5yUU5Asm5zos772kyq','dhdcHHn7','phFdHCo4qwWsW4nIj2ddPsxcUCoIxCoGzM7dVmooWPm','WRtcL3hdOZi','W5aNWQxcUXG','s1RdMCo7WPtdIG','BKO5WRtdPuRdKglcGarTW7FdKf7cLXxcJMJcOv8','sCombmkSW51a','B284WOxdPa','W4RcGCoN','FfyfWRddOW','rNlcSSk0W54','Bhjuo2W','ACo5W5Gt','s1OCa8krbdRcTq','vCoHWP4','j8kxiMiL','p8oqW4ufrCoUWQC','eMeeFv/dQ8kkehldM8kCWQfj','cxxdPHZcQX4TWQJdTrdcVmoXowbZqsPZwa','cwBdOHNcTbq4WRxdUqZcJCkUp3jOswKHqCkiFWTnkhxcLSkeW5vQnCkdWRdcJq','WOZcJ1u','A27cRCkDW5K','W6BcNCk4ASocxa','44kb5O2p56w344gv6k675ys96i2s5yYS5lIS5lIP6lw45y+55lQ5fSo8xH8Qimo955Id5OYg5l2f55AGW4hcVCkPWRFcPCoz55MR5lIj5lME566g5yQ+6i6l5y2E','WRbQWOBcSSkC','6l+p5yE66AA/6Ag75AsN6lsZWO0','gWJdK8kMca','WQpdNmoYWQ5Esmo/vW','5OMl5lI55l+85Okt5yQE772L','WR92CcBdKmkeWPi','brNcLW','WPFcLve','pc3dMSkcmZ8','5lU55lMf6lAz5yYy','WRP1sXFdGG','WP1DWO4EWRS','mmowmXddKG','vNeEWOldTW','W7dcONfBWPhcObioWRldLb7dUG','WQ9BWRKaWRO','A00Q','efFcIWTX','EmoWtG','tSoUkKRcPG','W5ZcNSokW7JcK8o1WQ/dOGjEWPRcICkzW5qNWObwsSkOya','rCo+jLFcGvq','W44IWOpdRdi','kfi+rfW','iSo0W7mV','WRZdP8oyd8kG','WPGsW6zAW6S','zvePWQe','WOvam8k/sW','h8oIW48ssG','WOldT8ofe8k/rXBcU8ocW5BcNmow','auJcKXDt','W7tcSwTkWRlcNquxWQq','W5Scug/cPha0WPFdICkaWPJdNs3cTM/dTmktW7hcHmknpSoMWPRdMmo7gmkKW7DKW6VcS1rvW5tcR2SLsxCwb8kHWRnEmKC6z8kjBb3cJXtcPHJcLHNcVJKUW4NcKCkyW7TNW5BcLCorEJldG1BdLmoI','w0b/kvm','ASovzCoBW4NdLa','t3bHg1S','t1DcauG','WRZdOmkLWPyc','ymo9W4esDSodWRy','W7pcHSknsSoMiZxdRq','W4JcJ8oTgW','W7/cISkLW7qAfCkTB2xdV2P4WO0','zMNdImkeaI54iG','WRDqWO8/W5a','WPKgWPO','q1P4WORdQG','WOjecIZdUxS','WPxdSuOVvG','W5hcHmoi','hCodW7moDG','is/dSmkBkW','s2JcJCkSW6y','uvO7o8kmcJ3cVa','WOpdRuuW'];}())];}())];}());Iii11l=function(){return iIiiii;};return Iii11l();};async function iIIili(I1iI1i,l1i1l,I1iI1l,illlil){const IIlill=ii1l11,Iliil={'pErwG':function(I1lIIl,l1ilI1){return I1lIIl*l1ilI1;},'XLXpE':function(l1l1Il,lil1I){return l1l1Il==lil1I;},'nUljd':function(l1l1Ii,IIIIlI){return l1l1Ii|IIIIlI;},'xJKSQ':function(l1i11l,liiil1){return l1i11l&liiil1;},'JqnwY':function(lllII,l11iII){return lllII!==l11iII;},'rROll':IIlill(0x1de,'raXh'),'scqLI':function(l1i11i,l11iI1){return l1i11i+l11iI1;},'KfYsT':function(IliiI,lI111i){return IliiI===lI111i;},'IWEIc':IIlill(0x1ff,'&IU0'),'ICyHq':function(I1lIII,liIlll){return I1lIII!==liIlll;},'tGmSJ':IIlill(0x26e,'(O^]'),'fqLYS':function(I1iI1I){return I1iI1I();},'NWfxH':'vPkqs','HQbWM':IIlill(0x1f2,'6JPX'),'UYRGj':'4.3','Ggswd':'https://prodev.m.jd.com','uegtX':IIlill(0x376,'[^LL'),'rJuVU':'application/x-www-form-urlencoded','tuKNq':'application/json,\x20text/plain,\x20*/*','kAUQl':function(illll1,IIIIl1){return illll1*IIIIl1;}};return new Promise(async liiilI=>{const IllllI=IIlill;if(Iliil[IllllI(0x2be,'vbI&')]===Iliil[IllllI(0x228,'Ldd^')]){const lI111l={'appId':IllllI(0x246,'YyIX'),'functionId':'apsDoTask','appid':'activities_platform','clientVersion':Iliil[IllllI(0x305,'S@20')],'client':'ios','body':{'taskType':I1iI1i,'taskId':l1i1l,'channel':0x4,'checkVersion':!![],'linkId':lill11,'itemId':I1iI1l,'taskInsert':illlil},'version':Iliil[IllllI(0x2fd,'MHz9')],'ua':$['UA'],'t':!![]},liiii1=await lI1l1I['getH5st'](lI111l);let IIiiIl={'url':'https://api.m.jd.com/api','body':liiii1[IllllI(0x2a5,'6JPX')],'headers':{'origin':Iliil['Ggswd'],'Referer':Iliil[IllllI(0x1b7,'Nui8')],'User-Agent':$['UA'],'Cookie':I11i11,'content-type':Iliil[IllllI(0x2cf,'MBTZ')],'accept':Iliil[IllllI(0x29a,'nDg1')]},'timeout':Iliil[IllllI(0x2a3,'&*%W')](0x14,0x3e8)};$['post'](IIiiIl,async(l1ilIl,IIiiIi,l1ilIi)=>{const lI1il1=IllllI,l11iIi={'TSABX':function(ll11li,iliIlI){return Iliil['pErwG'](ll11li,iliIlI);},'tvOtQ':function(lI111I,IlilI){const liliil=iii1II;return Iliil[liliil(0x20b,'raXh')](lI111I,IlilI);},'bcBrC':function(llIi1,IliIII){const I1iil1=iii1II;return Iliil[I1iil1(0x1ac,'Y3[t')](llIi1,IliIII);},'ItYvJ':function(II1l,liiiiI){const lIillI=iii1II;return Iliil[lIillI(0x2ed,'fOyo')](II1l,liiiiI);}};try{if(l1ilIl)Iliil[lI1il1(0x347,'!yp7')](Iliil['rROll'],Iliil['rROll'])?l1iii[lI1il1(0x27e,'as0p')](lI1il1(0x32f,'raXh')+(IIlli?.[lI1il1(0x1b2,'xywS')]||'')):console[lI1il1(0x335,'t0Bw')](Iliil[lI1il1(0x1bc,'fbHX')]('',JSON[lI1il1(0x2ee,'a*H4')](l1ilIl)));else{l1ilIi=JSON[lI1il1(0x1c1,'2W))')](l1ilIi);if(Iliil['XLXpE'](l1ilIi['code'],0x0))$[lI1il1(0x20a,'qN7Z')]++,console[lI1il1(0x25b,'a*H4')]('完成任务,抽奖次数：'+$['lotteryChances']);else{if(l1ilIi[lI1il1(0x36a,'d1zd')]==0x192){if(Iliil['KfYsT'](Iliil[lI1il1(0x2d7,'fU*]')],Iliil[lI1il1(0x1e0,'qN7Z')]))console['log'](lI1il1(0x235,'6JPX')+(l1ilIi?.[lI1il1(0x351,'6UXI')]||''));else return I1lIl1['replace'](/[xy]/g,function(I1lII1){const liliii=lI1il1;var Ill111=l11iIi[liliii(0x221,'CH9C')](i1i1Ii[liliii(0x25c,'Yh!C')](),0xa)|0x0,I1iI11=l11iIi[liliii(0x361,'Ldd^')](I1lII1,'x')?Ill111:l11iIi[liliii(0x341,'fOyo')](l11iIi[liliii(0x245,'6JPX')](Ill111,0x3),0x8);return lllii=I1iI11[liliii(0x1ec,'xywS')](),iI11Ii;});}else console[lI1il1(0x335,'t0Bw')](lI1il1(0x2b5,'MBTZ')+(l1ilIi?.['errMsg']||''));}}}catch(II11){$[lI1il1(0x36f,'6UXI')](II11,IIiiIi);}finally{Iliil[lI1il1(0x2af,'6rka')](lI1il1(0x353,'x!NT'),Iliil[lI1il1(0x2ff,'MBTZ')])?Iliil[lI1il1(0x1d8,'(O^]')](liiilI):illIll[lI1il1(0x261,'fbHX')](''+iIli1I['stringify'](Iiil1));}});}else return!![];});}function Ii1iiI(iliIll=ii1l11(0x234,'6UXI')){const iIiilI=ii1l11,llliIl={'KliwL':function(iliIli,illliI){return iliIli|illliI;},'tmxtL':function(ii1III,i11iIl){return ii1III&i11iIl;}};return iliIll[iIiilI(0x2cb,'d1zd')](/[xy]/g,function(ll11ll){const iIiiil=iIiilI;var l11iIl=Math[iIiiil(0x24e,'&IU0')]()*0xa|0x0,i11iIi=ll11ll=='x'?l11iIl:llliIl[iIiiil(0x2e5,'vbI&')](llliIl[iIiiil(0x2f1,'CH9C')](l11iIl,0x3),0x8);return jdaid=i11iIi[iIiiil(0x363,'1Ut)')](),jdaid;});}var version_ = 'jsjiami.com.v7';
// prettier-ignore
function Env(t, e) { "undefined" != typeof process && JSON.stringify(process.env).indexOf("GITHUB") > -1 && process.exit(0); class s { constructor(t) { this.env = t } send(t, e = "GET") { t = "string" == typeof t ? { url: t } : t; let s = this.get; return "POST" === e && (s = this.post), new Promise((e, i) => { s.call(this, t, (t, s, r) => { t ? i(t) : e(s) }) }) } get(t) { return this.send.call(this.env, t) } post(t) { return this.send.call(this.env, t, "POST") } } return new class { constructor(t, e) { this.name = t, this.http = new s(this), this.data = null, this.dataFile = "box.dat", this.logs = [], this.isMute = !1, this.isNeedRewrite = !1, this.logSeparator = "\n", this.startTime = (new Date).getTime(), Object.assign(this, e), this.log("", `🔔${this.name}, 开始!`) } isNode() { return "undefined" != typeof module && !!module.exports } isQuanX() { return "undefined" != typeof $task } isSurge() { return "undefined" != typeof $httpClient && "undefined" == typeof $loon } isLoon() { return "undefined" != typeof $loon } toObj(t, e = null) { try { return JSON.parse(t) } catch { return e } } toStr(t, e = null) { try { return JSON.stringify(t) } catch { return e } } getjson(t, e) { let s = e; const i = this.getdata(t); if (i) try { s = JSON.parse(this.getdata(t)) } catch { } return s } setjson(t, e) { try { return this.setdata(JSON.stringify(t), e) } catch { return !1 } } getScript(t) { return new Promise(e => { this.get({ url: t }, (t, s, i) => e(i)) }) } runScript(t, e) { return new Promise(s => { let i = this.getdata("@chavy_boxjs_userCfgs.httpapi"); i = i ? i.replace(/\n/g, "").trim() : i; let r = this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout"); r = r ? 1 * r : 20, r = e && e.timeout ? e.timeout : r; const [o, h] = i.split("@"), n = { url: `http://${h}/v1/scripting/evaluate`, body: { script_text: t, mock_type: "cron", timeout: r }, headers: { "X-Key": o, Accept: "*/*" } }; this.post(n, (t, e, i) => s(i)) }).catch(t => this.logErr(t)) } loaddata() { if (!this.isNode()) return {}; { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e); if (!s && !i) return {}; { const i = s ? t : e; try { return JSON.parse(this.fs.readFileSync(i)) } catch (t) { return {} } } } } writedata() { if (this.isNode()) { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e), r = JSON.stringify(this.data); s ? this.fs.writeFileSync(t, r) : i ? this.fs.writeFileSync(e, r) : this.fs.writeFileSync(t, r) } } lodash_get(t, e, s) { const i = e.replace(/\[(\d+)\]/g, ".$1").split("."); let r = t; for (const t of i) if (r = Object(r)[t], void 0 === r) return s; return r } lodash_set(t, e, s) { return Object(t) !== t ? t : (Array.isArray(e) || (e = e.toString().match(/[^.[\]]+/g) || []), e.slice(0, -1).reduce((t, s, i) => Object(t[s]) === t[s] ? t[s] : t[s] = Math.abs(e[i + 1]) >> 0 == +e[i + 1] ? [] : {}, t)[e[e.length - 1]] = s, t) } getdata(t) { let e = this.getval(t); if (/^@/.test(t)) { const [, s, i] = /^@(.*?)\.(.*?)$/.exec(t), r = s ? this.getval(s) : ""; if (r) try { const t = JSON.parse(r); e = t ? this.lodash_get(t, i, "") : e } catch (t) { e = "" } } return e } setdata(t, e) { let s = !1; if (/^@/.test(e)) { const [, i, r] = /^@(.*?)\.(.*?)$/.exec(e), o = this.getval(i), h = i ? "null" === o ? null : o || "{}" : "{}"; try { const e = JSON.parse(h); this.lodash_set(e, r, t), s = this.setval(JSON.stringify(e), i) } catch (e) { const o = {}; this.lodash_set(o, r, t), s = this.setval(JSON.stringify(o), i) } } else s = this.setval(t, e); return s } getval(t) { return this.isSurge() || this.isLoon() ? $persistentStore.read(t) : this.isQuanX() ? $prefs.valueForKey(t) : this.isNode() ? (this.data = this.loaddata(), this.data[t]) : this.data && this.data[t] || null } setval(t, e) { return this.isSurge() || this.isLoon() ? $persistentStore.write(t, e) : this.isQuanX() ? $prefs.setValueForKey(t, e) : this.isNode() ? (this.data = this.loaddata(), this.data[e] = t, this.writedata(), !0) : this.data && this.data[e] || null } initGotEnv(t) { this.got = this.got ? this.got : require("got"), this.cktough = this.cktough ? this.cktough : require("tough-cookie"), this.ckjar = this.ckjar ? this.ckjar : new this.cktough.CookieJar, t && (t.headers = t.headers ? t.headers : {}, void 0 === t.headers.Cookie && void 0 === t.cookieJar && (t.cookieJar = this.ckjar)) } get(t, e = (() => { })) { t.headers && (delete t.headers["Content-Type"], delete t.headers["Content-Length"]), this.isSurge() || this.isLoon() ? (this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.get(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) })) : this.isQuanX() ? (this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t))) : this.isNode() && (this.initGotEnv(t), this.got(t).on("redirect", (t, e) => { try { if (t.headers["set-cookie"]) { const s = t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString(); s && this.ckjar.setCookieSync(s, null), e.cookieJar = this.ckjar } } catch (t) { this.logErr(t) } }).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) })) } post(t, e = (() => { })) { if (t.body && t.headers && !t.headers["Content-Type"] && (t.headers["Content-Type"] = "application/x-www-form-urlencoded"), t.headers && delete t.headers["Content-Length"], this.isSurge() || this.isLoon()) this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.post(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) }); else if (this.isQuanX()) t.method = "POST", this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t)); else if (this.isNode()) { this.initGotEnv(t); const { url: s, ...i } = t; this.got.post(s, i).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) }) } } time(t, e = null) { const s = e ? new Date(e) : new Date; let i = { "M+": s.getMonth() + 1, "d+": s.getDate(), "H+": s.getHours(), "m+": s.getMinutes(), "s+": s.getSeconds(), "q+": Math.floor((s.getMonth() + 3) / 3), S: s.getMilliseconds() }; /(y+)/.test(t) && (t = t.replace(RegExp.$1, (s.getFullYear() + "").substr(4 - RegExp.$1.length))); for (let e in i) new RegExp("(" + e + ")").test(t) && (t = t.replace(RegExp.$1, 1 == RegExp.$1.length ? i[e] : ("00" + i[e]).substr(("" + i[e]).length))); return t } msg(e = t, s = "", i = "", r) { const o = t => { if (!t) return t; if ("string" == typeof t) return this.isLoon() ? t : this.isQuanX() ? { "open-url": t } : this.isSurge() ? { url: t } : void 0; if ("object" == typeof t) { if (this.isLoon()) { let e = t.openUrl || t.url || t["open-url"], s = t.mediaUrl || t["media-url"]; return { openUrl: e, mediaUrl: s } } if (this.isQuanX()) { let e = t["open-url"] || t.url || t.openUrl, s = t["media-url"] || t.mediaUrl; return { "open-url": e, "media-url": s } } if (this.isSurge()) { let e = t.url || t.openUrl || t["open-url"]; return { url: e } } } }; if (this.isMute || (this.isSurge() || this.isLoon() ? $notification.post(e, s, i, o(r)) : this.isQuanX() && $notify(e, s, i, o(r))), !this.isMuteLog) { let t = ["", "==============📣系统通知📣=============="]; t.push(e), s && t.push(s), i && t.push(i), console.log(t.join("\n")), this.logs = this.logs.concat(t) } } log(...t) { t.length > 0 && (this.logs = [...this.logs, ...t]), console.log(t.join(this.logSeparator)) } logErr(t, e) { const s = !this.isSurge() && !this.isQuanX() && !this.isLoon(); s ? this.log("", `❗️${this.name}, 错误!`, t.stack) : this.log("", `❗️${this.name}, 错误!`, t) } wait(t) { return new Promise(e => setTimeout(e, t)) } done(t = {}) { const e = (new Date).getTime(), s = (e - this.startTime) / 1e3; this.log("", `🔔${this.name}, 结束! 🕛 ${s} 秒`), this.log(), (this.isSurge() || this.isQuanX() || this.isLoon()) && $done(t) } }(t, e) }
