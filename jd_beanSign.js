/*
领京豆签到
cron:15 0,16 * * *
============Quantumultx===============
[task_local]
#领京豆签到
15 0,16 * * * jd_beanSign.js, tag=领京豆签到, enabled=true
 */

const $ = new Env('领京豆签到');
var iｉl='jsjiami.com.v7';const II1i1=iii1II;if(function(iIiIi,iil1ll,iiilil,iil1li,lillIl,iIiIl,iiilii){return iIiIi=iIiIi>>0x3,iIiIl='hs',iiilii='hs',function(li1i1i,IlIli1,illIiI,lI1lli,Ill1l){const li1i1l=iii1II;lI1lli='tfi',iIiIl=lI1lli+iIiIl,Ill1l='up',iiilii+=Ill1l,iIiIl=illIiI(iIiIl),iiilii=illIiI(iiilii),illIiI=0x0;const llI1Il=li1i1i();while(!![]&&--iil1li+IlIli1){try{lI1lli=-parseInt(li1i1l(0x262,'evnY'))/0x1+parseInt(li1i1l(0x256,'7VXx'))/0x2*(-parseInt(li1i1l(0x213,'4%s]'))/0x3)+parseInt(li1i1l(0x27d,'0RSz'))/0x4+parseInt(li1i1l(0x23e,'7@5I'))/0x5*(parseInt(li1i1l(0x26f,'cC@r'))/0x6)+parseInt(li1i1l(0x25c,'f%R7'))/0x7*(parseInt(li1i1l(0x1f7,'UoZh'))/0x8)+-parseInt(li1i1l(0x228,'k4Cy'))/0x9+parseInt(li1i1l(0x1ce,'e]ta'))/0xa;}catch(ii1iii){lI1lli=illIiI;}finally{Ill1l=llI1Il[iIiIl]();if(iIiIi<=iil1li)illIiI?lillIl?lI1lli=Ill1l:lillIl=Ill1l:illIiI=Ill1l;else{if(illIiI==lillIl['replace'](/[deWRSYNnTJuhXDtfEkF=]/g,'')){if(lI1lli===IlIli1){llI1Il['un'+iIiIl](Ill1l);break;}llI1Il[iiilii](Ill1l);}}}}}(iiilil,iil1ll,function(i11iil,Ill1i,ii1iil,lllI1l,i11iii,llI1Ii,lllI1i){return Ill1i='\x73\x70\x6c\x69\x74',i11iil=arguments[0x0],i11iil=i11iil[Ill1i](''),ii1iil=`\x72\x65\x76\x65\x72\x73\x65`,i11iil=i11iil[ii1iil]('\x76'),lllI1l=`\x6a\x6f\x69\x6e`,(0x14f524,i11iil[lllI1l](''));});}(0x620,0x57279,Iii11l,0xc6),Iii11l){}const liIli=$['isNode']()?require(II1i1(0x1f5,'i7UQ')):'',liIll=$[II1i1(0x202,'UYWT')]()?require(II1i1(0x1db,'UYWT')):'';let IilIi1=lli(0x28,'1234567890qwertyuiopasdfghjklzxcvbnm'),iI1liI=[],l1lIiI='';if($[II1i1(0x1eb,'Ic#A')]()){Object['keys'](liIll)[II1i1(0x1fa,'wJN1')](lll=>{iI1liI['push'](liIll[lll]);});if(process[II1i1(0x1d9,'xPh5')][II1i1(0x1ed,'xpoN')]&&process[II1i1(0x286,'0ax@')]['JD_DEBUG']===II1i1(0x268,'xPh5'))console['log']=()=>{};}else iI1liI=[$[II1i1(0x244,'UoZh')]('CookieJD'),$[II1i1(0x200,'XtJ@')]('CookieJD2'),...liIlI($['getdata'](II1i1(0x1c0,'0RSz'))||'[]')['map'](llli1=>llli1[II1i1(0x1be,'f4[7')])][II1i1(0x254,'wJN1')](iIli1i=>!!iIli1i);let llliiI='';function iii1II(_0x2c889c,_0x3467ee){const _0x441821=Iii11l();return iii1II=function(_0x55b685,_0x4809db){_0x55b685=_0x55b685-0x1ab;let _0x31a237=_0x441821[_0x55b685];if(iii1II['QYJzbp']===undefined){var _0x298072=function(_0x3aa3cb){const _0x37d423='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x14aeca='',_0x5a63ba='';for(let _0x74a032=0x0,_0xd8baa6,_0x15e47f,_0x18a4f5=0x0;_0x15e47f=_0x3aa3cb['charAt'](_0x18a4f5++);~_0x15e47f&&(_0xd8baa6=_0x74a032%0x4?_0xd8baa6*0x40+_0x15e47f:_0x15e47f,_0x74a032++%0x4)?_0x14aeca+=String['fromCharCode'](0xff&_0xd8baa6>>(-0x2*_0x74a032&0x6)):0x0){_0x15e47f=_0x37d423['indexOf'](_0x15e47f);}for(let _0x52c7e0=0x0,_0xe9e032=_0x14aeca['length'];_0x52c7e0<_0xe9e032;_0x52c7e0++){_0x5a63ba+='%'+('00'+_0x14aeca['charCodeAt'](_0x52c7e0)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x5a63ba);};const _0x25bc50=function(_0x5fdfaa,_0x5eae05){let _0x177ed1=[],_0x2e20b2=0x0,_0x172920,_0x1b6b37='';_0x5fdfaa=_0x298072(_0x5fdfaa);let _0x133777;for(_0x133777=0x0;_0x133777<0x100;_0x133777++){_0x177ed1[_0x133777]=_0x133777;}for(_0x133777=0x0;_0x133777<0x100;_0x133777++){_0x2e20b2=(_0x2e20b2+_0x177ed1[_0x133777]+_0x5eae05['charCodeAt'](_0x133777%_0x5eae05['length']))%0x100,_0x172920=_0x177ed1[_0x133777],_0x177ed1[_0x133777]=_0x177ed1[_0x2e20b2],_0x177ed1[_0x2e20b2]=_0x172920;}_0x133777=0x0,_0x2e20b2=0x0;for(let _0xb983ee=0x0;_0xb983ee<_0x5fdfaa['length'];_0xb983ee++){_0x133777=(_0x133777+0x1)%0x100,_0x2e20b2=(_0x2e20b2+_0x177ed1[_0x133777])%0x100,_0x172920=_0x177ed1[_0x133777],_0x177ed1[_0x133777]=_0x177ed1[_0x2e20b2],_0x177ed1[_0x2e20b2]=_0x172920,_0x1b6b37+=String['fromCharCode'](_0x5fdfaa['charCodeAt'](_0xb983ee)^_0x177ed1[(_0x177ed1[_0x133777]+_0x177ed1[_0x2e20b2])%0x100]);}return _0x1b6b37;};iii1II['qerTyh']=_0x25bc50,_0x2c889c=arguments,iii1II['QYJzbp']=!![];}const _0x52d97b=_0x441821[0x0],_0x4339bb=_0x55b685+_0x52d97b,_0x2ff29b=_0x2c889c[_0x4339bb];return!_0x2ff29b?(iii1II['kyulTs']===undefined&&(iii1II['kyulTs']=!![]),_0x31a237=iii1II['qerTyh'](_0x31a237,_0x4809db),_0x2c889c[_0x4339bb]=_0x31a237):_0x31a237=_0x2ff29b,_0x31a237;},iii1II(_0x2c889c,_0x3467ee);}const IilIiI='https://api.m.jd.com/client.action';!(async()=>{const lI1lll=II1i1,iI1lii={'xUSVV':function(IilIii,iI1lil){return IilIii==iI1lil;},'LXcuO':lI1lll(0x1d0,'2WMV'),'qIJts':lI1lll(0x26c,'fRTO'),'onRub':lI1lll(0x22c,'RUVp'),'rZufe':lI1lll(0x21f,'GMIJ'),'idpxj':lI1lll(0x282,'SGM$'),'ILPzU':function(l1lIi1,iIli1l){return l1lIi1===iIli1l;},'QWNPG':'YUZXW','yxdvt':lI1lll(0x20c,'UYWT'),'GMdqB':function(i1i1II,liiIIl){return i1i1II(liiIIl);}};if(!iI1liI[0x0]){$['msg']($[lI1lll(0x21d,'xpoN')],iI1lii[lI1lll(0x242,'LWzD')],iI1lii[lI1lll(0x22e,'6q!7')],{'open-url':lI1lll(0x1c3,'NaoI')});return;}console['log'](iI1lii['idpxj']),console[lI1lll(0x243,'xPh5')](lI1lll(0x1d7,'jZR*'));for(let iil1iI=0x0;iil1iI<iI1liI[lI1lll(0x276,'CHm^')];iil1iI++){if(iI1lii[lI1lll(0x229,'GMIJ')](iI1lii[lI1lll(0x1ea,'4%s]')],'YUZXW')){if(iI1liI[iil1iI]){if('oNoFh'===iI1lii[lI1lll(0x22d,'wJN1')])i1lI[lI1lll(0x226,'7VXx')]();else{l1lIiI=iI1liI[iil1iI],$[lI1lll(0x201,'SGM$')]=iI1lii[lI1lll(0x1ca,'NaoI')](decodeURIComponent,l1lIiI[lI1lll(0x277,'evnY')](/pt_pin=([^; ]+)(?=;?)/)&&l1lIiI[lI1lll(0x20b,'xpoN')](/pt_pin=([^; ]+)(?=;?)/)[0x1]),$[lI1lll(0x1ad,'XtJ@')]=iil1iI+0x1,$[lI1lll(0x241,'0RSz')]=!![],$[lI1lll(0x1de,'qwge')]='',message='',console[lI1lll(0x27f,'A!Q[')]('\x0a******开始【京东账号'+$[lI1lll(0x1c7,'4dFd')]+'】'+($[lI1lll(0x206,'H)A8')]||$['UserName'])+lI1lll(0x27c,'0ax@'));if(!$[lI1lll(0x216,'!Psw')]){$[lI1lll(0x26e,'wJN1')]($['name'],lI1lll(0x25f,'UYWT'),lI1lll(0x245,'qwge')+$[lI1lll(0x236,'jZR*')]+'\x20'+($['nickName']||$['UserName'])+lI1lll(0x1ba,'SGM$'),{'open-url':iI1lii[lI1lll(0x234,'x@tg')]});$['isNode']()&&await liIli[lI1lll(0x1ab,'w5%y')]($[lI1lll(0x235,'A!Q[')]+'cookie已失效\x20-\x20'+$[lI1lll(0x1f4,'f%R7')],lI1lll(0x24d,'6Yt@')+$[lI1lll(0x284,'A!Q[')]+'\x20'+$['UserName']+lI1lll(0x1b1,'!Psw'));continue;}$['UA']=await IiI11(),await i1i1I1(),await $[lI1lll(0x1f3,'SK!X')](0x5dc);}}}else{if(iI1lii['xUSVV'](typeof lliiil,iI1lii[lI1lll(0x24a,'fRTO')]))try{return l1iiI[lI1lll(0x1ff,'cC@r')](ll1li);}catch(lI1li1){return ll1ll['log'](lI1li1),Illl11['msg'](ii1lI[lI1lll(0x233,'Ic#A')],'',iI1lii[lI1lll(0x1d8,'[Vz#')]),[];}}}if(llliiI){if($['isNode']())await liIli['sendNotify'](''+$['name'],''+llliiI);$[lI1lll(0x217,'2WMV')]($['name'],'',llliiI);}})()[II1i1(0x1d2,'evnY')](iI11II=>{const iIiII=II1i1;$['log']('','❌\x20'+$[iIiII(0x1fd,'G@D&')]+',\x20失败!\x20原因:\x20'+iI11II+'!','');})[II1i1(0x214,'wJN1')](()=>{const iil1lI=II1i1;$[iil1lI(0x23b,'u%Po')]();});async function i1i1I1(){await IlII1(),await $['wait'](0x1f4);}async function IlII1(){const iiiliI=II1i1,iIII1I={'PluEp':'https://bean.m.jd.com/bean/signIndex.action','AUwkJ':function(illlII,iIII11){return illlII!==iIII11;},'LjoXj':iiiliI(0x25e,'x@tg'),'rMSxr':'qnLuv','RneuQ':iiiliI(0x221,'SK!X'),'MPHjU':function(IiI1i,llll1){return IiI1i!==llll1;},'GRTEc':iiiliI(0x1bf,'7VXx'),'JkffM':iiiliI(0x1d5,'f%R7'),'EQcKg':iiiliI(0x25b,'G*9!'),'jHfsg':iiiliI(0x1e8,'e]ta'),'LItdQ':function(lil11l,i1i1Il){return lil11l+i1i1Il;},'nILnQ':'__jd_ref_cls=JingDou_SceneHome_SignIn;','OLwcu':iiiliI(0x273,'Ic#A'),'FWASP':iiiliI(0x279,'H)A8'),'RbxRr':'https://h5.m.jd.com/rn/42yjy8na6pFsq1cx9MJQ5aTgu3kX/index.html?tttparams=OTxiiOeyJnTGF0IjoiMzAuOTM3OTc2IiwidW5fYXJlYSI6IjRfMTMzXzU4NTMwXzAiLCJkTGF0IjoiIiwicHJzdGF0ZSI6IjAiLCJhZGRyZXNzSWQiOiIxMzg3NjMyODgiLCJsYXQiOiIyOS41MDI3NTgiLCJwb3NMYXQiOiIzMC45Mzc5NzYiLCJwb3NMbmciOiIxMDguNjg2NTM2IiwiZ3BzX2FyZWEiOiI0XzUwOTUyXzYwNDI2XzAiLCJsbmciOiIxMDYuNDc2NTk5IiwidWVtcHMiOiIwLTAtMiIsImdMbmciOiIxMDguNjg2NTM2IiwibW9kZWwiOiJpUGhvbmU5LDIiLCJkTG5nIjoiIn60%3D&has_native=0&jumpFrom=1&source=AppHome&sid=94c8fde9792f48dbdb86b75f99f42eaw&un_area=4_133_58530_0'},ilil1i=iiiliI(0x21a,'f4[7'),IlIIi={'fp':'-1','shshshfp':'-1','shshshfpa':'-1','referUrl':'-1','userAgent':'-1','jda':'-1','rnVersion':iIII1I[iiiliI(0x222,'H)A8')]};let IiI1l={'url':IilIiI+'?functionId=signBeanAct&'+JSON[iiiliI(0x1b6,'rybJ')](IlIIi)+'&appid=ld&client=apple&clientVersion=12.0.1&uuid='+IilIi1+iiiliI(0x22b,'0ax@')+IilIi1+'&loginType=2&jsonp=jsonp_1693243123839_76958','headers':{'Host':iiiliI(0x25a,'M5yq'),'Accept':iIII1I[iiiliI(0x1e4,'[Vz#')],'Cookie':iIII1I[iiiliI(0x1e5,'M5yq')](l1lIiI,iIII1I['nILnQ']),'User-Agent':$['UA'],'Accept-Language':iIII1I[iiiliI(0x1cc,'SGM$')],'Accept-Encoding':iIII1I[iiiliI(0x27b,'F@b9')],'Referer':iIII1I[iiiliI(0x218,'2WMV')]},'timeout':0xa*0x3e8};return new Promise(I1lIl1=>{const li1i1I=iiiliI,lil11i={'NvIne':iIII1I[li1i1I(0x22f,'0ax@')],'ayBXq':li1i1I(0x248,'7@5I'),'rVGij':function(IlIIl,lI1liI){const illIii=li1i1I;return iIII1I[illIii(0x211,'xPh5')](IlIIl,lI1liI);},'frczS':iIII1I[li1i1I(0x283,'4dFd')],'SCYPq':li1i1I(0x270,'RUVp'),'Uufin':iIII1I['rMSxr'],'iEtQj':function(i1i1Ii,lllii){return i1i1Ii==lllii;},'xAZCk':iIII1I[li1i1I(0x1b3,'w5%y')],'NyhZT':function(iI11Ii,iIII1l){return iIII1I['MPHjU'](iI11Ii,iIII1l);},'aLBgX':iIII1I[li1i1I(0x272,'evnY')]};iIII1I[li1i1I(0x259,'wJN1')](li1i1I(0x1c2,'9BFF'),iIII1I['JkffM'])?IiilIl[li1i1I(0x212,'jZR*')]('','❌\x20'+iii1Ii[li1i1I(0x26b,'GM[&')]+li1i1I(0x240,'fKD5')+iii1Il+'!',''):$[li1i1I(0x255,'UoZh')](IiI1l,(iI11Il,iIII1i,iil1i1)=>{const ii1il1=li1i1I,il1i11={'nueCi':ii1il1(0x1fc,'2WMV'),'NYxWy':lil11i[ii1il1(0x1ae,'evnY')],'Mgxoj':lil11i[ii1il1(0x224,'0ax@')]};if(lil11i[ii1il1(0x209,'9uKf')](ii1il1(0x274,'CHm^'),ii1il1(0x1ee,'fKD5'))){I1iIil[ii1il1(0x203,'i7UQ')](lI1Iil[ii1il1(0x1c1,'7@5I')],il1i11[ii1il1(0x1c8,'7@5I')],ii1il1(0x215,'SGM$'),{'open-url':il1i11[ii1il1(0x1d3,'fKD5')]});return;}else try{if(iI11Il){if(lil11i[ii1il1(0x258,'GM[&')]===lil11i[ii1il1(0x1ac,'Ic#A')])return iIli1I[ii1il1(0x1d6,'6Yt@')](Iiil1),iiilli[ii1il1(0x232,'9BFF')](l1iIIl[ii1il1(0x1b4,'F@b9')],'',il1i11['Mgxoj']),[];else $['log'](iI11Il);}else{if(lil11i[ii1il1(0x1af,'H)A8')](lil11i[ii1il1(0x227,'RUVp')],ii1il1(0x1d4,'f4[7'))){iil1i1=iil1i1&&iil1i1['match'](/jsonp_.*?\((.*?)\);/)&&iil1i1['match'](/jsonp_.*?\((.*?)\);/)[0x1]||iil1i1,iil1i1=JSON['parse'](iil1i1);if(lil11i[ii1il1(0x1ef,'cC@r')](iil1i1[ii1il1(0x1b5,'xPh5')],0x0)&&!iil1i1?.['errorCode']){if(ii1il1(0x251,'M5yq')===lil11i['xAZCk']){if(llIli1?.[ii1il1(0x285,'N9X#')]?.[ii1il1(0x208,'7@5I')])Ii1iIl['log'](''+(iliIIi?.[ii1il1(0x1bb,'RUVp')]?.['newUserAward']?.[ii1il1(0x278,'CHm^')]||'')+(ill11I?.[ii1il1(0x1bb,'RUVp')]?.['newUserAward']?.[ii1il1(0x26d,'F@b9')]||'')+Iliiil?.[ii1il1(0x23f,'wJN1')]?.['newUserAward']?.[ii1il1(0x24f,'6Yt@')][0x1]?.['beanCount']+'京豆');else{let illlIi=li1Il?.[ii1il1(0x266,'A!Q[')]?.[ii1il1(0x1e0,'9BFF')]||li1Ii?.[ii1il1(0x1bc,'G*9!')]?.['continuityAward']||Iliiii?.[ii1il1(0x1e9,'fKD5')]?.[ii1il1(0x220,'4%s]')];i1illI['log'](''+(illlIi?.[ii1il1(0x1f8,'xPh5')]||'')+(illlIi?.[ii1il1(0x247,'rybJ')]||'')+illlIi?.[ii1il1(0x263,'Ic#A')]?.['beanCount']+'京豆');}}else{if(iil1i1?.[ii1il1(0x25d,'9BFF')]?.[ii1il1(0x249,'4dFd')])lil11i[ii1il1(0x250,'XtJ@')](lil11i[ii1il1(0x204,'xpoN')],lil11i[ii1il1(0x204,'xpoN')])?II1Ii[ii1il1(0x23a,'fKD5')](i1ii[I1iIl1]):console[ii1il1(0x210,'0ax@')](''+(iil1i1?.[ii1il1(0x1fb,'u%Po')]?.[ii1il1(0x1c6,'jZR*')]?.[ii1il1(0x22a,'F@b9')]||'')+(iil1i1?.['data']?.[ii1il1(0x267,'GMIJ')]?.[ii1il1(0x26d,'F@b9')]||'')+iil1i1?.[ii1il1(0x265,'e]ta')]?.['newUserAward']?.[ii1il1(0x225,'x@tg')][0x1]?.[ii1il1(0x264,'7VXx')]+'京豆');else{let IiI1I=iil1i1?.[ii1il1(0x266,'A!Q[')]?.[ii1il1(0x1cf,'i7UQ')]||iil1i1?.['data']?.[ii1il1(0x1df,'cC@r')]||iil1i1?.[ii1il1(0x1c5,'CHm^')]?.[ii1il1(0x1dd,'NaoI')];console[ii1il1(0x1e7,'9BFF')](''+(IiI1I?.[ii1il1(0x1e6,'evnY')]||'')+(IiI1I?.[ii1il1(0x1b0,'0ax@')]||'')+IiI1I?.[ii1il1(0x1d1,'CHm^')]?.[ii1il1(0x1da,'G*9!')]+'京豆');}}}else iil1i1['code']==0x3?console[ii1il1(0x223,'SGM$')]('签到失败,'+iil1i1?.['errorMessage']):console['log'](ii1il1(0x24c,'qwge')+iil1i1?.[ii1il1(0x1b9,'4dFd')]+':'+iil1i1?.[ii1il1(0x207,'e]ta')]);}else{let i11ill=Iliill?.[ii1il1(0x1bb,'RUVp')]?.[ii1il1(0x238,'2WMV')]||IIII11?.[ii1il1(0x265,'e]ta')]?.['continuityAward']||i1illi?.[ii1il1(0x271,'7@5I')]?.['newUserAward'];i1illl[ii1il1(0x231,'f4[7')](''+(i11ill?.[ii1il1(0x1c9,'fRTO')]||'')+(i11ill?.[ii1il1(0x27e,'RUVp')]||'')+i11ill?.[ii1il1(0x1fe,'G*9!')]?.[ii1il1(0x269,'jZR*')]+'京豆');}}}catch(IIIIIi){$['log'](IIIIIi);}finally{I1lIl1();}});});}async function IiI11(){const lI1llI=II1i1,IIIIIl={'jSFXy':function(lllll){return lllll();},'lPMmj':'0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ','sTQOn':function(i11ili,iil1l1){return i11ili<iil1l1;},'RQVIO':function(lllli,iiili1){return lllli!==iiili1;},'cihrp':function(ill11i,lllill){return ill11i+lllill;},'WOuDu':'utf8','EgIQz':function(ill11l,I1lIiI){return ill11l(I1lIiI);},'cZJLK':lI1llI(0x1ec,'UYWT')};for(var I1lIil='',IIIl1i=IIIIIl[lI1llI(0x1b2,'XtJ@')],liiII1=0x0;IIIIIl[lI1llI(0x1bd,'H)A8')](liiII1,0x10);liiII1++){if(IIIIIl[lI1llI(0x239,'4%s]')]('grzzD',lI1llI(0x1f9,'0RSz')))IIIIIl[lI1llI(0x261,'4%s]')](I1iIll);else{var IIIl1l=Math[lI1llI(0x281,'jZR*')](Math[lI1llI(0x23d,'6Yt@')]()*(IIIl1i[lI1llI(0x230,'0RSz')]-0x1));I1lIil+=IIIl1i[lI1llI(0x257,'SK!X')](IIIl1l,IIIIIl[lI1llI(0x1cd,'GMIJ')](IIIl1l,0x1));}}return IilIi1=Buffer[lI1llI(0x237,'x@tg')](I1lIil,IIIIIl[lI1llI(0x1e1,'9uKf')])['toString'](lI1llI(0x21b,'UoZh')),ep=IIIIIl[lI1llI(0x21c,'UYWT')](encodeURIComponent,JSON[lI1llI(0x252,'G@D&')]({'hdid':'JM9F1ywUPwflvMIpYPok0tt5k9kW4ArJEU3lfLhxBqw=','ts':new Date()[lI1llI(0x27a,'fKD5')](),'ridx':-0x1,'cipher':{'sv':'CJCkDq==','ud':IilIi1,'iad':''},'ciphertype':0x5,'version':lI1llI(0x1c4,'G*9!'),'appname':IIIIIl['cZJLK']})),lI1llI(0x219,'evnY')+ep+lI1llI(0x253,'fRTO');}function lli(IliiiI,Ill11=II1i1(0x1f0,'SK!X')){const illIil=II1i1,liiIII={'fKYng':function(iI11I1,il1i1l){return iI11I1<il1i1l;},'VZdpV':function(IlIlll,IIIl1I){return IlIlll===IIIl1I;}};let li1i11='';for(let iil1ii=0x0;liiIII['fKYng'](iil1ii,IliiiI);iil1ii++){if(liiIII['VZdpV'](illIil(0x24b,'6q!7'),illIil(0x1f2,'u%Po'))){let il1i1i='';for(let lil111=0x0;liiIII[illIil(0x275,'x@tg')](lil111,I1i111);lil111++){il1i1i+=IlI1iI[Iillil[illIil(0x24e,'xPh5')](l1lIli[illIil(0x26a,'xpoN')]()*lIIiiI['length'])];}return il1i1i;}else li1i11+=Ill11[Math[illIil(0x23c,'4%s]')](Math['random']()*Ill11['length'])];}return li1i11;}function Iii11l(){const i11iiI=(function(){return[...[iｉl,'uddNjeFsSjhitaXemDRi.coukWm.JWvYNf7XRTEn==','W6rNnCo4W7ys','W48dWOm','WQL3W4XYrHzgW64U','W4RdTqhdGZD7WRddRMq','W7BcQHZcVCk4','W4nBlSoNW5K','jKNcUx8iW67dVY9yDCk1WO4','WORcMmow','W54RwCoJWOZcT0RdTq','i0TgWPy','dvhdRCksnq','44o85O2E56Ew44otD8kOzmk2W5ni5Bsd5AAL5PEg','CMeMW5NcQW','emkLWRZcVc4','xx3cRhnEWOxcNCkxW5ZdGfddJa','xCkaW5zUWPddJM3dPxS','W7OLWP9zydPqW4m/','W5NdNIry','tmk6wZq','BCoLW7RdK8kdWOOmW7e/W4qfWR8','BmkoWQldPSol','W5ddRmodW5imlK0XWPG','nSktvCkfqJC','W77cUrlcOG','6k+K5yId6zUH5OwJ5z6Uo1GabttOVl7LHk7MO63KVkpML6/LH4JLRkzj5BUL6k2X6yk/6lYU6iAJ5PYR5y2H6i+g5y27W6/dNSkzfNBcUq','WRiiiCkYWRhcJCojWOu','W699pG','mtGOd8kfv8o5WPy','BCkxW5FdQeC','tYy9WRK','lr/dJW4j','rCknWPPiWRddL3/cULXaW7fCW5av','W5NcSmkjWRlcUW','bw3dNCkxiG','W73cV8kYWR3cRSo5','bYZdRYGc','W6xcS8kOWRBcVW','idG3WOHeWRJdKHlcUeVdM8osmuP8W7hcJa','A8o1W7mwbmolfa','WOCQaSk1WOG','vgm9jCoMCHdcLh3dUG','nSkfW6CwWRNcTmoZW64Fr8o8W7K','smkdW5FdLg0yWRrd','rmk0sa','c8kNfePsdH3dICo9xmoeWRzN','W4ddPSoxW5iR','5Rsc5yI35ywa5y6D772XFxZdVUMKUEMHMCka5lMS5lIX56sX5P+zW5JNRAZLIPOD','CW0pWPu7','qCk1sZac','sH3cPeC','gYDH','rNuMW6tcGSosW4itFCkF','BmkMW65qWQa','WRBcJWWKta','jdVdKIup','nrqzWPec','dtX1w8kLlfBdMW','W7FORRNPH47MLOZNMBdLVjROJydLJ6tdNSoxW5ddICkHlW','WRpcSsuSxG','z34TW7xcNq','WQ8ClSkd','ACkaWQRdSa','vGNcVYBdPI/dOxzD','W4yhWPPy','s8oeW4JdKwmwFmkOoMhcNgK','wHusWQiJWQj8W4C3','m+ITQoMhQoAxJUEyKow9QEIoM+wnUmkLrmozWRrDWPdcO8oApCoiCSkFWR9/WP43WPS4WQLCW63dImoOiCoqmSoinSkgWPDsesnrWOJdQSoWx1DyW4KEWPiv','x8kxW4hdOq','W53dL8kBda','nbypWRCg','WRjLWOylB3e','W7m5WOXWCG','tmosWR1fW6ldPCosW7ut'],...(function(){return[...['rsyKWR0','pKnGWO9L','W7VcQ0pdG8oLW4T6W58YfN3cHSkUW5X4W5qibsxdJ8k3W6X0jCkza2FcVIFdTCofeSk4hmoDbZddJarqkmk1W4C','WOJcMmoFqYi','W7xcU8kOWRS','W5ZdRmovW6K8jeOEWPS5DMe','vGKeWQGP','rtiSWPSF','z8kvgGddOW','W5tcKLpdGSou','hexdUhFcUNZdMKfSeaJdSG','DSotuH0E','ymoPW6xdTmka','WOVcI2ebB24JW4pcJtJdVaNdHG','lWNcRrtcMKhcPu4spW','DsDVWQfbWRO','W7pcV8k9WRtcM8oMiSoHWPK','csZdRYGc','qSojW78vfa','WOjFWQOkqW','WPbYzmolWR0','AvVdPW','6z6Y6ksi5P6o5z6mbHhNJPFLO5ZVV6dLKB7LIj3KUiJKV77LRyZMIAtKUAhLIyNcKNpdR8kp','W4HZWRldKay','B8kbWRG','W5VdK8koa1j6WQ5RfG','W4lcOCkgWQzxWQHKWRBdK0JdN8o+W70','W7ZcRCk3WPxcTW','W73cUKddPSoLWPqNWReNeM7cJa','fdZdMuToyI8d','zM8xlCk2A8o+WRVcGSoaxNNcTrpdRq','i0TBWPTOW69iW5ZcKSkS','DHtcPmobpW','bH7cVqJcUW','W5VcLmkpWPtcVW','W5nYWP7dLXi','c3dcPdu0','hItdRYCp','k0vv','WPFcKhO','AmoXW7mJ','k8kHWRtcTba','vSkwW7LVWRxdNa','WO/dOCkbW6WNW7e7WR/dJ1tdN8o+W6PwbmobFCkxsq','dSk2zmkLAbH3W5K','rmo6W5iQda','Beuncmk1','W4JdTWBdGJDWWQZdQwW9sComWOWvW67dHueSWQKyW7ZcISkExHWW','W5xcTSovW7z6WPDIWPldUeK','W7vrDSkrnW','W47dOqRdHa','WRXOu8obWOFcKLpdVG','zuFcTX3cJwtcNeaumGH1','cSobWOFdHweVWRTLaa','WPXqW4yjWR0WW7qUaCkaWQJcNa','FSkgWRRdUCol','AmopWQHuW48','W6rHk8ojW7idWOq','W7bMw8kb','44cw5O6d56sN44oz6k+y5yAv6i+R5y+K5lU15lUO6lEt5y+c5lQYW4xdTuxdQt7dGhRNMztMJRJKVzBNLytdT8kVCIrRj+EzG+s4Vos7UoETOowkP+ImH+woQq','WP/cQCoWW5C','W5VdK8koa1bIWRP3bG','DwelkSk6','WRJcHbWLvuLI','BmoSqaWLxuhdIW','WOxdVCkIWQ1WWQi','jHVcOW','jCk+ECkgDq','6k2V5yQ/6zMX5Os45zYlf0RdLqhdIEI/SUwgO+AHO+s+U+AwU+wfRowTRCkN5BQZ6k2V6yky6lY+6is65P+g5y6S6i615y68eSogW4GQwCou','ksS9WPmMW7NdMXi','W5JdJsjwkrb2W7hcMcZdRaS','rsi+WO0fWQL8WPmeW7OkWOO','uW3cLSoSia','v8kzW5i','kCktt8kcrq'],...(function(){return['WRVdO8kkWPrX','W43dNIjkpG','WQxdRmoTW67dOSkPaSohWRbgdmo1','mWdcSCkJWOXlbSkpW5tcVYH1CG','eIzW','s8k6WRNdVSoK','W57dPSof','q8ooW4pdKdLZqSkxiwy','W6rNn8oTW78mWPu','uCoRuq4ybGpcGConsComWQ4dWO7cT8kFDSkeDmkrWRX+WPf8WPaYWQHmW6VdGSkPcSoBn8odyCoBWP9wcWnqWOi','WPq9t1nSjSkz','AYb6','vdfLWPPD','acNdUJSAWOFcHSkSW4ddQN/dK8kdqb5rawddVXldKb/dGtxcL3ZdG8olW7TGWRNcV8k1u8kvW4y0W4OyWPmUWRtcVGOWW7ZcPSkYft4eWPlcPSkjye5cjCoiWP/dNCkkWRJcVqhcQIbvW64xW5jT','WQOOWO8qjc5Kn8oaF0tcKmoGW4Drs3tdNhuFbCoVWQCjzCoXW4jTtcybtdSgmXtdJSkGx8k+W7T/WPVcJLJcJ8kTWR9KW5CLrSkTz8oXW5GLFCk7oseFWRhcSvRcMZughmoUWO7dSJdcMYxcT0jWWO7dU8k8WRNdRCo0gmkhhw1msmoSogT8W7pcJXzSW7m/xCoxdMrupq','W4OhWOryWRm8','WQNdQCkLWPnU','kSktvSke','WO7cHSkapvrrWQ9R','A8o0W7NdTSkdW5vrWP8QW4awWRvLrupdTIddMI5id8kkstNcHuKFtqddUSkIFmoAmGVdRgdcH8oiWOLJl2S','fmktWO3cSsrgwCkzfgpcH3K','W57dIsldHrC','aHm9WRmp','vCoWqG','hZbvv8k9','aLhdPCkliCklW6RcQtC','W7WVWPbs','BSkdW5pdQwO','W6HDWOjwWOBcUSoQW60HW6RcRSkLCa','sSomW53dVmkL','WRuun8kkWR0','wczNASkIlv7dLZpdJq','44cR5OYM56Ap44kr6k+Z5ysK6i2V5y+W5lUj5lMJ6lAd5y+X5lUmWPNcNtBcVmk5W77dQEEAN+AmMEs8HUEwRCo8D1NdSXz455Uz5lMt5lUd56Yt5yMI6i+95y2L','W7T2pCo6W6C','hfVcTSkUWP8','lIvIsSk8','y8oyWRXjW7/dQa','WR1LWO4','kLLv','uCkeW5PL','exZdSCkFia','rSk6qJa','W5VdP8ogW5K3','bvtdQ8ku','yJj0WQrwWPWRuYVcKa','kmkNWQZcRrG','FmoLW7qQ','W7bOqCkf','hmkAWPxcIYu','D1xdRSo/W5Cv','gNv7W61cW7LzWQiQW7GrWPO','W6zVlCoT','imkW5AA26lwNtmkg5y+U5zQJqSoj','zSooWP5bW6ZdQCop','WORdNH3cIvi','zSkaWQK','W48dWOnzW6r8W5q','5lUw5lMj6lAC5y+x','hchdTKP4','vGJcRXVdOtZdPhu','6k+C5yQ46zUg5OEx5z2EWO5HWQO5W6JOV6VLHOVMOklKV4VML4RLH5ZLRi/cGUw7Q+ISKoMbVEI9K+IhQ+AFHUwnOUInIowoG0lcOSonsSoPWQC','uqixWPGIWOrHW6iLuSkFWPi','x8kKdrNdIq','cKtcGmkKWRW','56Ye5yML5AAl6lsfla','5lQP5lIO6lAM5y2S','BmkdWQhdUSoC','zepdOCoPW5W0x8k9W4y','WPhcMaaBya','iL/cMtmr','WOlcVmoVW5VdJCo+W55Koq','kmkXarBdRXvBgwbYWOn7WOVdPCk/hCo3lhhcUSkEW4NdULFcJ1hdHmoCW5NcMrn6W7ZdOsZdNtmqc3FcMSoDWRXZW4RcS2nVvSkAWP5mW6/cH8o0WPyFwIHYF8oJW7DufslcRKZcJvJdQXxdNCoEW6moorOIWOHuc8oKDMvBWQzKW5tdGSkcoh7cN8kwW4tdH8onWQtdRmoeW6FcTmoxf2pdGSk3WRD5WPBdGmkhW5zpW44dWPdcJuZcGqNdNSkyW5JcK8oX'];}())];}())];}());Iii11l=function(){return i11iiI;};return Iii11l();};function liIlI(i11ilI){const Ill1I=II1i1,ii1ii1={'rCbNQ':'string','mwkOm':function(llllI,lllil1){return llllI===lllil1;},'XjRNj':Ill1I(0x246,'qwge'),'MvypX':Ill1I(0x260,'w5%y'),'JNSNe':Ill1I(0x205,'7VXx')};if(typeof i11ilI==ii1ii1['rCbNQ'])try{return JSON['parse'](i11ilI);}catch(iil1il){return ii1ii1[Ill1I(0x1dc,'CHm^')](ii1ii1['XjRNj'],ii1ii1[Ill1I(0x1e2,'i7UQ')])?l1l11l[Ill1I(0x20d,'e]ta')](IilIil):(console[Ill1I(0x20a,'RUVp')](iil1il),$['msg']($[Ill1I(0x1b7,'UoZh')],'',ii1ii1[Ill1I(0x1e3,'CHm^')]),[]);}}var version_ = 'jsjiami.com.v7';
// prettier-ignore
function Env(t,e){"undefined"!=typeof process&&JSON.stringify(process.env).indexOf("GITHUB")>-1&&process.exit(0);class s{constructor(t){this.env=t}send(t,e="GET"){t="string"==typeof t?{url:t}:t;let s=this.get;return"POST"===e&&(s=this.post),new Promise((e,i)=>{s.call(this,t,(t,s,r)=>{t?i(t):e(s)})})}get(t){return this.send.call(this.env,t)}post(t){return this.send.call(this.env,t,"POST")}}return new class{constructor(t,e){this.name=t,this.http=new s(this),this.data=null,this.dataFile="box.dat",this.logs=[],this.isMute=!1,this.isNeedRewrite=!1,this.logSeparator="\n",this.startTime=(new Date).getTime(),Object.assign(this,e),this.log("",`🔔${this.name}, 开始!`)}isNode(){return"undefined"!=typeof module&&!!module.exports}isQuanX(){return"undefined"!=typeof $task}isSurge(){return"undefined"!=typeof $httpClient&&"undefined"==typeof $loon}isLoon(){return"undefined"!=typeof $loon}toObj(t,e=null){try{return JSON.parse(t)}catch{return e}}toStr(t,e=null){try{return JSON.stringify(t)}catch{return e}}getjson(t,e){let s=e;const i=this.getdata(t);if(i)try{s=JSON.parse(this.getdata(t))}catch{}return s}setjson(t,e){try{return this.setdata(JSON.stringify(t),e)}catch{return!1}}getScript(t){return new Promise(e=>{this.get({url:t},(t,s,i)=>e(i))})}runScript(t,e){return new Promise(s=>{let i=this.getdata("@chavy_boxjs_userCfgs.httpapi");i=i?i.replace(/\n/g,"").trim():i;let r=this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout");r=r?1*r:20,r=e&&e.timeout?e.timeout:r;const[o,h]=i.split("@"),n={url:`http://${h}/v1/scripting/evaluate`,body:{script_text:t,mock_type:"cron",timeout:r},headers:{"X-Key":o,Accept:"*/*"}};this.post(n,(t,e,i)=>s(i))}).catch(t=>this.logErr(t))}loaddata(){if(!this.isNode())return{};{this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e);if(!s&&!i)return{};{const i=s?t:e;try{return JSON.parse(this.fs.readFileSync(i))}catch(t){return{}}}}}writedata(){if(this.isNode()){this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e),r=JSON.stringify(this.data);s?this.fs.writeFileSync(t,r):i?this.fs.writeFileSync(e,r):this.fs.writeFileSync(t,r)}}lodash_get(t,e,s){const i=e.replace(/\[(\d+)\]/g,".$1").split(".");let r=t;for(const t of i)if(r=Object(r)[t],void 0===r)return s;return r}lodash_set(t,e,s){return Object(t)!==t?t:(Array.isArray(e)||(e=e.toString().match(/[^.[\]]+/g)||[]),e.slice(0,-1).reduce((t,s,i)=>Object(t[s])===t[s]?t[s]:t[s]=Math.abs(e[i+1])>>0==+e[i+1]?[]:{},t)[e[e.length-1]]=s,t)}getdata(t){let e=this.getval(t);if(/^@/.test(t)){const[,s,i]=/^@(.*?)\.(.*?)$/.exec(t),r=s?this.getval(s):"";if(r)try{const t=JSON.parse(r);e=t?this.lodash_get(t,i,""):e}catch(t){e=""}}return e}setdata(t,e){let s=!1;if(/^@/.test(e)){const[,i,r]=/^@(.*?)\.(.*?)$/.exec(e),o=this.getval(i),h=i?"null"===o?null:o||"{}":"{}";try{const e=JSON.parse(h);this.lodash_set(e,r,t),s=this.setval(JSON.stringify(e),i)}catch(e){const o={};this.lodash_set(o,r,t),s=this.setval(JSON.stringify(o),i)}}else s=this.setval(t,e);return s}getval(t){return this.isSurge()||this.isLoon()?$persistentStore.read(t):this.isQuanX()?$prefs.valueForKey(t):this.isNode()?(this.data=this.loaddata(),this.data[t]):this.data&&this.data[t]||null}setval(t,e){return this.isSurge()||this.isLoon()?$persistentStore.write(t,e):this.isQuanX()?$prefs.setValueForKey(t,e):this.isNode()?(this.data=this.loaddata(),this.data[e]=t,this.writedata(),!0):this.data&&this.data[e]||null}initGotEnv(t){this.got=this.got?this.got:require("got"),this.cktough=this.cktough?this.cktough:require("tough-cookie"),this.ckjar=this.ckjar?this.ckjar:new this.cktough.CookieJar,t&&(t.headers=t.headers?t.headers:{},void 0===t.headers.Cookie&&void 0===t.cookieJar&&(t.cookieJar=this.ckjar))}get(t,e=(()=>{})){t.headers&&(delete t.headers["Content-Type"],delete t.headers["Content-Length"]),this.isSurge()||this.isLoon()?(this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.get(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)})):this.isQuanX()?(this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t))):this.isNode()&&(this.initGotEnv(t),this.got(t).on("redirect",(t,e)=>{try{if(t.headers["set-cookie"]){const s=t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString();s&&this.ckjar.setCookieSync(s,null),e.cookieJar=this.ckjar}}catch(t){this.logErr(t)}}).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)}))}post(t,e=(()=>{})){if(t.body&&t.headers&&!t.headers["Content-Type"]&&(t.headers["Content-Type"]="application/x-www-form-urlencoded"),t.headers&&delete t.headers["Content-Length"],this.isSurge()||this.isLoon())this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.post(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)});else if(this.isQuanX())t.method="POST",this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t));else if(this.isNode()){this.initGotEnv(t);const{url:s,...i}=t;this.got.post(s,i).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)})}}time(t,e=null){const s=e?new Date(e):new Date;let i={"M+":s.getMonth()+1,"d+":s.getDate(),"H+":s.getHours(),"m+":s.getMinutes(),"s+":s.getSeconds(),"q+":Math.floor((s.getMonth()+3)/3),S:s.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(s.getFullYear()+"").substr(4-RegExp.$1.length)));for(let e in i)new RegExp("("+e+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?i[e]:("00"+i[e]).substr((""+i[e]).length)));return t}msg(e=t,s="",i="",r){const o=t=>{if(!t)return t;if("string"==typeof t)return this.isLoon()?t:this.isQuanX()?{"open-url":t}:this.isSurge()?{url:t}:void 0;if("object"==typeof t){if(this.isLoon()){let e=t.openUrl||t.url||t["open-url"],s=t.mediaUrl||t["media-url"];return{openUrl:e,mediaUrl:s}}if(this.isQuanX()){let e=t["open-url"]||t.url||t.openUrl,s=t["media-url"]||t.mediaUrl;return{"open-url":e,"media-url":s}}if(this.isSurge()){let e=t.url||t.openUrl||t["open-url"];return{url:e}}}};if(this.isMute||(this.isSurge()||this.isLoon()?$notification.post(e,s,i,o(r)):this.isQuanX()&&$notify(e,s,i,o(r))),!this.isMuteLog){let t=["","==============📣系统通知📣=============="];t.push(e),s&&t.push(s),i&&t.push(i),console.log(t.join("\n")),this.logs=this.logs.concat(t)}}log(...t){t.length>0&&(this.logs=[...this.logs,...t]),console.log(t.join(this.logSeparator))}logErr(t,e){const s=!this.isSurge()&&!this.isQuanX()&&!this.isLoon();s?this.log("",`❗️${this.name}, 错误!`,t.stack):this.log("",`❗️${this.name}, 错误!`,t)}wait(t){return new Promise(e=>setTimeout(e,t))}done(t={}){const e=(new Date).getTime(),s=(e-this.startTime)/1e3;this.log("",`🔔${this.name}, 结束! 🕛 ${s} 秒`),this.log(),(this.isSurge()||this.isQuanX()||this.isLoon())&&$done(t)}}(t,e)}
