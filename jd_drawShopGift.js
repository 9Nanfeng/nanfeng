/*
活动名称：店铺关注有礼
环境变量：jd_drawShopGift_argv // 活动参数，格式：”<shopId(店铺id)>_<venderId(店主id)>“
          jd_drawShopGift_notify // 是否推送通知（true/false），默认不推送

注：运行频繁会403限制IP

cron:1 1 1 1 *
============Quantumultx===============
[task_local]
#店铺关注有礼
1 1 1 1 * jd_drawShopGift.js, tag=店铺关注有礼, enabled=true

*/

const $ = new Env('店铺关注有礼')
var iｉl='jsjiami.com.v7';const llIIi1=iii1II;(function(li11I,lliiII,iiIi1i,liI1ll,ll1II,IllIii,liI1li){return li11I=li11I>>0x9,IllIii='hs',liI1li='hs',function(IllIil,ill1Ii,llIIl1,ill1Il,i1lll1){const i1lllI=iii1II;ill1Il='tfi',IllIii=ill1Il+IllIii,i1lll1='up',liI1li+=i1lll1,IllIii=llIIl1(IllIii),liI1li=llIIl1(liI1li),llIIl1=0x0;const Ii1I1I=IllIil();while(!![]&&--liI1ll+ill1Ii){try{ill1Il=-parseInt(i1lllI(0x25f,'dLZ0'))/0x1+-parseInt(i1lllI(0x307,'%5Qe'))/0x2+-parseInt(i1lllI(0x257,'tHTd'))/0x3+-parseInt(i1lllI(0x1f4,'%5Qe'))/0x4+parseInt(i1lllI(0x224,'yZU@'))/0x5*(parseInt(i1lllI(0x253,'W0jZ'))/0x6)+parseInt(i1lllI(0x233,'odvA'))/0x7+parseInt(i1lllI(0x279,'qcHn'))/0x8;}catch(l1i1Ii){ill1Il=llIIl1;}finally{i1lll1=Ii1I1I[IllIii]();if(li11I<=liI1ll)llIIl1?ll1II?ill1Il=i1lll1:ll1II=i1lll1:llIIl1=i1lll1;else{if(llIIl1==ll1II['replace'](/[XClexAJPWRpUYTkOLKESB=]/g,'')){if(ill1Il===ill1Ii){Ii1I1I['un'+IllIii](i1lll1);break;}Ii1I1I[liI1li](i1lll1);}}}}}(iiIi1i,lliiII,function(l1iI1,lliiI1,IiiI1,lilII,IIIiI,iii1i1,IllIll){return lliiI1='\x73\x70\x6c\x69\x74',l1iI1=arguments[0x0],l1iI1=l1iI1[lliiI1](''),IiiI1=`\x72\x65\x76\x65\x72\x73\x65`,l1iI1=l1iI1[IiiI1]('\x76'),lilII=`\x6a\x6f\x69\x6e`,(0x14f52b,l1iI1[lilII](''));});}(0x18400,0x2119e,Iii11l,0xc4),Iii11l)&&(iｉl=`\x8d2`);const i1ilI1=require('./jdCookie'),Iiilii=require(llIIi1(0x23a,'WAfn')),Iil1li=require(llIIi1(0x290,'i]aR'));console[llIIi1(0x211,'zu95')](''),console[llIIi1(0x273,'ql7(')](llIIi1(0x30a,'rB)Z')+$[llIIi1(0x24d,'UQ8p')]+'变量说明=========='),console[llIIi1(0x23f,'d8uQ')](llIIi1(0x272,'Wdk$')),console[llIIi1(0x1f1,'qcHn')](llIIi1(0x2c8,'j@Bd')),console['log'](llIIi1(0x230,'&w#H')+$[llIIi1(0x24e,'yZU@')]+llIIi1(0x310,'hrHH')),console[llIIi1(0x2fd,'DoV5')]('');const Iiilil=process['env'][llIIi1(0x28e,'W4iK')]||'',Iil1ll=process[llIIi1(0x2df,'mnZ%')][llIIi1(0x234,'lPaC')]===llIIi1(0x22b,'D8CR');let iillI='';function Iii11l(){const ii1ii=(function(){return[...[iｉl,'CljAsPTjLeCiKXOakUmxYi.UlcWBSoJCEm.pRLv7==','WOddUCorW6a6','hwa2WO7dSmo+Ds8aW68zW7eIxsezjSoMhuxdUSklWOXyymo1WORdSKGGWOa4WQdcUSocWQn3DCoBCCkzWORcHSo8dWK8W5JcGa','W7KZW5hdM8kK','c8oCWQJcQwBcKdOeWPldMq','vJ94WPldUmoIAq','WQxcKmkvWO5JWP0+mmo5W67cNvbxuxJcT8kPWRGBrwRdISkuWQnJo1ZcQSo7fSkUAMXpWQb9WQmeWQRdP8kqFrhdJKBcQxFdS8kwWRPRngFcJmk2W4hcPCkbWPuZWQpdQe7cMSk2vsxdJGnicKm+WPK8eZf8WQ0pk8kFbI7cGxxcQKDjWR/cRCk+qq','W414WPNdK3lcSCoHwaPQkhddUJ3dKmkutbddHxq','u2ze','xSoDyuZcR1xdKM7dMmkHcSkUWRq3W5BcKJzaWQyT','4PUpE+ITGEwHPoweMEAIH+w8NEAVNEEIVEEALUEnL+wIV+wpIUMhGa','shaCW7uEpwxcPCkgfxxdSWnlj8o7W5/cMSoOzmkQd8o9','t8ksW4VdMJ8','W67cL3ldNW/dVa','qmoGt0FcSG','WRdcQHqrWQK','W5OTW7RdKCkMrSo5W7aDWPhdMmoSq3JcUCkFWPbGbSkaW6f0ArSeWRW6oCksW6bcW7hdMw3cM3hcPqtdOmoCW6XuaJhdR0ZcG8oauqq7','WRRdN8oDA8kxjLGX','mSk+WR7cTqG','W7RcIJBdLSk7tq','hXbz','WOVcHCkUumkHgW','yColeG','WR/cRqG','u8kjWRdcRmoa','WP/dJL/cO3G','CJzdWRhdSq','DZj+oSk4','sCkOWQhcICojkWOupa','dJGrWORcOmo6F8oHCZxdK25c','4P2CxoI0GowoUEAuGUAwIG','W4ZcLMddVre','WPPzaJxcGG','mSk0WQ/dItWbcSoGWRJdKmotba','8ygnPmoH','kHiKW6Gg','WRBcHbFcOclcJGBdMKlcKSo5','4PYOW5BOT4ZLJi/MLkFMLAe','fSofWQrXWQ4','W5RdOmkXFhC','WPHIWP/dJNhdOGXD','WQL+WPtdMq','aGn+WRZcHCobW4ZcJq','WORcKdWoWRBcHCozWQhcMa','WPhcG8kLrCkq','hSoGWPS','lCkjjCkenYq','y8oUj8kAW58mFWy','cmoSW6m','WRf+W4OtaSk7WQC','WR/cQb8BWQm','WOpcNfe','WRtdNCkD','4PIGWPlOR5dLH5hLROdKUP/LVPVOPihNMQRNJyxLOjBLJRhPHkJLKR/LHjFOVkNOOOpOHyhMN6y','fwy+W5FcTCkHdq','WPxcIYKIWQRcKa','W4SWD8kkhW','pmkvqCoM','WP5tECkoCSkZaSoU','ht7dL33dL8ouymoA','mCkcWOlcRqS','W4RdLxHuW6JdLmodWOhcM0b4WPO','u39M','W7RcIJBdLSkTshevWOtcKSkij2LzWPdcPLNcK8ozW6q','gtZdJK3dSW','emkYW6C','W5FdHCkFyvy','WR/dOLlcL2mhWO3cSmosW7zsW7BdQ8o1y8kjpGHzr8kwimkNc0DY5PU45zgt6ykG556Y77YRrSk3jmoalXdcKSoTE1FVV6dVV5pPUztORjZKUk3PGyJNNPG','WP9/WQ7dL1a','cSoAWQlcSxRcSXykWOxdIa','W47cSuxdImoR','j8kzc8k9kq','WRVdR2ZcPLO','g8kuW50VW6q','ASone8k8uxddLmkM','WPtcGSkM','cJao','WQVdHCoxtSkR','dSkibSk+kW','WOPPW5GMlG','eSkyW64WW6y','r8oruvJcLfa','wwzpW5/dVSk6lCom','mSkolq','y8odpCk3W50','ACoMmmkq','WRRdLMRcL8ohhZecWPdcQmkdj1G','admgW64f','W4hdGue','wZvMWQ3dKG','W5dcSmok','4PQFkEIVLowJMoweIoAJSEw9H+AVI+EHQUEBM+EmQowIVUwpGoMeGa','W4f1W5xdUCka','zSorkmkfW6u','WR7cISkUWQf6','pmk9WQhcKmku','fG93sSoc','bCoPW77dO14','4PQWxoIVKEweHUwTUos6I+w9JoING+EzMEEoIUwGH+wmU+MhG+wsLUwhLUI9UEIIVoIeU+AFIa','W4tdGeuTWOJcQSoVWQu','ueG9'],...(function(){return[...['W73cGNhdHGRdQ8kbW4JdRSkNW77cR8o1aSo6umo3E8odW44sBwaCW6W/yrK6WQVdT8ktBG','amocW4e','W5G5W6ddKW','W5lcV8kl','WRPkW6OTfW','lmokWP8','W4RdLe8XW5hdRSoUWRpdM8oMW4uDDbNdISoFW4u','cqXsra','W6ddN1ydWQ4','WRZcHHOZWPS','amkuW4aUW4jqWR8','WP7cHmk5','WOVcL19G','W4JcNMxdGrO','hSoGWPTWWP5C','gCkaW5eIWOO','W7pcUCoXWQzU','W7/cKLFdQmoq','W67cG8oxWOH3','uYnZ','pmkXWRq','W5DuW5/dV8kU','hSkEW4FcSmkMr33cQXzscmonW5pcJSoEi3BdQXejycDPWOKWkSkwW6Luq8oHW7ddNCo9Ag3dV8o1WONdKc9rcmo0WPz7ECoGW5ldLmkNW5uZrmkKW5VcVCozW5eeeSo+WPVcJmkHW7ZcI0FcNmkuaa','emoeW53dNvDYmxpdLq8','5P6D55Yf5AwB5zgr6AcM5yYL54QD5OoK776S6k2u5P+Y552y5PE35B+c','W4xcHx7dPComWOC','W7tcMCobWOrHWPmYomo0','d8kKW7mDWOnJ','yXDppSkWWRFdPW','WOZcI2NcSmkRWRxcUuRdOCo4FN4','WPJcILHWbhBdNSkI','tgfmW4pdMmkP','umkoW7NdUdtdMKrwW4VcGq','lmkelSkJetlcJq','WPJdH8onwSko','WQRcH8ktCSkD','DHnkiSknWRxdJsFcRKy','nCkWW4GkWR4','5OY456so57Ie5P2wksRdQcfLWROmW6JcNLu','W7pdNCkwFgC','WO7cImkVrmkndCkvpq','4PUZW6tORlhLOOZLH4JMOjpLVA/MR6FNO7JNMlFNJjpLO6RLJytPHRa','eCkKW64pWPT/','tmo8d8kqEG','y8oMkCku','WQ3dGZBcMK3cUmoqWOZcT8o4WQa','WRrFaJhcOG','WPZdHmoxACkgjKuKi8o/WRTiW4xdTxBdHSo/pCoYWPy','44cK5O2P56se44c56kYQ5yw86iYs5y+RW7pcOrxcGSk0na','W4RdI1icWPlcOCoHWR/dMmoCW4ufzfa','xmkZWR/cJmoioYaDiuu','hSkwfa','W5NcSCoB','W5VcV0ZdVGq','W7dcNwy','fmkcWRxcImkUrW','WOhcOgXGoa','WO3cIMJcUSkTWRFcI03dR8owwhK','dCkUW7mC','wsvS','WOpJG7lLU47PKzZLN4lLNANJGjanWQ/cJSkxotyPW5NcUL3cKmogWR0ZWQ7dR8kaa2H6DCkpndrDnrStWPzI','FSophmk4qgRdNG','W7DzW78','omkijmkveIZcKa','m8kSWRzTW6SS','WQBdRwtcG0mtWPq','rrfHW7xcJ8ku','W4VdN33dU1e','W6NdHCktxey','Fbnb','xCoxtu3cR0a','6lwB5yY25PwG5PsG','WPTEEmkAsmkGo8o6nsBdTe53kb3cKCoPkZGo','yCoIkSkwW6uf','wwHpW4ddTa','WO9tyW','5P6w5P696k225yQc5REP5yQh5l235OoX5OMc5Bsh6AgJ5y2E6l+25Awp5yM/','hSkAW5OTW7fcWRq','5lUp5lMV5PYd5yIW5zQE6l295zM956Qh5PEe5O6d','W7pdR8kmitxdTG','W47cSCkEjwq','WRBcHr8zWOS','xmk+WRtcLSod','WRJcGbtcOwNcSI7dT0BcVW','jmkibSkZlq','FSomgSk4w3S','sSkSW4u','W7VcNM7dNdi','eSksWPTQW5i','xCk5WQFcRCocpXatiKu','aCo7WO5CWOjjDCkxcG','WRddKNFcHKi','WPRdRCoAyCkV','W6RcL2/dJGBdUSkPW5G','W6xcJt4','W61tW7BdK8kjxmoBza','FqLxiCkh','W4tcGCoNWOvv','W6FcKCkjmfG','WPBdM8o3W7q','iCkvWOJcLYG','emocW53dHv13'],...(function(){return['WP/dG8olBq','bCoFW4pdMfzIc33dGW','WRJcHsO5WPC','v27dTvFdS8ojEmo2','sCk0WRZcKmoUka','W5NdKYC','WP9IfHJcHa','amowWRFcTMJcGbW','WQ7cPrKa','i8k1WRP8W408W60','b8knW5W7','W7GzW5RdU8kx','aWXxqCoc','m8ojWRNdGH8','W43cPmkEp294gH9E','qmo8WR1vW5iQWOZcQ8oPW5C','iSk/WR1OW7aK','cCkTWOhcGZm','r8kAWOpcIaKYvvldJrxcKgNcHa','W6RdLNJdVwJcTYNdK0BcHCoLlSkoW5FdRSkMWQe0WR7dTWNcMW','W7ztW6VdHmknsCo3','WOrBWRbmzMu','xmoVm8krwG','gSoAW7BdOf0','W4fXWPJdHxlcSSo9','W50Jfa3cJb9yW70GuL/dOCkLCeCYucfQWPxcRSozb8k+WRzFWRu','6lAy5yYN5Psm5PsE','nGbRW6pcUmoiW47cMa','yCoummklW7a','m8oNWRFdPWS','W5a3W7m','wCkDWP/cLmow','wXf8lmkP','WRb0W54','k8oXiCkFW7uiycOHva','A8oUpa','i8kLWRtcLdq','fJmgW6yEpZJdP8o6gNpcUaXxfq','WPxcImkYu8kjgmk5','fCo7WRfhWQK','W5SAuSkopmkAyW','WPxcIYK','fd4hW6uypa','WQvDW54Jbq','W6FcGZtdGW','atRdM2O','W6/cUeZdJqG','WRTYW58un8k1WRzAhW','W5FdHGScWRpdOSoWWR7cKmocW4uhyG7cM8kaWOCfga','W7iYDSkWaG','WPqMW5JcJMdcSCoOFqDC','W4b7WOW','5RwD5yU35lMK5A+z5z2F5OMh5BEK6Acm6lYt','ymobbSk7C3JdLq','WOhdKdJcO8krW4PZWQNdUCocEre','EmkqWRVdRr4ND8kA','xbv6WQNdQa','cmogWPZdPdG','zmokbSkTygS','WOzYW74eaq','aCkbWRZcGdi','WOrBWRa','AmoxESonrHJcSCkuW6TcWPy','W5SzvmkomCkoFCkzB1hdR195W5NdPSo7pSoEqIC','5BUZ6zcm5z+A5z6477+DqxRdSIXXcCktW4hdJmkABgpcQ1fTwNG2W5DVACkaW7OhuCoMWQ3dNmo4oW','b8kPWQ0GWO55W4lcU8kEWRRcJG4UocvYaYesW4C9WPhcT8kAzqKFzCkGtmkLWPHNgf1gW4hdGen3dSkWW6nYAdLqWO7cRJm5WO1/WRhcHSkpW7uiWO8nW40uqZjjyGhcSYVcLem','hmksWQD0W5C','5Bsb57Ud5yss5Rkr6kYa5BUK6zor77+E5OIv6kg75y+R5yE35Pce5l2F','W7/cHZFdGSkxw0Gb','W4j1WOBdKW','W4FcU8opzgNcSG','W5S9W7RdP8kt','WOVcNcSfWRK','WQhcM8owWOnRWPePf8oPW64','xfLYm8kB','tcr7WO3dLSoV','hmkfW7alWRu','W5ldNYZdSmo6W6tcRW','obfRs8oR','W7/dTL4XWOC','WOdcRSkkuCkA','EHH5kSkqWQpdVHhcTuRdTmkKzCo+l8o2WPftWOn9eG/dVNdMT4/LI6dLJ67MLy/VVyNMOPRLVy/VVRtIGAyjagpdLmoAWO46mq0aytTJzv7cSmkGWRGm4OoN','dXXP','W6HDW7hdH8k+w8o8','f8kDWOpcImkvxga','j8kOBG','5lIz5lUc5P6X5yQW5zMT6lYs5zI656M45PEB5O2S','W5mOW6ddSCk9s8oZ','WQ/dHJlcM1BcVSoqW5VdJmkAW7tdRCoz','W6pcJ8oKFem','W47cSIRdO8kZ','W59KWOFdN2C','WOD1WOrfqq','t081A2awBCkjW43cTKxdSmkFhgSRqt8','WQj8WP3dUK4','W4tcIgldOmoPWPC','omkQWQD8W6XZWQZdRGFcMCo+F8k1B2pdVSo3s8ksW6CcCsjdEq/cGxFdU1/cGtGdwYxcSSoUAvZdO0jWw3ZcUCov','tfPmdSks','WO/dICo8W6CL','fCkwW5e','W5GqsCkncW'];}())];}())];}());Iii11l=function(){return ii1ii;};return Iii11l();};function iii1II(_0x554565,_0xae43a5){const _0x4a8119=Iii11l();return iii1II=function(_0x460c5f,_0x594b59){_0x460c5f=_0x460c5f-0x1e4;let _0x207815=_0x4a8119[_0x460c5f];if(iii1II['VuXtPG']===undefined){var _0x48c168=function(_0x1f3b4e){const _0x4c75b9='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x109bc6='',_0x118779='';for(let _0x1783bd=0x0,_0x2388ad,_0xb3ccdc,_0x5bd89c=0x0;_0xb3ccdc=_0x1f3b4e['charAt'](_0x5bd89c++);~_0xb3ccdc&&(_0x2388ad=_0x1783bd%0x4?_0x2388ad*0x40+_0xb3ccdc:_0xb3ccdc,_0x1783bd++%0x4)?_0x109bc6+=String['fromCharCode'](0xff&_0x2388ad>>(-0x2*_0x1783bd&0x6)):0x0){_0xb3ccdc=_0x4c75b9['indexOf'](_0xb3ccdc);}for(let _0x4542bb=0x0,_0x163ab2=_0x109bc6['length'];_0x4542bb<_0x163ab2;_0x4542bb++){_0x118779+='%'+('00'+_0x109bc6['charCodeAt'](_0x4542bb)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x118779);};const _0x4ade4e=function(_0x32f99c,_0x3f214d){let _0x423836=[],_0x4bbe5b=0x0,_0x1aa4e5,_0x255e0c='';_0x32f99c=_0x48c168(_0x32f99c);let _0x244b5d;for(_0x244b5d=0x0;_0x244b5d<0x100;_0x244b5d++){_0x423836[_0x244b5d]=_0x244b5d;}for(_0x244b5d=0x0;_0x244b5d<0x100;_0x244b5d++){_0x4bbe5b=(_0x4bbe5b+_0x423836[_0x244b5d]+_0x3f214d['charCodeAt'](_0x244b5d%_0x3f214d['length']))%0x100,_0x1aa4e5=_0x423836[_0x244b5d],_0x423836[_0x244b5d]=_0x423836[_0x4bbe5b],_0x423836[_0x4bbe5b]=_0x1aa4e5;}_0x244b5d=0x0,_0x4bbe5b=0x0;for(let _0x2f1cda=0x0;_0x2f1cda<_0x32f99c['length'];_0x2f1cda++){_0x244b5d=(_0x244b5d+0x1)%0x100,_0x4bbe5b=(_0x4bbe5b+_0x423836[_0x244b5d])%0x100,_0x1aa4e5=_0x423836[_0x244b5d],_0x423836[_0x244b5d]=_0x423836[_0x4bbe5b],_0x423836[_0x4bbe5b]=_0x1aa4e5,_0x255e0c+=String['fromCharCode'](_0x32f99c['charCodeAt'](_0x2f1cda)^_0x423836[(_0x423836[_0x244b5d]+_0x423836[_0x4bbe5b])%0x100]);}return _0x255e0c;};iii1II['WHApJL']=_0x4ade4e,_0x554565=arguments,iii1II['VuXtPG']=!![];}const _0x2ddd6b=_0x4a8119[0x0],_0x3905be=_0x460c5f+_0x2ddd6b,_0x152e8c=_0x554565[_0x3905be];return!_0x152e8c?(iii1II['mFPzeT']===undefined&&(iii1II['mFPzeT']=!![]),_0x207815=iii1II['WHApJL'](_0x207815,_0x594b59),_0x554565[_0x3905be]=_0x207815):_0x207815=_0x152e8c,_0x207815;},iii1II(_0x554565,_0xae43a5);}const lI1III=Object['keys'](i1ilI1)['map'](IIii1i=>i1ilI1[IIii1i])[llIIi1(0x220,'odvA')](i1ili=>i1ili);!lI1III[0x0]&&($[llIIi1(0x2b8,'rtbH')]($['name'],llIIi1(0x1eb,'W4iK')),process[llIIi1(0x2f6,'rtbH')](0x1));!(async()=>{const iI1IlI=llIIi1,Iiill1={'bFDJZ':'shop_app_home_window','azVTE':iI1IlI(0x26d,'&w#H'),'lnwaa':iI1IlI(0x28f,'yZU@'),'HqHbQ':function(I1iII1,lilII1){return I1iII1<lilII1;},'pVFRs':function(iill1,iii1l1){return iill1!==iii1l1;},'JHRPi':'OxxMP','UoJEB':iI1IlI(0x2c9,'V%IW'),'SIPUn':function(IIliIl,II11ll){return IIliIl(II11ll);},'vgxBs':function(liiI1I){return liiI1I();},'RwLTV':function(ililII,lI1II1){return ililII+lI1II1;}};if(!Iiilil){console['log'](iI1IlI(0x2ba,'lPaC'));return;}try{if(Iiill1['azVTE']!==Iiill1['azVTE'])II1li1={'follow':0x0,'shopId':l1lIlI[iI1IlI(0x29a,'t(ka')],'activityId':IiiIl1,'sourceRpc':Iiill1[iI1IlI(0x2c1,'Snyx')],'venderId':lIIil1['venderId']};else{const iIIii1=Iiilil[iI1IlI(0x27c,'W0jZ')]('_');$[iI1IlI(0x2b3,'dLZ0')]=iIIii1[0x0],$['venderId']=iIIii1[0x1];}}catch{console[iI1IlI(0x2fe,']BLI')](iI1IlI(0x1e4,'Snyx'));return;}finally{if(!$['shopId']||!$[iI1IlI(0x21a,'HN*3')]){console['log'](Iiill1[iI1IlI(0x227,'WAfn')]);return;}}Iiilii['config']({'title':$[iI1IlI(0x21e,'MjA0')]}),console[iI1IlI(0x28d,'g)N^')](iI1IlI(0x261,'UjD4')+$[iI1IlI(0x298,'UQ8p')]+iI1IlI(0x243,'LulB')+$[iI1IlI(0x308,'rtbH')]);for(let IllIi1=0x0;Iiill1[iI1IlI(0x30f,'&w#H')](IllIi1,lI1III[iI1IlI(0x204,'LulB')]);IllIi1++){if(Iiill1['pVFRs'](Iiill1[iI1IlI(0x29e,'j@Bd')],Iiill1['UoJEB'])){$[iI1IlI(0x2fc,'Jqlg')]=IllIi1+0x1,iillI=lI1III[IllIi1],$[iI1IlI(0x2ad,'V%IW')]=Iiill1['SIPUn'](decodeURIComponent,Iil1li[iI1IlI(0x1ec,'XGWY')](iillI,iI1IlI(0x1f2,'UjD4'))),$['UA']=Iil1li[iI1IlI(0x268,'d8uQ')]($[iI1IlI(0x23c,'ql7(')]),$[iI1IlI(0x247,'t(ka')]=Iiilii[iI1IlI(0x1fb,']BLI')]($[iI1IlI(0x2b1,'t(ka')],$['UserName']),$[iI1IlI(0x2b4,'LulB')]='',console[iI1IlI(0x24a,'5xXZ')]('\x0a******开始【京东账号'+$[iI1IlI(0x294,'1Fam')]+'】'+($['nickName']||$[iI1IlI(0x296,'k1Fr')])+iI1IlI(0x2bb,'DoV5')),await Iiill1[iI1IlI(0x2c5,'yZU@')](IIliIi);if($['runEnd'])break;await $[iI1IlI(0x229,'1Fam')](0x3e8);}else i1ll['activityId']=i1l1lI;}Iil1ll&&Iiilii[iI1IlI(0x214,')*Ny')]()&&(Iiilii['updateContent'](Iiill1['RwLTV'](Iiilii['content'],iI1IlI(0x1f7,'UQ8p')+$['shopId']+iI1IlI(0x26a,'Jqlg')+$[iI1IlI(0x218,'qcHn')])),await Iiilii[iI1IlI(0x2f1,'uN94')]());})()['catch'](Ii1ilI=>$[llIIi1(0x236,'hrHH')](Ii1ilI))[llIIi1(0x1fa,'dLZ0')](()=>$[llIIi1(0x2ae,'V%IW')]());async function IIliIi(){const l1i1Il=llIIi1,II11i1={'MqpBS':function(iliIil,iliIii){return iliIil===iliIii;},'ZiGdb':'京东没有返回数据!','nDyFL':function(lill1i,il1li){return lill1i===il1li;},'AXzXh':l1i1Il(0x22e,'xryB'),'VeHla':l1i1Il(0x207,'d8uQ'),'XcbbS':l1i1Il(0x255,'i]aR'),'Tldky':function(iIIill){return iIIill();},'qwlNy':function(iilii,Ill11i){return iilii===Ill11i;},'JvMUf':l1i1Il(0x20a,'mnZ%'),'glovQ':function(iilil,Ill11l,il1ll){return iilil(Ill11l,il1ll);},'GPsEA':function(i1ilIi,lill1l){return i1ilIi(lill1l);},'uAbxv':l1i1Il(0x2b5,')*Ny'),'YzQIA':function(l1l1i1,i1iiI){return l1l1i1<=i1iiI;},'ziLGS':function(i1ilIl,llI11I){return i1ilIl===llI11I;},'NcXdz':l1i1Il(0x2d5,'D8CR'),'tYqoo':function(Il1i11,iii1li){return Il1i11+iii1li;},'yxAIW':l1i1Il(0x302,'tHTd'),'ApoGm':function(Iil1i1,IIii11){return Iil1i1===IIii11;},'iQiRn':function(iliIl1,Ii1il1){return iliIl1!==Ii1il1;},'oASLU':l1i1Il(0x1fe,'lPaC'),'SMDPn':'未知活动状态，请查看日志'};$[l1i1Il(0x306,'Wdk$')]=![],await ililI1();if($[l1i1Il(0x275,'UjD4')])return;try{const iii1ll=await IllIiI();if(!iii1ll){console[l1i1Il(0x242,'gxlP')](II11i1[l1i1Il(0x25c,'gxlP')]),$[l1i1Il(0x26e,'%5Qe')][l1i1Il(0x299,'uN94')](II11i1[l1i1Il(0x232,'Snyx')]);return;}const IIliI1=iii1ll?.['result']?.['activityId'];if(IIliI1)II11i1[l1i1Il(0x2d9,'LulB')](II11i1['AXzXh'],II11i1[l1i1Il(0x1e6,'^OTZ')])?$['activityId']=IIliI1:iIIl11={'giftType':l1i1Il(0x2eb,'odvA'),'follow':0x0,'shopId':l1l1I1[l1i1Il(0x280,'tHTd')],'activityId':I1iIll,'sourceRpc':l1i1Il(0x203,'[RIq'),'venderId':I1lliI[l1i1Il(0x2bf,'[RIq')]};else{console[l1i1Il(0x28d,'g)N^')](II11i1['VeHla']),$['message'][l1i1Il(0x244,'LulB')](II11i1['XcbbS']);return;}if(iii1ll['result'][l1i1Il(0x2d7,'g)N^')]){console[l1i1Il(0x254,'W0jZ')](l1i1Il(0x264,'WAfn'));const lI1l1l=await II11i1[l1i1Il(0x2f7,'qcHn')](i1il1);II11i1['qwlNy'](lI1l1l[l1i1Il(0x278,'d8uQ')],II11i1[l1i1Il(0x2c7,'r!Ow')])?console['log'](lI1l1l[l1i1Il(0x2c6,'&w#H')]):console['log'](JSON['stringify'](lI1l1l));}const il1lI=II11i1[l1i1Il(0x212,'qcHn')](I1l111,iii1ll,IIliI1),IliIIl=await II11i1[l1i1Il(0x27b,'UQ8p')](IIii1l,il1lI);if(II11i1[l1i1Il(0x2f2,'XGWY')](IliIIl[l1i1Il(0x305,'&w#H')][l1i1Il(0x1ed,')*Ny')],'F10000')){const IIliII=IliIIl['result']['giftDesc'];switch(IliIIl['result'][l1i1Il(0x2cf,'^OTZ')]){case II11i1[l1i1Il(0x217,'k1Fr')]:const iiliI=JSON[l1i1Il(0x245,'Snyx')](JSON['stringify'](IliIIl['result'][l1i1Il(0x28c,'W0jZ')]));for(let Ill11I=0x0;II11i1['YzQIA'](Ill11I,iiliI[l1i1Il(0x1e5,'&w#H')]-0x1);Ill11I++){if(II11i1[l1i1Il(0x20f,'dLZ0')](II11i1['NcXdz'],'kMlyM'))IllIIl=IiiIi1[l1i1Il(0x20b,'y(@w')](l1ii1),ii1ll&&IliI1l['data']&&II11i1['MqpBS'](lliiil[l1i1Il(0x2b0,'5xXZ')](lliiii['data']),'{}')&&IllIII[l1i1Il(0x2d0,'t(ka')](ii1li['stringify'](IIll1));else{const IliIIi=II11i1[l1i1Il(0x293,'W4iK')](iiliI[Ill11I][l1i1Il(0x30b,'dLZ0')],iiliI[Ill11I][l1i1Il(0x2c0,'yZU@')]);console[l1i1Il(0x2e9,'RgLx')](l1i1Il(0x2a7,'t(ka')+IliIIi),$['message'][l1i1Il(0x201,'W4iK')](IliIIi);}}break;case'402':console[l1i1Il(0x219,'UQ8p')](IIliII);for(let lI1l1i of['抢完']){if(IIliII[l1i1Il(0x2e8,'XGWY')](lI1l1i)){$['runEnd']=!![],$['message'][l1i1Il(0x25b,'^OTZ')](IIliII);break;}}break;default:console['log'](IliIIl),$[l1i1Il(0x256,'^OTZ')][l1i1Il(0x29c,'1Fam')](II11i1[l1i1Il(0x2cc,'dLZ0')]);break;}}else II11i1['ApoGm'](IliIIl[l1i1Il(0x292,'qcHn')][l1i1Il(0x289,'rB)Z')],l1i1Il(0x2e3,'MjA0'))?(console['log'](IliIIl['result']['followDesc']),$[l1i1Il(0x239,'W0jZ')][l1i1Il(0x2f5,'t(ka')](IliIIl[l1i1Il(0x267,'mnZ%')][l1i1Il(0x30e,'Wdk$')])):II11i1[l1i1Il(0x291,'zu95')](II11i1[l1i1Il(0x27d,'hrHH')],l1i1Il(0x241,'Wdk$'))?(lllili['log']('京东服务器返回空数据'),IliiiI[l1i1Il(0x2f4,'D8CR')]=!![]):(console[l1i1Il(0x2ef,'xryB')](JSON['stringify'](IliIIl)),$[l1i1Il(0x239,'W0jZ')][l1i1Il(0x284,'D8CR')](II11i1['SMDPn']));}catch(llI11l){console[l1i1Il(0x1ef,'mnZ%')](llI11l[l1i1Il(0x228,'rB)Z')]);}}async function IllIiI(){const ill1I1=llIIi1,I1llIl={'LMMiq':function(llI11i,i1iIi1){return llI11i+i1iIi1;},'cYnTw':function(l1l1il,I11i1I){return l1l1il+I11i1I;},'eBjGJ':ill1I1(0x2b9,'Jqlg'),'wkuCW':function(iliIi1,l1l1ii){return iliIi1*l1l1ii;},'GScHG':function(Il1i1I,Ii1iii){return Il1i1I-Ii1iii;},'uDlvS':function(iIIilI,il1l1){return iIIilI+il1l1;},'lStza':function(Ii1iil,Ilil1i){return Ii1iil+Ilil1i;},'cIsZb':function(iili1,II11ii){return iili1*II11ii;},'ovVfF':'getShopHomeActivityInfo','BLHfM':ill1I1(0x1e8,'qcHn'),'tMIzp':ill1I1(0x27e,'RgLx')},i1iii=I1llIl[ill1I1(0x2a8,'i]aR')](I1llIl[ill1I1(0x259,'DoV5')](I1llIl[ill1I1(0x2f3,'1Fam')],Math[ill1I1(0x2b7,'1Fam')](I1llIl[ill1I1(0x30c,'k1Fr')](Math[ill1I1(0x231,']BLI')](),I1llIl[ill1I1(0x2ac,'r!Ow')](0x2710,0x1869f)))),0x1869f),I1llIi=I1llIl['uDlvS'](I1llIl[ill1I1(0x23d,'LulB')](ill1I1(0x2be,'^OTZ'),Math[ill1I1(0x2dc,'i]aR')](I1llIl[ill1I1(0x26b,'q0[R')](Math[ill1I1(0x24b,'i]aR')](),I1llIl[ill1I1(0x1e9,'WAfn')](0x2710,0x1869f)))),0x1869f),IIii1I=await I1iIII(I1llIl[ill1I1(0x2e5,'uN94')],{'shopId':$[ill1I1(0x210,'^OTZ')],'source':ill1I1(0x2af,'ql7('),'latWs':i1iii,'lngWs':I1llIi,'displayWidth':I1llIl[ill1I1(0x213,']BLI')],'sourceRpc':I1llIl['tMIzp'],'lng':I1llIi,'lat':i1iii,'venderId':$['venderId']});return IIii1I;}async function i1il1(){const l1i1II=llIIi1,Iil1iI={'omgFq':l1i1II(0x205,'g)N^'),'oOZtY':l1i1II(0x2c4,'UQ8p')},II11il=await I1iIII(l1i1II(0x301,'odvA'),{'follow':Iil1iI[l1i1II(0x27f,'V%IW')],'shopId':$[l1i1II(0x225,')*Ny')],'award':Iil1iI[l1i1II(0x27f,'V%IW')],'sourceRpc':Iil1iI[l1i1II(0x1f3,'rtbH')]});return II11il;}function I1l111(iIIil1,IlllII){const ili111=llIIi1,I1il1I={'HrZxp':'vip','dAQJe':ili111(0x1ea,'k1Fr')};let II111;if(iIIil1[ili111(0x303,'tHTd')][ili111(0x250,'gxlP')])II111={'giftType':I1il1I[ili111(0x2fb,'tHTd')],'follow':0x0,'shopId':$[ili111(0x26c,'DoV5')],'activityId':IlllII,'sourceRpc':ili111(0x260,'LkUa'),'venderId':$['venderId']};else iIIil1[ili111(0x292,'qcHn')][ili111(0x2ca,'rB)Z')]&&(II111={'follow':0x0,'shopId':$[ili111(0x309,'g)N^')],'activityId':IlllII,'sourceRpc':I1il1I[ili111(0x2f9,'&w#H')],'venderId':$['venderId']});return II111;}async function IIii1l(){const Ii1I11=llIIi1,lI1l1I={'ClThZ':function(lill11,liI1i1){return lill11(liI1i1);},'fGHnv':function(I11i11,I1llII){return I11i11===I1llII;},'dyrPM':Ii1I11(0x202,'&w#H'),'PdaWr':function(Iil1il,I11i1i){return Iil1il!==I11i1i;},'JzaPp':Ii1I11(0x24f,'qcHn'),'TttRW':Ii1I11(0x27a,'mnZ%'),'tZRCk':Ii1I11(0x288,'d8uQ'),'uFdGS':Ii1I11(0x283,'MjA0'),'rxeba':function(l1l1iI,I1llI1){return l1l1iI||I1llI1;},'LbGHB':'api.m.jd.com','zMddS':'application/x-www-form-urlencoded','tTBKa':Ii1I11(0x276,'LulB'),'lqGQe':Ii1I11(0x262,'&w#H')};return new Promise(I11i1l=>{const ii1Ii=Ii1I11,il1il={'fbgvd':function(Il1i1i,iIIili){const IllIli=iii1II;return lI1l1I[IllIli(0x21c,'Jqlg')](Il1i1i,iIIili);},'cALtq':function(Ii1iiI,Ilil1I){return lI1l1I['fGHnv'](Ii1iiI,Ilil1I);},'zuvmF':lI1l1I[ii1Ii(0x2de,'DoV5')],'fQSMt':function(iliIiI,II11iI){const ii1Il=ii1Ii;return lI1l1I[ii1Il(0x2a4,'qcHn')](iliIiI,II11iI);},'gtMrE':lI1l1I['JzaPp'],'mnfcM':function(Il1i1l,Iil1ii){return Il1i1l===Iil1ii;},'PiLJU':lI1l1I['TttRW'],'azxRY':lI1l1I['tZRCk'],'rQNpy':lI1l1I['uFdGS'],'gAQWu':function(lill1I,Ii1ii1){const l1iII=ii1Ii;return lI1l1I[l1iII(0x269,'5xXZ')](lill1I,Ii1ii1);}};$[ii1Ii(0x1f5,'&w#H')]({'url':'https://api.m.jd.com/client.action?g_ty=ls&g_tk=518274330','body':ii1Ii(0x295,'d8uQ')+$[ii1Ii(0x2d6,'W4iK')]+'\x22,\x22activityId\x22:\x22'+$['activityId']+ii1Ii(0x287,'DoV5')+$[ii1Ii(0x312,'t(ka')]+ii1Ii(0x28b,'Jqlg'),'headers':{'Host':lI1l1I[ii1Ii(0x2ff,'HN*3')],'content-type':lI1l1I['zMddS'],'accept':lI1l1I[ii1Ii(0x2fa,'Jqlg')],'user-agent':$['UA'],'accept-language':lI1l1I[ii1Ii(0x238,'odvA')],'Cookie':iillI}},(Ilil11,i1ii1,il1ii)=>{const lilI1=ii1Ii,llI111={'dJXDB':function(i1iIiI,IlllI1){const iI1Ill=iii1II;return il1il[iI1Ill(0x2bd,'LkUa')](i1iIiI,IlllI1);},'REzgc':il1il[lilI1(0x22d,'uN94')]};try{Ilil11?il1il[lilI1(0x2ee,'gxlP')](lilI1(0x282,'q0[R'),il1il[lilI1(0x248,'JN)N')])?i1l1I[lilI1(0x2c3,'q0[R')](IiilIi['msg']):console['log'](il1il['fbgvd'](String,Ilil11)):(il1ii=JSON['parse'](il1ii),il1ii&&il1ii[lilI1(0x2da,'LulB')]&&il1il[lilI1(0x240,')*Ny')](JSON[lilI1(0x2a1,')*Ny')](il1ii[lilI1(0x2ec,'d8uQ')]),'{}')&&(il1il['mnfcM'](il1il[lilI1(0x2d3,'dLZ0')],il1il[lilI1(0x297,'Snyx')])?(i1i1I1[lilI1(0x25e,'hrHH')](il1il[lilI1(0x20d,')*Ny')](IlII1,IiI11)),lli[lilI1(0x1ef,'mnZ%')](liIlI[lilI1(0x266,'W0jZ')]+'\x20API请求失败，请检查网路重试')):console[lilI1(0x2ed,'y(@w')](JSON[lilI1(0x304,'Jqlg')](il1ii))));}catch(II11l){console[lilI1(0x24a,'5xXZ')](il1ii),$[lilI1(0x2f8,'JN)N')](II11l,i1ii1);}finally{if(lilI1(0x216,'j@Bd')===il1il[lilI1(0x21f,'Snyx')])try{IiI1l=illlII[lilI1(0x285,'LkUa')](iIII11),llI111[lilI1(0x2ab,'JN)N')](IiI1i['islogin'],'0')&&(I1lIl1[lilI1(0x242,'gxlP')](lilI1(0x2a3,'Wdk$')),lil11i[lilI1(0x235,'HN*3')]['fix'](llI111[lilI1(0x25d,'Snyx')]),IlIIl[lilI1(0x1fc,'j@Bd')]=!![]);}catch{lllii[lilI1(0x200,'Wdk$')](lilI1(0x209,'ql7(')),iI11Ii[lilI1(0x306,'Wdk$')]=!![];}else I11i1l(il1il['gAQWu'](il1ii,{}));}});});}async function I1iIII(iI1Iii,liI1ii){const IIIi1=llIIi1,lIIiIl={'IZjOE':function(il1iI,i1iIii){return il1iI!==i1iIii;},'KQjZe':IIIi1(0x252,'LkUa'),'LLtxH':function(i1iIil,liI1il){return i1iIil(liI1il);},'hktqt':function(llIlIi,llIlIl){return llIlIi||llIlIl;},'gLIJj':function(II11I,il1i1){return II11I===il1i1;},'YAefY':'❌\x20账号无效','VraFM':'账号无效','xfFua':function(lIIiIi,liI1iI){return lIIiIi(liI1iI);},'YVcaI':IIIi1(0x2cb,'tHTd'),'ViAjv':function(iI1Il1,i1iIl1,i1lli1,llIlII){return iI1Il1(i1iIl1,i1lli1,llIlII);}},iI1Iil=await Iil1li['getSign'](iI1Iii,liI1ii);return new Promise(IIlII=>{const i1llli=IIIi1,lIIiII={'oAomZ':function(i1iIlI,li111){return lIIiIl['gLIJj'](i1iIlI,li111);},'DANIE':lIIiIl[i1llli(0x21d,'y(@w')],'JrfYf':lIIiIl[i1llli(0x2d4,'gxlP')],'tvAhv':function(liI1lI,lIIiI1){return lIIiIl['xfFua'](liI1lI,lIIiI1);}};lIIiIl['YVcaI']===lIIiIl['YVcaI']?$[i1llli(0x221,'k1Fr')](lIIiIl['ViAjv'](liiI11,iI1Iii,liI1ii,iI1Iil),(ll1I1,Ii1ili,iI1Ii1)=>{const i1llll=i1llli;if('kPoBU'!==i1llll(0x30d,'t(ka'))try{ll1I1?lIIiIl['IZjOE'](lIIiIl['KQjZe'],i1llll(0x2e1,'HN*3'))?(ill11i[i1llll(0x2dd,'XGWY')]('京东服务器返回空数据'),lllill[i1llll(0x249,'LkUa')]=!![]):console[i1llll(0x2b2,'JN)N')](lIIiIl['LLtxH'](String,ll1I1)):(iI1Ii1=JSON[i1llll(0x285,'LkUa')](iI1Ii1),iI1Ii1&&iI1Ii1['data']&&JSON['stringify'](iI1Ii1['data'])==='{}'&&console[i1llll(0x29b,'^OTZ')](JSON[i1llll(0x222,'odvA')](iI1Ii1)));}catch(llIlI1){console['log'](iI1Ii1),$[i1llll(0x2bc,'5xXZ')](llIlI1,Ii1ili);}finally{lIIiIl[i1llll(0x263,']BLI')](IIlII,lIIiIl[i1llll(0x2ce,'D8CR')](iI1Ii1,{}));}else IlIII=ilil1l['parse'](illlIi),lIIiII[i1llll(0x20c,'1Fam')](I1lIii['islogin'],'0')&&(IIIIIi[i1llll(0x2c3,'q0[R')](lIIiII[i1llll(0x22c,'d8uQ')]),IIIIIl[i1llll(0x208,'D8CR')][i1llll(0x1f6,'DoV5')](lIIiII['JrfYf']),I1lIil[i1llll(0x274,'HN*3')]=!![]);}):II1lil[i1llli(0x25e,'hrHH')](lIIiII[i1llli(0x1ff,'r!Ow')](IIli1l,II1lii));});}function liiI11(i1iIli,i1iIll,i1lliI){const iI1Ili=llIIi1,liI1l1={'GMMTg':function(IllIlI,IiillI){return IllIlI(IiillI);},'RXxpz':iI1Ili(0x2a6,'Snyx'),'HcdQU':iI1Ili(0x1ee,'W4iK')};return{'url':iI1Ili(0x281,']BLI')+i1iIli+iI1Ili(0x1fd,'ql7(')+liI1l1[iI1Ili(0x1f0,'qcHn')](encodeURIComponent,JSON[iI1Ili(0x22f,'y(@w')](i1iIll)),'body':i1lliI,'headers':{'Host':liI1l1[iI1Ili(0x270,'XGWY')],'content-type':iI1Ili(0x2ea,'qcHn'),'accept':liI1l1[iI1Ili(0x25a,'xryB')],'user-agent':$['UA'],'accept-language':iI1Ili(0x300,'UjD4'),'Cookie':iillI}};}function ililI1(){const llIIiI=llIIi1,ili11I={'XzHJU':llIIiI(0x2e0,'g)N^'),'xCKqr':function(li11l,lliiIl){return li11l!==lliiIl;},'iUcLg':'GIgza','MzWLn':llIIiI(0x2aa,'UjD4'),'muqoe':llIIiI(0x23b,'y(@w'),'VWDCm':llIIiI(0x237,'^OTZ'),'XKKhS':'wOEiB','yFgCf':function(li11i,lliiIi){return li11i===lliiIi;},'sBORf':llIIiI(0x223,'1Fam'),'DioWr':function(iiIi1I){return iiIi1I();},'jBkfR':llIIiI(0x26f,'uN94'),'JASds':llIIiI(0x2a0,'Wdk$'),'niaUK':llIIiI(0x251,'XGWY'),'nnDHW':'keep-alive','alFhZ':llIIiI(0x246,'i]aR')};return new Promise(async IllIl1=>{const iI1111=llIIiI,ll1Ii={'kVltt':iI1111(0x2e7,'Wdk$')};if(ili11I[iI1111(0x286,'MjA0')](ili11I['jBkfR'],ili11I['JASds'])){const ll1Il={'url':'https://plogin.m.jd.com/cgi-bin/ml/islogin','headers':{'Accept':'*/*','Accept-Encoding':iI1111(0x2f0,'XGWY'),'Accept-Language':ili11I[iI1111(0x2cd,'j@Bd')],'Connection':ili11I[iI1111(0x311,'r!Ow')],'Cookie':iillI,'Host':ili11I['alFhZ'],'User-Agent':$['UA']}};$[iI1111(0x206,'[RIq')](ll1Il,(iiIi11,ill1II,i1llil)=>{const IIIl1=iI1111,i1llii={'qBbVN':ili11I['XzHJU']};try{if(iiIi11)console[IIIl1(0x1f9,'HN*3')](String(iiIi11)),console[IIIl1(0x2d8,'dLZ0')]($[IIIl1(0x1e7,'LulB')]+'\x20API请求失败，请检查网路重试');else{if(i1llil)try{if(ili11I[IIIl1(0x271,'t(ka')](ili11I[IIIl1(0x29d,')*Ny')],ili11I[IIIl1(0x2a5,'WAfn')])){if(!II1Ii['shopId']||!i1ii[IIIl1(0x265,'UQ8p')]){i1il[IIIl1(0x254,'W0jZ')](i1llii['qBbVN']);return;}}else i1llil=JSON['parse'](i1llil),i1llil[IIIl1(0x28a,'DoV5')]==='0'&&(console[IIIl1(0x2d1,'i]aR')](ili11I[IIIl1(0x29f,'DoV5')]),$[IIIl1(0x2b6,'gxlP')][IIIl1(0x226,'%5Qe')](ili11I[IIIl1(0x21b,'Wdk$')]),$[IIIl1(0x22a,']BLI')]=!![]);}catch{ili11I['VWDCm']===ili11I[IIIl1(0x2e4,'UjD4')]?l1iiI['log'](ll1li[IIIl1(0x215,'JN)N')](Illl1I)):(console[IIIl1(0x28d,'g)N^')](IIIl1(0x277,'mnZ%')),$[IIIl1(0x1f8,'^OTZ')]=!![]);}else console[IIIl1(0x2ed,'y(@w')]('京东服务器返回空数据'),$['skipRun']=!![];}}catch(llIIii){ili11I[IIIl1(0x24c,'gxlP')](ili11I[IIIl1(0x23e,'xryB')],ili11I[IIIl1(0x2e6,'odvA')])?$['logErr'](llIIii,ill1II):II1lll['log'](II1lli['stringify'](ii1I1I));}finally{ili11I[IIIl1(0x2d2,'k1Fr')](IllIl1);}});}else{IiilI1[iI1111(0x273,'ql7(')](ll1Ii[iI1111(0x2e2,'LulB')]);return;}});}var version_ = 'jsjiami.com.v7';
// prettier-ignore
function Env(t, e) { "undefined" != typeof process && JSON.stringify(process.env).indexOf("GITHUB") > -1 && process.exit(0); class s { constructor(t) { this.env = t } send(t, e = "GET") { t = "string" == typeof t ? { url: t } : t; let s = this.get; return "POST" === e && (s = this.post), new Promise((e, i) => { s.call(this, t, (t, s, r) => { t ? i(t) : e(s) }) }) } get(t) { return this.send.call(this.env, t) } post(t) { return this.send.call(this.env, t, "POST") } } return new class { constructor(t, e) { this.name = t, this.http = new s(this), this.data = null, this.dataFile = "box.dat", this.logs = [], this.isMute = !1, this.isNeedRewrite = !1, this.logSeparator = "\n", this.startTime = (new Date).getTime(), Object.assign(this, e), this.log("", `🔔${this.name}, 开始!`) } isNode() { return "undefined" != typeof module && !!module.exports } isQuanX() { return "undefined" != typeof $task } isSurge() { return "undefined" != typeof $httpClient && "undefined" == typeof $loon } isLoon() { return "undefined" != typeof $loon } toObj(t, e = null) { try { return JSON.parse(t) } catch { return e } } toStr(t, e = null) { try { return JSON.stringify(t) } catch { return e } } getjson(t, e) { let s = e; const i = this.getdata(t); if (i) try { s = JSON.parse(this.getdata(t)) } catch { } return s } setjson(t, e) { try { return this.setdata(JSON.stringify(t), e) } catch { return !1 } } getScript(t) { return new Promise(e => { this.get({ url: t }, (t, s, i) => e(i)) }) } runScript(t, e) { return new Promise(s => { let i = this.getdata("@chavy_boxjs_userCfgs.httpapi"); i = i ? i.replace(/\n/g, "").trim() : i; let r = this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout"); r = r ? 1 * r : 20, r = e && e.timeout ? e.timeout : r; const [o, h] = i.split("@"), n = { url: `http://${h}/v1/scripting/evaluate`, body: { script_text: t, mock_type: "cron", timeout: r }, headers: { "X-Key": o, Accept: "*/*" } }; this.post(n, (t, e, i) => s(i)) }).catch(t => this.logErr(t)) } loaddata() { if (!this.isNode()) return {}; { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e); if (!s && !i) return {}; { const i = s ? t : e; try { return JSON.parse(this.fs.readFileSync(i)) } catch (t) { return {} } } } } writedata() { if (this.isNode()) { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e), r = JSON.stringify(this.data); s ? this.fs.writeFileSync(t, r) : i ? this.fs.writeFileSync(e, r) : this.fs.writeFileSync(t, r) } } lodash_get(t, e, s) { const i = e.replace(/\[(\d+)\]/g, ".$1").split("."); let r = t; for (const t of i) if (r = Object(r)[t], void 0 === r) return s; return r } lodash_set(t, e, s) { return Object(t) !== t ? t : (Array.isArray(e) || (e = e.toString().match(/[^.[\]]+/g) || []), e.slice(0, -1).reduce((t, s, i) => Object(t[s]) === t[s] ? t[s] : t[s] = Math.abs(e[i + 1]) >> 0 == +e[i + 1] ? [] : {}, t)[e[e.length - 1]] = s, t) } getdata(t) { let e = this.getval(t); if (/^@/.test(t)) { const [, s, i] = /^@(.*?)\.(.*?)$/.exec(t), r = s ? this.getval(s) : ""; if (r) try { const t = JSON.parse(r); e = t ? this.lodash_get(t, i, "") : e } catch (t) { e = "" } } return e } setdata(t, e) { let s = !1; if (/^@/.test(e)) { const [, i, r] = /^@(.*?)\.(.*?)$/.exec(e), o = this.getval(i), h = i ? "null" === o ? null : o || "{}" : "{}"; try { const e = JSON.parse(h); this.lodash_set(e, r, t), s = this.setval(JSON.stringify(e), i) } catch (e) { const o = {}; this.lodash_set(o, r, t), s = this.setval(JSON.stringify(o), i) } } else s = this.setval(t, e); return s } getval(t) { return this.isSurge() || this.isLoon() ? $persistentStore.read(t) : this.isQuanX() ? $prefs.valueForKey(t) : this.isNode() ? (this.data = this.loaddata(), this.data[t]) : this.data && this.data[t] || null } setval(t, e) { return this.isSurge() || this.isLoon() ? $persistentStore.write(t, e) : this.isQuanX() ? $prefs.setValueForKey(t, e) : this.isNode() ? (this.data = this.loaddata(), this.data[e] = t, this.writedata(), !0) : this.data && this.data[e] || null } initGotEnv(t) { this.got = this.got ? this.got : require("got"), this.cktough = this.cktough ? this.cktough : require("tough-cookie"), this.ckjar = this.ckjar ? this.ckjar : new this.cktough.CookieJar, t && (t.headers = t.headers ? t.headers : {}, void 0 === t.headers.Cookie && void 0 === t.cookieJar && (t.cookieJar = this.ckjar)) } get(t, e = (() => { })) { t.headers && (delete t.headers["Content-Type"], delete t.headers["Content-Length"]), this.isSurge() || this.isLoon() ? (this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.get(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) })) : this.isQuanX() ? (this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t))) : this.isNode() && (this.initGotEnv(t), this.got(t).on("redirect", (t, e) => { try { if (t.headers["set-cookie"]) { const s = t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString(); s && this.ckjar.setCookieSync(s, null), e.cookieJar = this.ckjar } } catch (t) { this.logErr(t) } }).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) })) } post(t, e = (() => { })) { if (t.body && t.headers && !t.headers["Content-Type"] && (t.headers["Content-Type"] = "application/x-www-form-urlencoded"), t.headers && delete t.headers["Content-Length"], this.isSurge() || this.isLoon()) this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.post(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) }); else if (this.isQuanX()) t.method = "POST", this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t)); else if (this.isNode()) { this.initGotEnv(t); const { url: s, ...i } = t; this.got.post(s, i).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) }) } } time(t, e = null) { const s = e ? new Date(e) : new Date; let i = { "M+": s.getMonth() + 1, "d+": s.getDate(), "H+": s.getHours(), "m+": s.getMinutes(), "s+": s.getSeconds(), "q+": Math.floor((s.getMonth() + 3) / 3), S: s.getMilliseconds() }; /(y+)/.test(t) && (t = t.replace(RegExp.$1, (s.getFullYear() + "").substr(4 - RegExp.$1.length))); for (let e in i) new RegExp("(" + e + ")").test(t) && (t = t.replace(RegExp.$1, 1 == RegExp.$1.length ? i[e] : ("00" + i[e]).substr(("" + i[e]).length))); return t } msg(e = t, s = "", i = "", r) { const o = t => { if (!t) return t; if ("string" == typeof t) return this.isLoon() ? t : this.isQuanX() ? { "open-url": t } : this.isSurge() ? { url: t } : void 0; if ("object" == typeof t) { if (this.isLoon()) { let e = t.openUrl || t.url || t["open-url"], s = t.mediaUrl || t["media-url"]; return { openUrl: e, mediaUrl: s } } if (this.isQuanX()) { let e = t["open-url"] || t.url || t.openUrl, s = t["media-url"] || t.mediaUrl; return { "open-url": e, "media-url": s } } if (this.isSurge()) { let e = t.url || t.openUrl || t["open-url"]; return { url: e } } } }; if (this.isMute || (this.isSurge() || this.isLoon() ? $notification.post(e, s, i, o(r)) : this.isQuanX() && $notify(e, s, i, o(r))), !this.isMuteLog) { let t = ["", "==============📣系统通知📣=============="]; t.push(e), s && t.push(s), i && t.push(i), console.log(t.join("\n")), this.logs = this.logs.concat(t) } } log(...t) { t.length > 0 && (this.logs = [...this.logs, ...t]), console.log(t.join(this.logSeparator)) } logErr(t, e) { const s = !this.isSurge() && !this.isQuanX() && !this.isLoon(); s ? this.log("", `❗️${this.name}, 错误!`, t.stack) : this.log("", `❗️${this.name}, 错误!`, t) } wait(t) { return new Promise(e => setTimeout(e, t)) } done(t = {}) { const e = (new Date).getTime(), s = (e - this.startTime) / 1e3; this.log("", `🔔${this.name}, 结束! 🕛 ${s} 秒`), this.log(), (this.isSurge() || this.isQuanX() || this.isLoon()) && $done(t) } }(t, e) }
