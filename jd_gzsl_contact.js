/*
活动名称：gzsl-关注有礼
活动链接：https://gzsl-isv.isvjcloud.com/wuxian/user/contact/<活动id>
          https://gzsl-isv.isvjcloud.com/wuxian/user/contactWare/<活动id>
          https://gzsl-isv.isvjcloud.com/wuxian/mobileForApp/dist2/views/pages/followGift.html?activityId=<活动id>
          https://gzsl-isv.isvjcloud.com/wuxian/mobileForApp/dist2/views/pages/followPro.html?activityId=<活动id>
环境变量：jd_gzsl_contact_url // 活动链接
         jd_gzsl_contact_Notify // 是否通知（true/false），默认不通知


cron:1 1 1 1 * jd_gzsl_contact.js

*/

const $ = new Env('gzsl-关注有礼');
var iｉl='jsjiami.com.v7';const IiiI=iii1II;(function(i1lIil,III11l,llIl1i,llIl1l,IiiII,Iiil,IIIli){return i1lIil=i1lIil>>0x8,Iiil='hs',IIIli='hs',function(ii1i1,Iiii,llIl11,IIIll,I1I1il){const IIIlI=iii1II;IIIll='tfi',Iiil=IIIll+Iiil,I1I1il='up',IIIli+=I1I1il,Iiil=llIl11(Iiil),IIIli=llIl11(IIIli),llIl11=0x0;const l1llii=ii1i1();while(!![]&&--llIl1l+Iiii){try{IIIll=parseInt(IIIlI(0x290,'fFe5'))/0x1+parseInt(IIIlI(0x17a,'UqRs'))/0x2+parseInt(IIIlI(0x19a,'pVRh'))/0x3*(-parseInt(IIIlI(0x1a3,'z(qE'))/0x4)+parseInt(IIIlI(0x291,'dGh['))/0x5*(parseInt(IIIlI(0x2b1,'*QN%'))/0x6)+-parseInt(IIIlI(0x18a,'lh*$'))/0x7+-parseInt(IIIlI(0x128,'iD9n'))/0x8*(-parseInt(IIIlI(0x265,'^d^#'))/0x9)+-parseInt(IIIlI(0x270,'jJp)'))/0xa;}catch(liII1){IIIll=llIl11;}finally{I1I1il=l1llii[Iiil]();if(i1lIil<=llIl1l)llIl11?IiiII?IIIll=I1I1il:IiiII=I1I1il:llIl11=I1I1il;else{if(llIl11==IiiII['replace'](/[NXRICMrhGPBJuqgULQx=]/g,'')){if(IIIll===Iiii){l1llii['un'+Iiil](I1I1il);break;}l1llii[IIIli](I1I1il);}}}}}(llIl1i,III11l,function(I1I1ii,l1llil,IIIlIi,llIl1I,i1lIl1,liIli1,IIIlIl){return l1llil='\x73\x70\x6c\x69\x74',I1I1ii=arguments[0x0],I1I1ii=I1I1ii[l1llil](''),IIIlIi=`\x72\x65\x76\x65\x72\x73\x65`,I1I1ii=I1I1ii[IIIlIi]('\x76'),llIl1I=`\x6a\x6f\x69\x6e`,(0x150417,I1I1ii[llIl1I](''));});}(0xc000,0xc7f20,Iii11l,0xc2),Iii11l)&&(iｉl=0xc2);function iii1II(_0x46fee1,_0x337563){const _0xa39940=Iii11l();return iii1II=function(_0x632bcb,_0x1d4223){_0x632bcb=_0x632bcb-0xd4;let _0x4c44dd=_0xa39940[_0x632bcb];if(iii1II['hEZEba']===undefined){var _0x45688f=function(_0x2744bb){const _0x54f828='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x41e408='',_0x50bb5f='';for(let _0x39123d=0x0,_0x5134aa,_0x4ada40,_0x573c70=0x0;_0x4ada40=_0x2744bb['charAt'](_0x573c70++);~_0x4ada40&&(_0x5134aa=_0x39123d%0x4?_0x5134aa*0x40+_0x4ada40:_0x4ada40,_0x39123d++%0x4)?_0x41e408+=String['fromCharCode'](0xff&_0x5134aa>>(-0x2*_0x39123d&0x6)):0x0){_0x4ada40=_0x54f828['indexOf'](_0x4ada40);}for(let _0x7fa8c8=0x0,_0x181ef8=_0x41e408['length'];_0x7fa8c8<_0x181ef8;_0x7fa8c8++){_0x50bb5f+='%'+('00'+_0x41e408['charCodeAt'](_0x7fa8c8)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x50bb5f);};const _0x2213c2=function(_0x5ce051,_0x127a28){let _0x267a4e=[],_0x271afe=0x0,_0x29f622,_0x6fccb0='';_0x5ce051=_0x45688f(_0x5ce051);let _0x910690;for(_0x910690=0x0;_0x910690<0x100;_0x910690++){_0x267a4e[_0x910690]=_0x910690;}for(_0x910690=0x0;_0x910690<0x100;_0x910690++){_0x271afe=(_0x271afe+_0x267a4e[_0x910690]+_0x127a28['charCodeAt'](_0x910690%_0x127a28['length']))%0x100,_0x29f622=_0x267a4e[_0x910690],_0x267a4e[_0x910690]=_0x267a4e[_0x271afe],_0x267a4e[_0x271afe]=_0x29f622;}_0x910690=0x0,_0x271afe=0x0;for(let _0x4e0d5f=0x0;_0x4e0d5f<_0x5ce051['length'];_0x4e0d5f++){_0x910690=(_0x910690+0x1)%0x100,_0x271afe=(_0x271afe+_0x267a4e[_0x910690])%0x100,_0x29f622=_0x267a4e[_0x910690],_0x267a4e[_0x910690]=_0x267a4e[_0x271afe],_0x267a4e[_0x271afe]=_0x29f622,_0x6fccb0+=String['fromCharCode'](_0x5ce051['charCodeAt'](_0x4e0d5f)^_0x267a4e[(_0x267a4e[_0x910690]+_0x267a4e[_0x271afe])%0x100]);}return _0x6fccb0;};iii1II['ADMqeN']=_0x2213c2,_0x46fee1=arguments,iii1II['hEZEba']=!![];}const _0xe50e87=_0xa39940[0x0],_0x520092=_0x632bcb+_0xe50e87,_0x3e1557=_0x46fee1[_0x520092];return!_0x3e1557?(iii1II['BGdmQO']===undefined&&(iii1II['BGdmQO']=!![]),_0x4c44dd=iii1II['ADMqeN'](_0x4c44dd,_0x1d4223),_0x46fee1[_0x520092]=_0x4c44dd):_0x4c44dd=_0x3e1557,_0x4c44dd;},iii1II(_0x46fee1,_0x337563);}const iIIii1=require(IiiI(0x2a1,'ONa3')),IllIi1=require('./utils/Rebels_jdCommon'),lilIII=require(IiiI(0x108,'7nby')),Ii1ilI=require(IiiI(0x16c,'#TkC'));console['log'](''),console[IiiI(0x228,'rx#8')]('=========='+$['name']+'变量说明=========='),console[IiiI(0x1e1,'nZgB')](IiiI(0x103,'JAm5')),console[IiiI(0x1a7,'jbuU')]('jd_gzsl_contact_Notify\x20//\x20是否通知（true/false），默认不通知'),console[IiiI(0x236,'dGh[')](IiiI(0x203,'@6Wu')+$['name']+IiiI(0x10c,'R31O')),console[IiiI(0x158,'FcsF')]('');const II11i1=process['env'][IiiI(0x144,'!]%s')]||'',iliIil=process[IiiI(0x1cf,'7)0m')]['jd_gzsl_contact_opencard']===IiiI(0x298,'44Ou'),iliIii=process[IiiI(0x27a,'jbuU')][IiiI(0xf9,'pVRh')]===IiiI(0xde,'x44Y');let lill1i='',il1li='';const iIIill=Object['keys'](iIIii1)[IiiI(0x21e,'wf9)')](il1ll=>iIIii1[il1ll])[IiiI(0x2ae,'z(qE')](i1ilIi=>i1ilIi);!iIIill[0x0]&&($['msg']($[IiiI(0x252,'gc6a')],IiiI(0xf6,'Gv@S')),process[IiiI(0x216,'dGh[')](0x1));!(async()=>{const iIi1i=IiiI,lill1l={'etYSw':iIi1i(0x1de,'3!NC'),'GckGX':iIi1i(0x11b,'AWD5'),'EQFNJ':iIi1i(0x23b,'jJp)'),'DHYrH':'activityId=','mWzTS':function(i1iiI,i1ilIl){return i1iiI===i1ilIl;},'HHgKb':iIi1i(0x195,'z(qE'),'kxxAE':function(llI11I,Il1i11){return llI11I!==Il1i11;},'glpLH':iIi1i(0x27b,'YUXw'),'zlZoV':function(iii1li,Iil1i1){return iii1li+Iil1i1;},'iUkWq':iIi1i(0xec,'z(qE'),'Uhciy':function(IIii11,iliIl1){return IIii11<iliIl1;},'dVgpl':function(Ii1il1,iii1ll){return Ii1il1+iii1ll;},'rKVEw':function(IIliI1,il1lI){return IIliI1(il1lI);},'UEzFH':iIi1i(0x17d,'7)0m'),'hsJaJ':function(IliIIl,I1il1l){return IliIIl+I1il1l;},'BrOfU':function(lI1l1l,IIliII){return lI1l1l*IIliII;},'OHRjS':function(iiliI){return iiliI();}};if(!II11i1){console['log'](lill1l[iIi1i(0x106,'$KxU')]);return;}const l1l1i1=IllIi1['parseUrl'](II11i1);if(!l1l1i1){console[iIi1i(0x2af,'*QN%')](lill1l[iIi1i(0x271,'gc6a')]);return;}$['activityUrl']=II11i1,$['hostname']=l1l1i1['hostname'],$[iIi1i(0x14c,'FcsF')]=l1l1i1[iIi1i(0x1f7,'x44Y')],$['baseUrl']='https://'+$['hostname'];if($[iIi1i(0x2ab,'7)0m')]){if(iIi1i(0x15b,'fFe5')===iIi1i(0x1a5,'p5Sk')){lilIil['log'](lill1l[iIi1i(0x299,'YUXw')]),i1l11['message']['fix']('获取[Token]失败');return;}else{if($[iIi1i(0xe2,'pVRh')]['includes'](lill1l[iIi1i(0x14a,'^d^#')]))lill1l['mWzTS'](lill1l['HHgKb'],lill1l['HHgKb'])?$['activityId']=$[iIi1i(0x222,'JAm5')]['match'](/activityId=(.+d?)/)[0x1][iIi1i(0x1f1,'pVRh')]('_')[0x0]:i1iliI[iIi1i(0x16e,'hD!H')]=I1iIii['activityUrl']['match'](/activityId=(.+d?)/)[0x1][iIi1i(0x202,'$KxU')]('_')[0x0];else $[iIi1i(0x29b,'7D%i')][iIi1i(0x22f,'ONa3')](iIi1i(0x18c,'7D%i'))?lill1l['kxxAE'](lill1l['glpLH'],lill1l[iIi1i(0x138,'lh*$')])?II11II['log'](iIi1i(0x19c,'AWD5')+Ii1iI1):$[iIi1i(0x2ad,'y$Jo')]=$[iIi1i(0x1c5,'zkaO')][iIi1i(0x20a,'pVRh')](/contactWare\/(.+d?)/)[0x1]:$[iIi1i(0x1e7,'JAm5')]=$[iIi1i(0x214,'q7YT')]['match'](/contact\/(.+d?)/)[0x1];}}if(!$[iIi1i(0x11c,'jJp)')]||!$[iIi1i(0xd9,'^d^#')]){console[iIi1i(0x249,'44Ou')](iIi1i(0x131,'^d^#'));return;}lilIII['config']({'title':$[iIi1i(0x153,'#CJg')]}),console[iIi1i(0x26b,'0&I]')](lill1l['zlZoV'](lill1l[iIi1i(0x170,'*[8r')],$[iIi1i(0xdd,'1BL%')]));for(let lI1l1i=0x0;lill1l[iIi1i(0x1f5,'y$Jo')](lI1l1i,iIIill[iIi1i(0x175,'Bwsg')]);lI1l1i++){$[iIi1i(0x19f,'JAm5')]=lill1l['dVgpl'](lI1l1i,0x1),lill1i=iIIill[lI1l1i],il1li=iIIill[lI1l1i],IllIi1[iIi1i(0x176,'!]%s')](il1li),$[iIi1i(0x1ea,'7D%i')]=lill1l[iIi1i(0xd8,']BQi')](decodeURIComponent,IllIi1['getCookieValue'](lill1i,'pt_pin')),$['UA']=IllIi1[iIi1i(0x292,'eOTm')]($[iIi1i(0x197,'7nby')]),$['UUID']=IllIi1[iIi1i(0x2a0,'lh*$')](lill1l[iIi1i(0x1bb,'x44Y')]),$['te']=lill1l[iIi1i(0x1b9,'0&I]')](Math[iIi1i(0x1fc,'lh*$')](lill1l['BrOfU'](Math[iIi1i(0x154,'q7YT')](),0x2328)),0x3e8),$[iIi1i(0x25b,'@5#r')]=lilIII[iIi1i(0x2a4,'44Ou')]($['index'],$['UserName']),$[iIi1i(0x1ff,'p5Sk')]='',console[iIi1i(0x1b1,'UqRs')](iIi1i(0x114,'1^1r')+$[iIi1i(0x25f,']BQi')]+'】'+($[iIi1i(0x26d,'*[8r')]||$[iIi1i(0xd6,'1BL%')])+iIi1i(0x262,'eOTm')),await lill1l[iIi1i(0x17c,'^d^#')](iilii),IllIi1[iIi1i(0x1ad,'jJp)')]();if($[iIi1i(0x296,'FcsF')]||$[iIi1i(0xe4,'@5#r')])break;}iliIii&&lilIII['getMessage']()&&(lilIII['updateContent'](lilIII[iIi1i(0xf2,'!]%s')]+(iIi1i(0x136,'3!NC')+$[iIi1i(0x17f,'UqRs')])),await lilIII['push']());})()[IiiI(0x27f,'pVRh')](i1iil=>$['logErr'](i1iil))[IiiI(0x212,'JAm5')](()=>$[IiiI(0x139,'44Ou')]());async function iilii(){const l1iIll=IiiI,llI11l={'SxpdN':l1iIll(0x1cb,'rx#8'),'qbiFJ':l1iIll(0x247,'7)0m'),'llaVD':'activityId=','ToBDy':l1iIll(0x151,'eOTm'),'PGMrT':function(I1llIl,i1iii){return I1llIl===i1iii;},'pxVIS':l1iIll(0x215,'q7YT'),'QSyJH':function(I1llIi,IIii1I,llI11i){return I1llIi(IIii1I,llI11i);},'EZQIw':l1iIll(0x1de,'3!NC'),'aNUBX':l1iIll(0xd4,'ONa3'),'jAIZE':function(i1iIi1,l1l1il){return i1iIi1!==l1l1il;},'sASgT':'eWhTu','umnww':l1iIll(0x1af,'Bwsg'),'bfvFB':function(I11i1I,iliIi1){return I11i1I(iliIi1);},'JNVDu':l1iIll(0x1c0,'YUXw'),'kifcU':l1iIll(0x1d5,'pVRh'),'gQPQs':l1iIll(0x289,'wf9)'),'CaCsY':'getFollowActivity','qvGeO':l1iIll(0x22a,']BQi'),'CGMqf':l1iIll(0x117,'y$Jo'),'aMoJZ':function(l1l1ii,Il1i1I){return l1l1ii==Il1i1I;},'qarsf':function(Ii1iii,iIIilI){return Ii1iii!==iIIilI;},'VMxiC':l1iIll(0x143,'z(qE'),'soCgY':l1iIll(0x115,'^d^#'),'yJnJO':function(il1l1,Ii1iil){return il1l1+Ii1iil;},'qyjpa':function(Ilil1i,iili1){return Ilil1i<iili1;},'AughI':'mEowQ','LbeXz':function(II11ii,Iil1iI){return II11ii>Iil1iI;},'lsrrN':l1iIll(0x21c,'rx#8'),'kTyJd':'HlKTJ','VeKUt':function(II11il,iIIil1){return II11il>=iIIil1;},'qNawM':function(IlllII,I1il1I){return IlllII(I1il1I);},'zwvTW':'flowShop','dUlKR':function(II111,lI1l1I){return II111(lI1l1I);},'uFGPe':'IYAkI','WJNap':function(lill11,liI1i1){return lill11(liI1i1);}};try{if(llI11l[l1iIll(0x121,'eOTm')](llI11l[l1iIll(0x233,'jbuU')],l1iIll(0x18d,'@6Wu'))){let {couponQuota:I1llII,couponDiscount:Iil1il}=IiiIll?.['activity'];IIlii=l1iIll(0x172,'pVRh')+(I1llII?'满'+I1llII:llI11l[l1iIll(0x198,'zkaO')])+'减'+Iil1il;}else{$['skipRun']=![],$['sotpRun']=!![],$['retry']=![],activityCookie='';if($[l1iIll(0x1bc,'gc6a')]||$[l1iIll(0xe8,'q7YT')])return;$['jdToken']=await llI11l['QSyJH'](Ii1ilI,il1li,$[l1iIll(0x110,'^d^#')]);if(!$[l1iIll(0x25d,'3!NC')]){console['log'](llI11l['EZQIw']),$['message']['fix'](l1iIll(0x295,'rx#8'));return;}if($[l1iIll(0x1a6,'YUXw')][l1iIll(0x133,'gc6a')](llI11l[l1iIll(0xeb,'Z752')])||$[l1iIll(0x155,'44Ou')][l1iIll(0x284,'q7YT')](llI11l[l1iIll(0x15a,'jbuU')])){if(llI11l['jAIZE'](llI11l[l1iIll(0xf1,'m1(O')],llI11l[l1iIll(0x192,'$KxU')])){await llI11l[l1iIll(0xf8,'lh*$')](iilil,llI11l[l1iIll(0x137,'rx#8')]);if($[l1iIll(0xe9,'Z752')]||$[l1iIll(0x1d0,'jJp)')]||$[l1iIll(0x224,'zkaO')])return;await $[l1iIll(0x288,'7)0m')](0x3e8);}else IlI1ii=l1iIll(0x2b2,'jJp)')+lIIiii[l1iIll(0x16b,'#CJg')]+'积分';}else{if($['activityUrl'][l1iIll(0x234,'YUXw')](llI11l['kifcU'])||$[l1iIll(0x2ab,'7)0m')][l1iIll(0x140,'3!NC')](llI11l[l1iIll(0x278,'#TkC')])){await iilil(llI11l[l1iIll(0x177,'Gv@S')]);if($[l1iIll(0xe4,'@5#r')]||$['outFlag']||$[l1iIll(0x116,'p5Sk')])return;await $[l1iIll(0x14f,'Z752')](0x3e8);}else'SGyls'===l1iIll(0x1ce,'pVRh')?(console[l1iIll(0x229,'7D%i')](llI11l[l1iIll(0x149,'@6Wu')]),$[l1iIll(0xe9,'Z752')]=!![]):lliiil[l1iIll(0xff,'R31O')]('❓'+lliiii+'\x20'+IliI1i[l1iIll(0x15c,'*[8r')](ll1ii));}if($['index']===0x1){$[l1iIll(0x2a9,'7nby')]=$[l1iIll(0x148,'ZfkZ')]?.[l1iIll(0x10f,'wf9)')],$['title']=$[l1iIll(0x2a8,'zkaO')]?.['title'],$[l1iIll(0x1d7,'gc6a')]=$[l1iIll(0x2a8,'zkaO')]?.[l1iIll(0x205,'wf9)')],$['shopId']=$['getFollowActivity']?.[l1iIll(0xef,'44Ou')],$[l1iIll(0x27d,'@5#r')]=$['getFollowActivity']?.[l1iIll(0x21f,'$KxU')],$[l1iIll(0x17e,'wf9)')]=$[l1iIll(0xf5,']BQi')]?.[l1iIll(0x13b,'hD!H')];const I1llI1=$[l1iIll(0x186,'1^1r')](llI11l['CGMqf'],$['startTime']),I11i1l=$['time'](llI11l[l1iIll(0x113,'UqRs')],$[l1iIll(0x168,'AWD5')]);if(llI11l[l1iIll(0x239,'3!NC')]($[l1iIll(0x24f,'UqRs')]?.[l1iIll(0xfb,'rx#8')],0x1)){let {couponQuota:Il1i1i,couponDiscount:iIIili}=$[l1iIll(0x280,'Bwsg')];prize='[优惠券]'+(Il1i1i?'满'+Il1i1i:llI11l[l1iIll(0x21a,'Z752')])+'减'+iIIili;}else $['getFollowActivity']?.[l1iIll(0x19e,'0&I]')]==0x1&&(llI11l[l1iIll(0x232,'*QN%')](llI11l[l1iIll(0x297,'y$Jo')],llI11l['VMxiC'])?(ll1l1['retry']=!![],IllIIi[l1iIll(0x236,'dGh[')](''+IllIIl['msg'])):prize='[积分]'+$[l1iIll(0xdb,'AWD5')]?.[l1iIll(0xf4,'z(qE')]+l1iIll(0x1ae,'0&I]'));console[l1iIll(0x1a1,'eOTm')](($['shopName']&&l1iIll(0x1eb,'1^1r')+$[l1iIll(0x122,'*[8r')]+'['+($[l1iIll(0x13d,'44Ou')]||llI11l[l1iIll(0xfa,'Bwsg')])+']')+l1iIll(0x15e,'R31O')+$[l1iIll(0x245,']BQi')]+'\x0a开始时间：'+I1llI1+'\x0a结束时间：'+I11i1l+l1iIll(0x1a8,'(dM3')+prize+'\x0a'),lilIII[l1iIll(0xe7,'Z752')](llI11l['yJnJO'](lilIII[l1iIll(0x1d8,'*QN%')],($['shopName']&&l1iIll(0x1f6,'nZgB')+$['shopName'])+l1iIll(0x1f3,'jbuU')+I1llI1+l1iIll(0x1fe,'#CJg')+I11i1l+l1iIll(0xe0,'rx#8')+prize+'\x0a'));const il1il=Date[l1iIll(0x22b,'7)0m')]();if($[l1iIll(0x1df,'dGh[')]&&llI11l[l1iIll(0x240,'7nby')](il1il,$[l1iIll(0x184,'p5Sk')])){if(llI11l[l1iIll(0x1a0,'Z752')]===l1iIll(0x1d3,'ONa3')){i1ili1[l1iIll(0x1b2,'fFe5')](llI11l[l1iIll(0x1f0,'AWD5')]);return;}else{console['log'](l1iIll(0x107,'Bwsg')+I1llI1+'\x20开始，晚点再来吧~'),$[l1iIll(0x1ed,'7)0m')][l1iIll(0x15f,'jbuU')](l1iIll(0x261,'!]%s')+I1llI1),$[l1iIll(0x220,'!]%s')]=!![];return;}}if($['endTime']&&llI11l[l1iIll(0x10d,'1BL%')](il1il,$['endTime'])){if('ZvgBI'===llI11l[l1iIll(0x1f9,'p5Sk')]){console['log']('活动已于\x20'+I11i1l+l1iIll(0x1e5,'Z752')),$[l1iIll(0x2b0,'eOTm')][l1iIll(0x225,'fFe5')](l1iIll(0x268,'wf9)')+I11i1l),$[l1iIll(0x238,'hD!H')]=!![];return;}else{i1IIl[l1iIll(0x236,'dGh[')](l1iIll(0x2ac,'ZfkZ')+I1lll1+l1iIll(0xfc,'rx#8')),i1IIi[l1iIll(0x1ba,'*QN%')][l1iIll(0x11f,'ZfkZ')](l1iIll(0xea,'rx#8')+IIII1I),Iii111[l1iIll(0x23a,'^d^#')]=!![];return;}}if($['runEnd']||$[l1iIll(0x24b,'gc6a')]||$['skipRun'])return;}await $[l1iIll(0x24d,']BQi')](0x3e8);if($[l1iIll(0x29a,'ZfkZ')]['includes']('contactWare')||$['activityUrl'][l1iIll(0x2aa,'lh*$')](llI11l['aNUBX'])){let II11iI=Math[l1iIll(0x1b0,'x44Y')]($[l1iIll(0x24f,'UqRs')]?.[l1iIll(0x22d,'gc6a')],$[l1iIll(0x1ab,'rx#8')]?.[l1iIll(0x185,'*QN%')]),Il1i1l=$[l1iIll(0x2a6,'JAm5')]?.[l1iIll(0x1e9,'YUXw')]?.['filter'](Iil1ii=>Iil1ii[l1iIll(0x20f,'R31O')]==l1iIll(0xde,'x44Y'))?.['length']||0x0;console['log'](l1iIll(0x123,'^d^#')+Il1i1l+'/'+II11iI);for(let lill1I of($[l1iIll(0x120,'@5#r')]?.['wareList']||[])?.[l1iIll(0x183,'(dM3')](Ii1ii1=>Ii1ii1[l1iIll(0x1c9,'lh*$')]==l1iIll(0x26f,'eOTm'))){if(l1iIll(0x29d,'1^1r')!==llI11l[l1iIll(0x12e,'jbuU')])IlI1iI=l1iIll(0x18f,'#CJg')+Iillil[l1iIll(0x1ef,'Bwsg')]+'积分';else{if(llI11l[l1iIll(0x10e,'7nby')](Il1i1l,II11iI)||!$[l1iIll(0x12c,'ZfkZ')])break;$[l1iIll(0x23f,'0&I]')]=lill1I[l1iIll(0x23d,'*QN%')],await llI11l[l1iIll(0x182,']BQi')](iilil,l1iIll(0x242,'Bwsg')),await $[l1iIll(0x156,'(dM3')](0x3e8),$[l1iIll(0x211,'eOTm')]&&(llI11l['PGMrT'](l1iIll(0x25e,'@5#r'),'DNVOI')?Iil1I1['log'](l1iIll(0x1ac,'fFe5')):(await iilil(llI11l[l1iIll(0x2a7,'p5Sk')]),await $[l1iIll(0x12d,'1^1r')](0x3e8),await llI11l[l1iIll(0x147,'fFe5')](iilil,llI11l[l1iIll(0x226,'0&I]')]),await $[l1iIll(0x16f,'nZgB')](0x3e8),$[l1iIll(0x157,'zkaO')]=![])),Il1i1l++;}}}else{if($['activityUrl'][l1iIll(0x1e8,'jJp)')](llI11l[l1iIll(0x241,'lh*$')])||$[l1iIll(0x20e,'nZgB')][l1iIll(0x22c,'7D%i')](llI11l[l1iIll(0x1aa,'1BL%')])){if(llI11l[l1iIll(0x150,'(dM3')](llI11l['uFGPe'],l1iIll(0xdc,'q7YT'))){if(iIIIIi[l1iIll(0x20d,'fFe5')][l1iIll(0x254,'*QN%')](llI11l[l1iIll(0x1d6,'fFe5')]))IiilII[l1iIll(0x257,'lh*$')]=IliI1I[l1iIll(0x1c5,'zkaO')]['match'](/activityId=(.+d?)/)[0x1]['split']('_')[0x0];else i1ii[l1iIll(0x174,'ONa3')]['includes'](llI11l[l1iIll(0x178,'3!NC')])?lI1Iii[l1iIll(0x196,'x44Y')]=i1li[l1iIll(0x167,'R31O')][l1iIll(0x1c8,'nZgB')](/contactWare\/(.+d?)/)[0x1]:li1II['activityId']=IliI11[l1iIll(0x109,'hD!H')][l1iIll(0x267,'*QN%')](/contact\/(.+d?)/)[0x1];}else $['isContact']?console[l1iIll(0x1a1,'eOTm')](l1iIll(0x190,'*QN%')):(await llI11l[l1iIll(0x1c2,'(dM3')](iilil,llI11l[l1iIll(0x166,'7nby')]),await $[l1iIll(0x275,'p5Sk')](0x3e8));}}}}catch(llI111){console['log'](l1iIll(0x1fa,'(dM3')+llI111);}}async function Ill11i(i1iIiI,IlllI1){const l1iIli=IiiI,I1il11={'jBwrl':function(lI1l11,II11l){return lI1l11+II11l;},'iDNCY':l1iIli(0x125,'Z752'),'hVtue':function(II11i,iI1Iii){return II11i(iI1Iii);},'JzhNK':function(liI1ii,lIIiIl){return liI1ii==lIIiIl;},'rOuMQ':function(iI1Iil,il1iI){return iI1Iil===il1iI;},'WAJFJ':function(i1iIii,i1iIil){return i1iIii==i1iIil;},'cIpEP':function(liI1il,llIlIi){return liI1il===llIlIi;},'yCLzB':l1iIli(0x10a,'FcsF'),'JfOIe':l1iIli(0x1c1,'zkaO'),'BpDLO':function(llIlIl,II11I){return llIlIl==II11I;},'EYLzR':function(il1i1,lIIiIi){return il1i1===lIIiIi;},'JHoHd':'XxHme','HWyIs':function(liI1iI,iI1Il1){return liI1iI==iI1Il1;}};try{switch(i1iIiI){case'getFollowActivity':if(IlllI1&&I1il11[l1iIli(0x269,'#CJg')](IlllI1[l1iIli(0x1ec,'@6Wu')],0x1)){if(I1il11['rOuMQ'](l1iIli(0x26a,'7D%i'),l1iIli(0x255,'Z752'))){let {couponQuota:i1lli1,couponDiscount:llIlII}=ilI1li?.['activity'];IIliI=l1iIli(0x246,'1BL%')+(i1lli1?I1il11['jBwrl']('满',i1lli1):I1il11[l1iIli(0x1fb,'UqRs')])+'减'+llIlII;}else $[l1iIli(0x206,'*QN%')]=IlllI1[l1iIli(0x141,'eOTm')],$[l1iIli(0x146,'7)0m')]=IlllI1[l1iIli(0x23e,'#TkC')];}else console['log']('❓'+i1iIiI+'\x20'+JSON['stringify'](IlllI1));break;case l1iIli(0x263,'lh*$'):IlllI1&&I1il11['JzhNK'](IlllI1['status'],0x1)?($[l1iIli(0x127,'AWD5')]=IlllI1,$[l1iIli(0x129,'nZgB')]=IlllI1[l1iIli(0x2b3,'7D%i')]):console[l1iIli(0x130,'hD!H')]('❓'+i1iIiI+'\x20'+JSON[l1iIli(0x13e,'x44Y')](IlllI1));break;case'flowShop':if(IlllI1&&I1il11['WAJFJ'](IlllI1['status'],0x1)){}else console['log']('❓'+i1iIiI+'\x20'+JSON[l1iIli(0x145,'ONa3')](IlllI1));break;case l1iIli(0x24a,'7nby'):if(IlllI1&&IlllI1[l1iIli(0x210,'#CJg')]==0x1){if(I1il11[l1iIli(0xe5,'zkaO')](l1iIli(0x223,'gc6a'),l1iIli(0x193,'0&I]')))iIII1I['message'][l1iIli(0x2a2,'lh*$')](ilil1i);else{let lIIiII='空气';if(IlllI1?.[l1iIli(0x230,'(dM3')]){let {couponQuota:i1iIlI,couponDiscount:li111}=IlllI1?.[l1iIli(0x1db,'fFe5')];lIIiII=l1iIli(0x1a4,'@6Wu')+(i1iIlI?I1il11[l1iIli(0x276,'Gv@S')]('满',i1iIlI):I1il11['iDNCY'])+'减'+li111;}else IlllI1?.['sendPoints']&&(lIIiII=l1iIli(0x200,'$KxU')+IlllI1[l1iIli(0xdf,'1^1r')]+'积分');console[l1iIli(0xff,'R31O')](''+lIIiII);}}else I1il11[l1iIli(0x26c,'dGh[')]===l1iIli(0x189,'*QN%')?console[l1iIli(0x228,'rx#8')]('❓'+i1iIiI+'\x20'+JSON[l1iIli(0x112,'Gv@S')](IlllI1)):II1li1[l1iIli(0x1c3,'Z752')]('❓'+l1lIlI+'\x20'+IiiIl1[l1iIli(0xf3,'p5Sk')](lIIil1));break;case I1il11['JfOIe']:if(IlllI1&&I1il11[l1iIli(0x1a9,'#TkC')](IlllI1[l1iIli(0x1e0,'7)0m')],0x1)){if(I1il11[l1iIli(0x264,'ZfkZ')]('HISCq',l1iIli(0xda,'iD9n')))ii1lI=I1ilIl+l1iIli(0x100,'(dM3');else{let ll1I1='';if(IlllI1?.[l1iIli(0x294,'x44Y')]){let {couponQuota:Ii1ili,couponDiscount:iI1Ii1}=IlllI1?.['activity'];ll1I1='🎉\x20'+(Ii1ili?I1il11[l1iIli(0x1dd,'pVRh')]('满',Ii1ili):l1iIli(0x19d,'#CJg'))+'减'+iI1Ii1;}else IlllI1?.[l1iIli(0xdf,'1^1r')]&&(ll1I1=l1iIli(0x246,'1BL%')+IlllI1['sendPoints']+'积分');ll1I1?($[l1iIli(0xee,'p5Sk')]=![],console['log'](''+ll1I1)):I1il11['EYLzR'](l1iIli(0x1c6,'zkaO'),I1il11[l1iIli(0x19b,'@6Wu')])?console[l1iIli(0x249,'44Ou')](l1iIli(0x187,'p5Sk')+$['skuId']+']成功'):I1il11['hVtue'](IiI1I,{'err':illlIl,'res':i11ill,'data':IIIIIi});}}else I1il11[l1iIli(0x29c,'wf9)')](IlllI1[l1iIli(0x180,'44Ou')],-0x3)?($['retry']=!![],console[l1iIli(0x253,'^d^#')](''+IlllI1[l1iIli(0x1b5,'q7YT')])):console[l1iIli(0x1bf,'#TkC')]('❓'+i1iIiI+'\x20'+JSON['stringify'](IlllI1));break;}}catch(llIlI1){console[l1iIli(0x26b,'0&I]')](l1iIli(0x29e,'gc6a')+i1iIiI+'\x20请求响应\x20'+(llIlI1[l1iIli(0x102,'(dM3')]||llIlI1));}}async function iilil(iI1IiI){const iIi1l=IiiI,IIlI1={'POYYN':function(lliiIl,li11i){return lliiIl+li11i;},'NvbdP':'无门槛','dXgzh':iIi1l(0x12f,'AWD5'),'PuWnv':function(lliiIi,iiIi1I){return lliiIi||iiIi1I;},'BemFA':iIi1l(0x1a2,'y$Jo'),'vyXhr':iIi1l(0x191,'#TkC'),'WCmFf':iIi1l(0x1b3,'Bwsg'),'IRkLd':iIi1l(0x221,'nZgB'),'nGsdq':iIi1l(0x248,'!]%s'),'devrl':'application/json,\x20text/plain,\x20*/*','mGaBd':iIi1l(0x27c,'#CJg'),'BQGMy':'keep-alive','ELezl':'application/x-www-form-urlencoded;\x20charset=UTF-8','OjUGh':function(IllIl1,ll1Ii){return IllIl1===ll1Ii;},'gBTJS':function(ll1Il,iiIi11){return ll1Il!==iiIi11;},'RyYsO':iIi1l(0x1c4,'!]%s'),'CSBuJ':iIi1l(0x293,'@6Wu'),'FkXTm':function(ill1II,i1llil){return ill1II<i1llil;},'nmZkl':iIi1l(0x2a5,'7nby'),'WXNFo':iIi1l(0x204,'$KxU'),'MRlvJ':iIi1l(0x1b6,'(dM3'),'VnoVC':iIi1l(0x281,'@5#r'),'pLZXU':'WkGZt','CmHFE':function(i1llii,l1i1I1){return i1llii!==l1i1I1;},'gAweH':iIi1l(0x14b,'1BL%'),'ZUEDu':iIi1l(0x101,'#CJg'),'moOkg':function(llIIil,llIIii){return llIIil===llIIii;},'LmJsX':iIi1l(0x18e,'UqRs'),'jzMDe':'2|0|4|3|5|1','rTeeJ':function(Ii1I1i,llIIlI){return Ii1I1i||llIIlI;},'OSAwm':function(Ii1I1l,IIlIl,ili11l){return Ii1I1l(IIlIl,ili11l);},'OHLto':function(Iiilll,Iiilli){return Iiilll===Iiilli;},'iDOUP':iIi1l(0x161,'x44Y'),'DiAyN':function(IIlIi,ili11i){return IIlIi(ili11i);},'pyjYL':iIi1l(0x111,'44Ou'),'zWpgj':'FcmQX'};if($[iIi1l(0x18b,']BQi')]||$['outFlag'])return;let i1iIli=$['baseUrl'],i1iIll={},i1lliI=IIlI1[iIi1l(0x1c7,'y$Jo')];switch(iI1IiI){case iIi1l(0xe6,'@5#r'):i1iIli+=iIi1l(0x171,'ZfkZ')+$[iIi1l(0x160,'1^1r')],i1iIll={'activityId':$[iIi1l(0x217,']BQi')],'token':$[iIi1l(0x207,'Z752')],'source':'01'};break;case'getFollowWareActivity':i1iIli+=iIi1l(0x22e,'ZfkZ')+$[iIi1l(0x282,'#TkC')],i1iIll={'activityId':$[iIi1l(0x162,'gc6a')],'token':$[iIi1l(0x1cd,'#TkC')],'source':'01'};break;case IIlI1['WCmFf']:i1iIli+=iIi1l(0x11e,'z(qE')+$[iIi1l(0x258,'7nby')],i1iIll={'activityId':$[iIi1l(0x1b7,'$KxU')],'token':$[iIi1l(0x17b,'p5Sk')],'source':'01'};break;case IIlI1['IRkLd']:i1iIli+='/wuxian/user/contactWare/'+$['activityId']+'/'+$[iIi1l(0x1ca,'@6Wu')],i1iIll={'activityId':$['activityId'],'skuId':$[iIi1l(0x1ee,'q7YT')],'token':$[iIi1l(0x250,'zkaO')],'source':'01'};break;case IIlI1['nGsdq']:i1iIli+=iIi1l(0x274,'dGh[')+$[iIi1l(0x21b,'dGh[')]+'/'+$['venderId'],i1iIll={'shopId':$[iIi1l(0x124,'0&I]')],'venderId':$[iIi1l(0x105,'7nby')],'token':$[iIi1l(0x28f,'1BL%')],'source':'01'};break;default:console[iIi1l(0x13f,'YUXw')]('❌\x20未知请求\x20'+iI1IiI);return;}const liI1l1={'url':i1iIli,'headers':{'Accept':IIlI1[iIi1l(0x24c,'1^1r')],'Accept-Encoding':IIlI1['mGaBd'],'Accept-Language':iIi1l(0x10b,'rx#8'),'Connection':IIlI1[iIi1l(0x20c,'nZgB')],'Content-Type':IIlI1[iIi1l(0x14e,'7)0m')],'Cookie':lill1i,'Host':$['hostname'],'Origin':$[iIi1l(0x2a3,'Z752')],'Referer':$[iIi1l(0x181,'gc6a')],'User-Agent':$['UA']},'body':JSON[iIi1l(0x286,'wf9)')](i1iIll),'timeout':0x7530};if(IIlI1[iIi1l(0xed,'3!NC')](i1lliI,iIi1l(0x11d,'Z752'))){if(IIlI1['gBTJS'](IIlI1['RyYsO'],IIlI1['RyYsO'])){let li11I='空气';if(l1lIil?.[iIi1l(0x272,'nZgB')]){let {couponQuota:lliiII,couponDiscount:iiIi1i}=I1i11l?.[iIi1l(0x256,'ONa3')];li11I=iIi1l(0x164,'x44Y')+(lliiII?IIlI1[iIi1l(0x173,'Bwsg')]('满',lliiII):IIlI1[iIi1l(0xf7,'UqRs')])+'减'+iiIi1i;}else iillli?.['sendPoints']&&(li11I=iIi1l(0x1fd,'Gv@S')+llIlii['sendPoints']+'积分');I1i11i[iIi1l(0x279,'ZfkZ')](''+li11I);}else delete liI1l1['body'],delete liI1l1[iIi1l(0x1cc,'$KxU')][IIlI1['CSBuJ']];}const IllIlI=0x5;let IiillI=0x0,ili11I=null,li11l=![];while(IIlI1['FkXTm'](IiillI,IllIlI)){if(IIlI1[iIi1l(0x1f8,'R31O')]!==iIi1l(0x259,'7D%i')){IiillI>0x0&&await $[iIi1l(0x24d,']BQi')](0x3e8);const {err:liI1ll,res:ll1II,data:IllIii}=await Ill11l(liI1l1,i1lliI);if(liI1ll){if(IIlI1[iIi1l(0x227,'fFe5')]===IIlI1[iIi1l(0x26e,'Bwsg')]){if(typeof liI1ll===IIlI1['MRlvJ']&&liI1ll['includes'](IIlI1[iIi1l(0x1e3,'wf9)')]))ili11I=iI1IiI+'\x20请求超时，请检查网络重试';else{const liI1li=ll1II?.[iIi1l(0x25a,'iD9n')];if(liI1li){if(IIlI1[iIi1l(0x28e,'rx#8')](IIlI1[iIi1l(0x287,'^d^#')],IIlI1[iIi1l(0x1e2,'!]%s')])){if([0x193,0x1ed][iIi1l(0x1bd,'R31O')](liI1li))ili11I=iI1IiI+iIi1l(0x134,'3!NC')+liI1li+'）',li11l=!![];else[0x190,0x194]['includes'](liI1li)?ili11I=iI1IiI+iIi1l(0x16d,'R31O')+liI1li+'）':IIlI1['CmHFE'](IIlI1[iIi1l(0x13a,'eOTm')],IIlI1['gAweH'])?(IillIi[iIi1l(0x13c,'@6Wu')](IIlI1[iIi1l(0x142,'#TkC')]),lii[iIi1l(0x249,'44Ou')]('🔧\x20'+IllI1i+iIi1l(0x199,'*[8r')+(i11I1l||'无')+'\x0a'),lil['log']('🔧\x20'+IllI1l+'\x20响应Cookie\x20=>\x20'+IIlI1[iIi1l(0x237,'gc6a')](i11I1i,'无')+'\x0a'),IillIl[iIi1l(0x159,'$KxU')](iIi1l(0x244,'jJp)')+llliil+iIi1l(0x1f2,'Bwsg')),liIl1[iIi1l(0x1b2,'fFe5')](II1lll),II1lli[iIi1l(0x1b4,'7nby')]('\x0a---------------------------------------------------\x0a')):ili11I=iI1IiI+'\x20请求失败（Response\x20code\x20'+liI1li+'）';}else I1iIi1[iIi1l(0x266,'y$Jo')](iIi1l(0x1d4,'$KxU')+lliil1['skuId']+iIi1l(0xe1,'eOTm'));}else IIlI1[iIi1l(0x1b8,'$KxU')]('OrqZw',IIlI1[iIi1l(0xfd,'*QN%')])?ili11I=iI1IiI+'\x20请求失败\x20=>\x20'+(liI1ll[iIi1l(0x28a,'@6Wu')]||liI1ll):(iIli1l[iIi1l(0x12b,'fFe5')]=!![],i1i1II[iIi1l(0x2b0,'eOTm')]&&IlIllI[iIi1l(0x165,'y$Jo')][iIi1l(0x21d,'ONa3')](il1i1I));}IiillI++;}else iIIl11[iIi1l(0x277,'Gv@S')]=l1l1I1,I1iIll[iIi1l(0x194,'z(qE')]=I1lliI['activity'];}else{if(IIlI1[iIi1l(0x28b,'wf9)')]('eWawC',IIlI1[iIi1l(0xd7,'Bwsg')])){const Ii1I1I=IIlI1['BemFA'];return{'err':Ii1I1I,'res':null,'data':null};}else{const l1i1Ii=IllIi1[iIi1l(0x1f4,'7)0m')](ll1II),l1iI1=![];if(l1iI1){const lliiI1=IIlI1['jzMDe'][iIi1l(0x126,'hD!H')]('|');let IiiI1=0x0;while(!![]){switch(lliiI1[IiiI1++]){case'0':console['log'](iIi1l(0x260,'jbuU')+iI1IiI+iIi1l(0x12a,'wf9)')+IIlI1[iIi1l(0x1be,'Z752')](IllIii,'无')+'\x0a');continue;case'1':console[iIi1l(0x253,'^d^#')](IIlI1[iIi1l(0x20b,'p5Sk')]);continue;case'2':console[iIi1l(0x1d1,'lh*$')](IIlI1[iIi1l(0x273,'fFe5')]);continue;case'3':console['log'](iIi1l(0x27e,'JAm5')+iI1IiI+iIi1l(0xd5,'iD9n'));continue;case'4':console[iIi1l(0x2af,'*QN%')](iIi1l(0x1d2,'#TkC')+iI1IiI+iIi1l(0x283,'7)0m')+(l1i1Ii||'无')+'\x0a');continue;case'5':console[iIi1l(0x152,'3!NC')](liI1l1);continue;}break;}}if(IllIii)try{const lilII=JSON['parse'](IllIii);IIlI1[iIi1l(0x201,'jbuU')](Ill11i,iI1IiI,lilII);break;}catch(IIIiI){IIlI1['OHLto'](IIlI1['iDOUP'],IIlI1[iIi1l(0x15d,'R31O')])?(ili11I='❌\x20'+iI1IiI+'\x20接口响应数据解析失败:\x20'+IIIiI['message'],console[iIi1l(0x158,'FcsF')]('🚫\x20'+iI1IiI+iIi1l(0x119,'FcsF')+IIlI1['DiAyN'](String,IllIii)),IiillI++):llIli1='[积分]'+iliIII['getFollowActivity']?.[iIi1l(0x163,'7)0m')]+iIi1l(0x1e6,'iD9n');}else IIlI1[iIi1l(0x213,'ZfkZ')]===iIi1l(0x243,'7)0m')?ll1il['log']('❌\x20未能正确处理\x20'+IiiIiI+iIi1l(0x188,'dGh[')+(lilii[iIi1l(0x165,'y$Jo')]||l1iiI)):(ili11I='❌\x20'+iI1IiI+iIi1l(0x132,'(dM3'),IiillI++);li11l=![];}}}else IiiIlI[iIi1l(0x229,'7D%i')]('❓'+Iilli1+'\x20'+I1l1Il['stringify'](llIll1));}IiillI>=IllIlI&&(iIi1l(0x28d,'@5#r')===IIlI1['zWpgj']?(console[iIi1l(0x219,'z(qE')](ili11I),li11l&&($[iIi1l(0x251,'zkaO')]=!![],$[iIi1l(0xf0,'nZgB')]&&$[iIi1l(0x16a,'#CJg')][iIi1l(0x285,'p5Sk')](ili11I))):(i1illi[iIi1l(0x209,'3!NC')]=i1illl[iIi1l(0x1d9,'lh*$')],I1llil[iIi1l(0x1dc,'3!NC')]=I1llii[iIi1l(0x23c,'rx#8')]));}async function Ill11l(iI1IlI,l1i1Il=IiiI(0x169,'$KxU')){const i1lIlI=IiiI,ill1I1={'tRVvL':i1lIlI(0x29f,'44Ou'),'SqJKl':function(l1i1II,ili111){return l1i1II===ili111;},'SEGlW':i1lIlI(0x1da,'R31O'),'xqCrO':function(Ii1I11,IllIli){return Ii1I11!==IllIli;},'lWwhm':i1lIlI(0xfe,'Z752'),'NmTBc':i1lIlI(0x28c,'R31O')};if(l1i1Il===i1lIlI(0x1e4,'7D%i'))return new Promise(async ii1Ii=>{const l1lliI=i1lIlI,ii1Il={'oWbnj':function(l1iII,iI1Ill){return l1iII(iI1Ill);}};$[l1lliI(0x14d,'44Ou')](iI1IlI,(lilI1,IIIi1,i1llli)=>{ii1Il['oWbnj'](ii1Ii,{'err':lilI1,'res':IIIi1,'data':i1llli});});});else{if(ill1I1[i1lIlI(0xe3,'$KxU')](l1i1Il,ill1I1[i1lIlI(0x104,'lh*$')])){if('vKxaG'===i1lIlI(0x179,'fFe5')){const iI1Ili={'SICNL':function(llIIiI,iI1111){return llIIiI(iI1111);}};return new iIII11(async IIIl1=>{const I1I1iI=i1lIlI,ii1ii={'uDVlv':function(Iii1,I1I1lI){return iI1Ili['SICNL'](Iii1,I1I1lI);}};lil11l[I1I1iI(0x118,'YUXw')](i1i1Il,(ii1il,l1iIlI,iI111I)=>{const IIIlII=I1I1iI;ii1ii[IIIlII(0x24e,'fFe5')](IIIl1,{'err':ii1il,'res':l1iIlI,'data':iI111I});});});}else return new Promise(async IIIlI1=>{const iiIiI1=i1lIlI;$[iiIiI1(0x11a,'3!NC')](iI1IlI,(i1lIiI,IiiIl,ii1l1l)=>{IIIlI1({'err':i1lIiI,'res':IiiIl,'data':ii1l1l});});});}else{if(ill1I1['xqCrO'](i1lIlI(0x135,'*[8r'),ill1I1['lWwhm']))delete lliiiI['body'],delete lilil[i1lIlI(0x231,'rx#8')][ill1I1[i1lIlI(0x208,'ZfkZ')]];else{const IiiIi=ill1I1['NmTBc'];return{'err':IiiIi,'res':null,'data':null};}}}}function Iii11l(){const ili1Il=(function(){return[...[iｉl,'IJujUPsjUiBaQMmgNixC.rLcqNoRmM.LvXhQ7IqG==','cN5zEG','i8kbyHxdPG','xSo0WRpdVSkjWPddGmofWOTGCGHnWQLFAau','W6NdGSoomCkieSkR','W6ZdK8oUgmkpfSkI','pwKlBa','WPWjW7q','WRNcTwz/W73dPYJdKa','W4zUWRFcUva','W4RdNmoQW5FdS8klou4','vCkWWRldG8o6W7pcVfddISoi','W7pcMZLnWQBcGmoAe8okW7e','W6hcUmk4WQag','WRpcOq8rWP7cNNefaKC','ySkeecdcSYhdRa','WO7dNSoKW4zDqmk+WPxdR8kJWRFdLmoo','fSocwCkMWQxcVSkW','rmkGftNcHq','fhfuA8os','8lY2GSk+','5REl5yQ05Bku5P6y5B2q5AAM776Q5B6s5AsB5PEk6zAU77Yh','W6hcHSolW44ntCk1','u8k2WRldRmoJW7BcPeBdTmo7zvn1WO4bgguJd8kzmG','W7y6CSomW6C','W4DEWQbytt5PW7ldKqFdLWi','BfxdPa','WR3cUNfWW6a','5RsA5yMR5Bsz57QL5P22776f57QX5P6h5Pw66zAq77Y4','W6C2WRDQoW','W5pcQSkIWRaa','W5RcOZq','W4pdIsdcSK4','ESobWP/dJ8k9WQ/dSv0','zLZcUh1Q','WQ3dJCknWPDc','W741WQVdJ3T8WOZcHmkucxNdSCoY','fLKGr1K','WQNdGCk8gmoWz8o8eSoGiW','mSkDuWpdUa','WPxdVrNcSgxdTmkZjtnipbTtAmo4q8orshtcJY0V','WQNcMW4k','gCkfiSo1WPu','fmkIiCobWPyPCSogs8oVWRZcQaJcGvJdTmoGWRPtWP8p','oGVdUcBdQG','W6GAya','W6VdI8oO','uSoNW5FdQ2W','W4O2WRzuxgRcJJJdImkPWQlcVh/dRSovjse','FmkvaIhcPHldOmkxsq','8kswOSo2','W5RdHhJdOmo7','vMhcGN1QWRmEWQiig3ZdReVdHCoqWRD3','w8kidJBcVtpdVCoAtCkzW7/cICoJac7cUCk2g8oZW7uMcmo+mhH1','pdNdNb7dR8odEmkCWO7dLa','W6lLKi7LUAVcSCowWPlcRSo0tSkbw8oNca','w8kCqCkLW5jLW4Gk','WRJcKX8','uSk3WPKFr8oUc8k+W7u','WOaQW4K1la','WRxcOSkwWOy','r8kSWOCArSo+jCkXW6Oq','W6SyWQZcVComuI8','tmkSWQqDtG','5lI+5PAX5O6E55I86k+P5Rc95PER5RkZ','sCkcdGlcIG','qZldQmkzWOm','W5zvWPtcUsD4cG','ymoWbKZcOexdICobW5LFnW','WOZcUv3dUJNcP8oTFZfPhIe2','WQZdICkpWRfM','W4usWRhcUSoiwZ7cPSotaqOm','W7ZcO8kuW7D0ia1WWRZcKa','6i675y6oW6BcISkeWRBcQCo+rUwLIoI0UW','WRbewmopw8kpCq','vNFdU8kJW4G','W4m8Bai','ySoxW7RdK18','W6uwC8oOW4ajW7FdNr0kca','W5NcJSkHWP0Eg8o6WPNdJCkdWPW','ACkuWPi/wG','eXNcVCoAW7i','4PYFkoADJoIdToATSoEJTowML+ErV8oT','W7qHDXpdTCoXuI8VW4ddS2q','u8k2WQJdV8o5W7pcRa','WOxcKmo0W5RdHSkniLZcP8or','uSk6WR4','W756WQhcUMaoW6O','W5q8FaBdPmo6','W5ZcVYHsWOy','c8oGWQldS0NcSePqi1lcT0G4z8osW5fsWRTGWR/cPq','WQtcJreQCa','W6tdG8oUgmkmg8kPAM3dT8kyWP9GyCooC8or','W6hcKcjuWP7cImoddW','xCk9WQxdHSo5W77cRvO','WQpcOmklWPVdJ8kuWRhdPh7dKWO','5RA/5yUD5BE15lIpWPy','yvNdT8kJW73dPMpcNb/dNq','wSkdwwJdJXq','WRZcTgi','WQBdICksWPDgamoA','W6BcKxDuW5/dGd4','8y6UI8k7','W5NcJSkHWP0Eg8o6WPK','W43dKmoYW5ldQSkvhuxcOq','W6dORklMSkZLJQFMLPS','W6LcWQxcPaj8cvu','FwNcVeHD','d1rMs8oD','WPGjW6azf2zOW5a','WQ/cHrSCWOK','lapcQh1CpSkjW5StlXWHydtdImkCWOK','E8kRy8kIW64','W51sWRtcVZP0eeNdQYvb','W7VcTmkpW7y','kbdcMmoQW6HbW6n6W4VdUq','bUobIoA2HUwjTUwMVEwqNoodNq','WPBMIRZLIB4','W5JdHNJdQSoLW4W2W4pcTmoTWPe','bSkZC8kEWQm','FCkudrBcVci','W6ddR8oQg8kZ','AmkefXxcVsRdPCkvw8kVW73cLmo+hYNcQSoV','W6LRWRBcVKezW4v4WQyQWQ3dNKW','xCkhvSkpW4TGW4O','W65UWRZcMLSy','5Rs35yUW5Bwp57In5P6077+r57IF5P+p5PET6zAn77Ye','W4H0WPdcM0W','5Rsh5yMc5ywq5y+/776W','m8omwmkoWQy','WQ3cLrmoDuKR','W4qMDHFdMCo7','WRFdGCkHd8osB8oS','WRJcN8oFtmo3','WPnZW6ddHJudW5i','WQ3cJHuxsvSSC8o/','tmkfxhldNIH9CW','gNPesmofWRpdHH1ACXNcQZhdO8ksW59l','44gJ5OYx56wV44kw6kYo5ysn6i6P5y2/F8oxWRlcSqtcPq','D8oNWQxdNmk2','vSk1WRddRmoo','W5pdGvpdPmoPW5yUW6xcGSoWWPnZW61qqCoMWQBcM2ZdM1KE','qMVcTvXC','AZ3dICkDWOtcQmk8W791','loE6I+AFOU+/KUs7OoAVVoAuPEEaQEADVUwrNMa','WORcJKbxW70','W599WOFcMv8','x8oXW7G','W5VOR4pMS4FOTPpMLRlVV7VORipMOABMNl/NVQtNUklPHA/ORP0','W4qcWO9NmW','WPzrW7zLjCkqWPe','bSoHWONdKLZcR0PGn2RcUe48rCofW7PoWR9LW6VdS8kQWRFMTiZLIlBPK4NMJ6K','z8kwWOhdHSoB','W6tcNsnaWRxcM8oNdG','eSkHuSksWPC','5Rsk5yQS5BoW5zYtjq','WRZdLZHqWRNcHCoDrCorW7b1p8o5EtNdM3C4gSkujraBEaTpWRy','W5K4W7vkrXxdOSkZW6ZcGrK','WPvWsCoTDa','DJdcKmkDWQxdSCk2W7GGccm+aKNdKGrpW7BdPe5/WRGdn8o/emkQWP7cMSo+Bmots08sWRaqW5iQWRZdRtBcV8kxW40tcW'],...(function(){return[...['5O+J56AK57Mm5P+Ni0jVwY4FfSkjsCkw','W7btWQxcJJy','W4tcNqzXWQq','uSkRWOqgz8oOd8k9','WPihW6ailhvP','W48RBZpdSq','amkZj8oUWPCID8oprq','ESowWORdICka','uv/dNmkKWPieWQdLVjtLPBtJGPRKURtKUAlOTktLJkm','5yAd5Rko5P6A56wr','WQ3cKq4oDuKR','EupdUSkZWQBdGLRdIdldNvD3A8k1rfK','D8omW5ddTa','W78meSkP','g8odEq','4PURrUISQ+wfS+wUQEs4M+w8OoIKTEEBOoEpGEwJVowoJEMhHUwrJoweRoI8UoIIVoIhSEACRG','WQDHW6/cLZ8LW4JcH8k6gG','W5TEWOy','e8kDqgtdGWDMmCoeW7FcISolWRLTdIOfy8k/W7b2','W6iCFW','AmkefXxcVsRdPCkvw8k5W7/cKSoYkcpcQSo/sSoOW6qU','WPVdQ8kSWPzZ','z8oaWPpdLmk9WQ/dSv0','5Bsc5ysv5Rg7','W4xcPdWkpv0','5Pw86zEZ5Qsj','W4SRW61krq','lapcQh1CpSkjW5Stor4NBapdGSkCWPNcNwVcTeO','W7JcRWy/WP/cGMi','WR3dGCkMoSoCzmoLdCo4dmoGjtiEWOdcKSo7','aEwqJUw5VZrgW60BW7JcSvOc','oCkWqd/dVeddOq','W7CAC8oXW6qvW60','lbtcN8o6','W6xdSCoNg0m','quVdSryEF8oiWPLjq1j4jg/cJmofW53dHI/dRr7dHYLhimkUi3NdOX3cKSkzyaqmF8oHWQntW5CYo0/cTCkgjCocvCo/W7pdNCohaa','W5q0W6y','4PMqrUITPowGHUwhOoAGU+w8IUAVLUEJRoEBUEwnMoMgMG','W5VMJPhLJABML7BLKONLUApMLOtMJ4G','oMyfzwBdVSo2cG','xoITKEAXJ+wNUoI3Q++/L8kxjoIGPEMyUEwiVE++LSkjt8krCxnrWOlcHxFcJmoJW73dL8k0','v8ooWQNdOSkz','DUocTUA0TUwjOEwFVUwEM+odJW','rHBdQ8kAWP4','u8k/WRBdPSoe','W5mHDWi','WQZdRCkwWOfV','W501W6v3wbhdSW','W6OsWRG','W4mNBqVdTq','W7ZcSSkiW7PzkbfMWQO','A8omW4q','fCoiBSkLWRVcV8k7bW','WQldN8kIWOTje8oEW4xcIa','oqldJW3dSq','ECkVqgVdOW','WPP4W5hdLsOEW4RdJCkZuZrPWPhdTHFdPJFdI8kp','W5JdI8oSW5FdQ8kfjfhcTW','WQxcPSklWRtdLSkrWQNdSLZdOaxcRuhcICoQWQJdRa','mSkqwdldGG','W6mqC8ohW5KmW6/dIZ85b8kVW6FdQZtcI8or','W7ClWPJcQ8oI','WRqUW4OFmq','W4TRWQZcSbO','WQ9qwmoHwCkpE8k1','W4CHAHm','WOFcJ8kAWOJdLq','W6T6WRVcQW','WPf1W4Xmaq','WQJdG8kpWPbgbmolW7hcNsmi','emojAG','W4mTWRjb','qmkttmkTW4HS','W5yTBq7dPSo2uNSUW4VdRW','WOXvW6XI','W7hdG8oUlmkA','WRnEsW','oCkTxG','W6/dQ8ole38','p8kMCIJdOq','z8oCWO7dJCkDWQNdTv5B','wSoAW5ddRu4','oEw4IEMrPEMrHUAoU++9PtOsz1jyWO5BWOtcSdRdNcTLCsybpSkqW7nRnCo2qGlcMCokW4BcKSkkWP8uvW','W6JdJmoM','oHBcGSoNW45hW75TW7BdRG','W7JcR8kdW59U','mMSsygxdS8oNamkela','WRlcRmkwWPZdJCkZWRddSa','8lY9J8oA','Bv/dSmk5W6RdQhi','W7NcKsThWOu','uSo9W6VdKwGwjH9gueC','lGJcUg9Ap8ka','bCknASkb','W4aPWQXxes3cJW','W54PWRfaicxcGZpdMSk2','C3xdNqpdSmogF8okWPxdLrZcV0jlrmkhWR8jW5C8','e+ITQEAZNEMhTEE9SowoVEAuOUMvV+IVVo+8RUIVNoIdOoEYJ+w+Q+wmKUIbL+I9QoIGL+woHUMMLo+8GdK/W43dOgS2WQOyvmkFW4VdHSksW5G','W5K4W7vkrXxdOSkZW7dcLW','WQ3dHCk7ca','FCo9WPFdS8kc','WQScCSo5W58bW63cIZ0laCkPWQhdUJJcI8oUd8osfrb0W65bCXhdN2WrmZe','8lgCRcW','yuVcR2jl','W4RdNmoQW5FdS8klou7cM8ogeG','xwhcMfXXWRC','WOn5W7RdSt8cW43dU8k1','mmkMfSo0WQa','kmojt8knWRC','lmkVrWZdHa','cmkOW7xcJCosW4/cNSojWPnuFY5S','WRtcNJmrtfKR','WR8UW4ehkG','WRRcU8khWORdGCkfWR3dPvpdMr7cOvdcH8o7WQtdRxhdSH4UW6D1CfpdLqCBeciNmtyjfSosd8oMWOhcSG','rmkTWO8IqmoKbW','wmoYWRpdKCkqWPxdMmotWQLtFq','W4q6EbpdPCoS','mMSsygxdS8oNamkyoJW','dffrECoN','WP1DW6LIiCkf','WQ3cJGymu2GSEmoJ','WRpcThbJW6FdRqpdHSkipq','lXZcM8oR','5yAT5Rcs5zsH5zk/Fa','WPRORB3MSk7LKixLUPJcTq','WPRcMMb3W4S','bSoHW7/cK8k6WQVdUNJdU8oGyNbu','d2PEs8oeWRS','W5VcGSk7WOajeCo6WRFdUCkdWPu','W4qhWQZcVCog','FCoaWRFdSCkC','8lsFHCo/','5BsI57Iu5yw25Ro76l2p','drxdUYm','imkVv8kIWRG','W67cGZOtnG','w8kpqvRdHqPKCCogW4xcJmonW794cdai','ESkbxLxdOG','W67cPCkoW7PbjGX5WPRcMG','W4FcIYHwWP7cImoddW','W5ddNSoQoSkT','nowrPEw5QmoMWPZcQSoLgb/cUCoT','WORcKdxcUSkIWPWsW7xcG8osWPfr','W4W1WRdcHSoj','4PYhrUIhHUACL+I/O+IGNUMcOUwkHos7OUMvT+IUKf8','5Pwn6zAK5Qse','W5hcQsCQg1ajW4yU','bCoRWRldKf4','W51UWRxcT3W','WQFdG8kg','5lIn5Psv5O6c55Mo6k285Ron5PAU5RcW','dCoyFfhdSJDIzG','8l6VTmo/','WRNcNbqntq','zSoaW5FdQv7cHxhcLmkIWOLY','W6ldISo5','W7hMTi/LIk3LPydLKOxVV60','hYRdRdVdLG','W5TGWPdcHZ8','AZ3dICkyWOtcSCkGW79Soh16rqBcLXvy','5BAK57Ik5ywh5Rkr6l2x'],...(function(){return['WRnSW6JcMZ0pW5pcKCkyf2W','5BIH6zc256A85yM8','yulcSfXb','W6lcP8kc','vCo+WQa','oSkQuW','uMVcMe9KWRWg','W77cLYO','x8kbrq','WOHaW7D/kSkq','nmkHtCk8WRLqWQSwzYi','fSkVCCktWOO','W57cVXKBpG','WR3cVNzGW6NdPcG','W5RcG8kaW5v/','ix0ith3dVG','wSoWW7ZdLgSBnXu','W65pWRFcUN8','mtxdJW','ymogW5FdHKFcGgNcGSkaWQX/W7XmWQ/cN8oxCuXQeaO','W6ddICo0kSkcfmkXuNVdHmkE','WQX+W4T3na','W7b0WRu','WR5gW6/dHrS','W6ldHCoUn8kvhSkXFe/dHmkx','W5VdNSosm8kg','DKpdM8kIW7K','WRFdHCkMh8oB','xCkGWOddHCoGW7BcP14','W7uwWQRcH8oj','5PES6zAW5QwM','pCkNwmkXWQPlWQW','nZ7dVbJdSSopyG','W6RdONxdR8oG','WQFcRCkj','WQL3W6/cUcuTW5S','wmk8WQe','8kIfVCki','W4ZdTSoZW5JdTq','5ysM5RcQ5zw/5zcuWPq','W5RdIMldT8oYW4y2','oSkPvs/dLa','jw0iBxBdQmoAhq','WRpcTgTNW63dRtK','xCkGWOxdHCoIW67cQuRdTW','DmoBW4S','n8kMqbddPKJdSSoF','g8odECkpWQhcT8kYg8o5kgJdQSkYxmklDwu','W5pdP3VdSCo/','6i+l5y2WlCkDWQhcSmk7gSkU5Awy6lsU776F','W4NdVG3cUNJdGCk0zYm','WRhcT8kEWOBdJmko','WRBdI8k1','WObqW5tdQGu','D8kTWOqGAG','W6JcOSkgWQa','WRZNU4JMNO3VV5pKUl7MRz3MLA/NGQ7MNQ3LKBNcTG','5BMx6zcV56Ab5yMJ','dCoMWQldNfdcTvjghwe','WQ9SW7JcKJWOW5NcJq','CmocW5hdPwtcHxBcMq','W63cNSkWWOyMe8oJWOu','5BUm6zkp5zo756w+776Idq','W7ujWR7cUSoyrG','WQ/cPSkmWOhdMmkAWQa','qCkzv8kaW4m','qMhcMf9vWRaBWQmlkq','oGtcTx15','W4RdLwddQSoN','eEIVS+AYTowpUEAvTq','WOtLVQxLPzxMLQFPL5pVVR0','WQxcPSklWQddNmkoWRxdSKxdKGpcMKFcKmoOWRxdSa','vvldOmkJW7i','W5dJGRtLUyxPKOBLKR7NP7JJGPHb','W7/cP8koW7TzlHvL','xCoZW4xdK3i','WRlcIrumAq','4P63foIgN+ACUUI+LoIIU+McS+wkLUs5NoMxRoISKCkO','umovWONdU8k/','uSk/WQNdHCo+','8ko9JNu','WQFNUP/MNOdML5lPLOtVVza','WRdcKWqvAv0OCa','8kQDIXK','W4hdTSoFjKO','jSkYvCk8WRS','WRTaW6ldS8kqchFcTSk6rq','jSkjF8kNWPO','qSk2WPGcrSoKb8kQW4ua','WRNcQez8W6BdTYZdGmkz','W7z/WOBcSf4zW6G','W7aNuCo3W7O','fCovtSkMWQdcR8k/f8o6','W5tdHhJdOmo7','WRRcOGaetW','WPJdTCkvmCok','n8kMqbddPKJdSSoFW4HOkW','WRVdH8kMfCofyCo9g8oAp8oV','wSoTW5NdL3itpre','W544WR5qbtK','WRNdICkvWPzE','cSoSWRJdLeRcSf8','W7qmBCoyW7O','u8krvSkGW5fOW5KasmoqWRu','y8k4DmkyW4e','W5/dSGxcVa','hhXez8oCWRBdNGTKvG','aCohg8oWWPy4W702F8oVWRxdRq','umkfuG','W49JWQlcU3S','W4NdOGpcUexdSq','vI7dMSkCWQi','W43dLSoM','tmkIWPS','jSk2wmkNWRTTWRycsW','WOjPW6ddTZ4j','WRNdI8k8cmosA8o9nCoUp8oM','dCoMWQldNfdcTvjgaxFcUG','aKKkEvS','W7ddJCoZlSkXaSkR','mmkSta','W6lcOXe+dq','aCkDEJ/dVW','ydFdMG','W5tcGSkY','4PUDp+IVH+wfHUwSSos6LUw9R+INS+EAQEEoNEwJUEwmH+MgL+wsM+wfTUI9U+IHVUIgMoAESG','WQZcRmki','W5hcG8k2WPGDfSoRWPm','i2Cpz2FdQCoDhmkOla','WQScCSo5W58bW63cIZ0laCkPWQhdUJJcI8oUd8osfrb0W7HdDr3dQgyri2GznHTP','W4ldKCo9W5ldSmkgkeq','WOHrW6TYb8kyWOhdLSk1WPS','zd3dNmk6WO7cR8k/','WQhcUNDGW64','W77dNCoighq','BSonW4ddRf3cIgdcNG','tCkurmkeWPBcISk0da','W5BdPqS','a30Xz2u','W4OUW69MxXG','hCoRySkdWPq','WOitW70Of2m','4PMMiUITRowILEwhKoAHSow+S+AUNEEINEEBUUMtT+AmKa','BtVdICk3WP3cTmk4W6K','WQpcShbAW6W','pdNdNb7dR8odEmkC','W4xcPYyZea','W6pcGsDuWRe','x8k6WQddICoz','uMVcMe9KWRWgWPOEkhO','WQxcS8kMWOpdJq','8y60PCk7','c3PEASopWQ3dOXy','8lcoUmoG','4PMIW6pORiJLOPNLHkdMO4hLV4RMR77NOyxNMkxPKPJMJBW','WPzWW6hdHqmfW4NdOG','W5SHFG','W7hcLYnqWRhcISoA','ph0st3/dU8o0','pXdcGmo8W5q'];}())];}())];}());Iii11l=function(){return ili1Il;};return Iii11l();};var version_ = 'jsjiami.com.v7';
// prettier-ignore
function Env(t,e){"undefined"!=typeof process&&JSON.stringify(process.env).indexOf("GITHUB")>-1&&process.exit(0);class s{constructor(t){this.env=t}send(t,e="GET"){t="string"==typeof t?{url:t}:t;let s=this.get;return"POST"===e&&(s=this.post),new Promise((e,i)=>{s.call(this,t,(t,s,r)=>{t?i(t):e(s)})})}get(t){return this.send.call(this.env,t)}post(t){return this.send.call(this.env,t,"POST")}}return new class{constructor(t,e){this.name=t,this.http=new s(this),this.data=null,this.dataFile="box.dat",this.logs=[],this.isMute=!1,this.isNeedRewrite=!1,this.logSeparator="\n",this.startTime=(new Date).getTime(),Object.assign(this,e),this.log("",`🔔${this.name}, 开始!`)}isNode(){return"undefined"!=typeof module&&!!module.exports}isQuanX(){return"undefined"!=typeof $task}isSurge(){return"undefined"!=typeof $httpClient&&"undefined"==typeof $loon}isLoon(){return"undefined"!=typeof $loon}toObj(t,e=null){try{return JSON.parse(t)}catch{return e}}toStr(t,e=null){try{return JSON.stringify(t)}catch{return e}}getjson(t,e){let s=e;const i=this.getdata(t);if(i)try{s=JSON.parse(this.getdata(t))}catch{}return s}setjson(t,e){try{return this.setdata(JSON.stringify(t),e)}catch{return!1}}getScript(t){return new Promise(e=>{this.get({url:t},(t,s,i)=>e(i))})}runScript(t,e){return new Promise(s=>{let i=this.getdata("@chavy_boxjs_userCfgs.httpapi");i=i?i.replace(/\n/g,"").trim():i;let r=this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout");r=r?1*r:20,r=e&&e.timeout?e.timeout:r;const[o,h]=i.split("@"),n={url:`http://${h}/v1/scripting/evaluate`,body:{script_text:t,mock_type:"cron",timeout:r},headers:{"X-Key":o,Accept:"*/*"}};this.post(n,(t,e,i)=>s(i))}).catch(t=>this.logErr(t))}loaddata(){if(!this.isNode())return{};{this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e);if(!s&&!i)return{};{const i=s?t:e;try{return JSON.parse(this.fs.readFileSync(i))}catch(t){return{}}}}}writedata(){if(this.isNode()){this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e),r=JSON.stringify(this.data);s?this.fs.writeFileSync(t,r):i?this.fs.writeFileSync(e,r):this.fs.writeFileSync(t,r)}}lodash_get(t,e,s){const i=e.replace(/\[(\d+)\]/g,".$1").split(".");let r=t;for(const t of i)if(r=Object(r)[t],void 0===r)return s;return r}lodash_set(t,e,s){return Object(t)!==t?t:(Array.isArray(e)||(e=e.toString().match(/[^.[\]]+/g)||[]),e.slice(0,-1).reduce((t,s,i)=>Object(t[s])===t[s]?t[s]:t[s]=Math.abs(e[i+1])>>0==+e[i+1]?[]:{},t)[e[e.length-1]]=s,t)}getdata(t){let e=this.getval(t);if(/^@/.test(t)){const[,s,i]=/^@(.*?)\.(.*?)$/.exec(t),r=s?this.getval(s):"";if(r)try{const t=JSON.parse(r);e=t?this.lodash_get(t,i,""):e}catch(t){e=""}}return e}setdata(t,e){let s=!1;if(/^@/.test(e)){const[,i,r]=/^@(.*?)\.(.*?)$/.exec(e),o=this.getval(i),h=i?"null"===o?null:o||"{}":"{}";try{const e=JSON.parse(h);this.lodash_set(e,r,t),s=this.setval(JSON.stringify(e),i)}catch(e){const o={};this.lodash_set(o,r,t),s=this.setval(JSON.stringify(o),i)}}else s=this.setval(t,e);return s}getval(t){return this.isSurge()||this.isLoon()?$persistentStore.read(t):this.isQuanX()?$prefs.valueForKey(t):this.isNode()?(this.data=this.loaddata(),this.data[t]):this.data&&this.data[t]||null}setval(t,e){return this.isSurge()||this.isLoon()?$persistentStore.write(t,e):this.isQuanX()?$prefs.setValueForKey(t,e):this.isNode()?(this.data=this.loaddata(),this.data[e]=t,this.writedata(),!0):this.data&&this.data[e]||null}initGotEnv(t){this.got=this.got?this.got:require("got"),this.cktough=this.cktough?this.cktough:require("tough-cookie"),this.ckjar=this.ckjar?this.ckjar:new this.cktough.CookieJar,t&&(t.headers=t.headers?t.headers:{},void 0===t.headers.Cookie&&void 0===t.cookieJar&&(t.cookieJar=this.ckjar))}get(t,e=(()=>{})){t.headers&&(delete t.headers["Content-Type"],delete t.headers["Content-Length"]),this.isSurge()||this.isLoon()?(this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.get(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)})):this.isQuanX()?(this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t))):this.isNode()&&(this.initGotEnv(t),this.got(t).on("redirect",(t,e)=>{try{if(t.headers["set-cookie"]){const s=t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString();s&&this.ckjar.setCookieSync(s,null),e.cookieJar=this.ckjar}}catch(t){this.logErr(t)}}).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)}))}post(t,e=(()=>{})){if(t.body&&t.headers&&!t.headers["Content-Type"]&&(t.headers["Content-Type"]="application/x-www-form-urlencoded"),t.headers&&delete t.headers["Content-Length"],this.isSurge()||this.isLoon())this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.post(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)});else if(this.isQuanX())t.method="POST",this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t));else if(this.isNode()){this.initGotEnv(t);const{url:s,...i}=t;this.got.post(s,i).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)})}}time(t,e=null){const s=e?new Date(e):new Date;let i={"M+":s.getMonth()+1,"d+":s.getDate(),"H+":s.getHours(),"m+":s.getMinutes(),"s+":s.getSeconds(),"q+":Math.floor((s.getMonth()+3)/3),S:s.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(s.getFullYear()+"").substr(4-RegExp.$1.length)));for(let e in i)new RegExp("("+e+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?i[e]:("00"+i[e]).substr((""+i[e]).length)));return t}msg(e=t,s="",i="",r){const o=t=>{if(!t)return t;if("string"==typeof t)return this.isLoon()?t:this.isQuanX()?{"open-url":t}:this.isSurge()?{url:t}:void 0;if("object"==typeof t){if(this.isLoon()){let e=t.openUrl||t.url||t["open-url"],s=t.mediaUrl||t["media-url"];return{openUrl:e,mediaUrl:s}}if(this.isQuanX()){let e=t["open-url"]||t.url||t.openUrl,s=t["media-url"]||t.mediaUrl;return{"open-url":e,"media-url":s}}if(this.isSurge()){let e=t.url||t.openUrl||t["open-url"];return{url:e}}}};if(this.isMute||(this.isSurge()||this.isLoon()?$notification.post(e,s,i,o(r)):this.isQuanX()&&$notify(e,s,i,o(r))),!this.isMuteLog){let t=["","==============📣系统通知📣=============="];t.push(e),s&&t.push(s),i&&t.push(i),console.log(t.join("\n")),this.logs=this.logs.concat(t)}}log(...t){t.length>0&&(this.logs=[...this.logs,...t]),console.log(t.join(this.logSeparator))}logErr(t,e){const s=!this.isSurge()&&!this.isQuanX()&&!this.isLoon();s?this.log("",`❗️${this.name}, 错误!`,t.stack):this.log("",`❗️${this.name}, 错误!`,t)}wait(t){return new Promise(e=>setTimeout(e,t))}done(t={}){const e=(new Date).getTime(),s=(e-this.startTime)/1e3;this.log("",`🔔${this.name}, 结束! 🕛 ${s} 秒`),this.log(),(this.isSurge()||this.isQuanX()||this.isLoon())&&$done(t)}}(t,e)}
