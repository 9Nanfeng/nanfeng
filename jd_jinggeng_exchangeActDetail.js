/*
活动名称：积分兑换 · 京耕
活动链接：https://jinggeng-isv.isvjcloud.com/ql/front/exchangeActDetail?id=<活动id>&user_id=<店铺id>
          https://jinggeng-isv.isvjcloud.com/ql/front/exchangeActDetail?actId=<活动id>&userId=<店铺id>
环境变量：jd_jinggeng_exchangeActDetail_url // 活动链接
         jd_jinggeng_exchangeActDetail_Notify // 是否通知（true/false），默认不通知
         默认不入会，没有入会就没有积分


cron:1 1 1 1 *
============Quantumultx===============
[task_local]
#积分兑换 · 京耕
1 1 1 1 * jd_jinggeng_exchangeActDetail.js, tag=积分兑换 · 京耕, enabled=true

*/

const $ = new Env('积分兑换（京耕）')
var iｉl='jsjiami.com.v7';const l1i1II=iii1II;(function(ll1II,IllIii,liI1li,IllIil,ill1Ii,llIIl1,ill1Il){return ll1II=ll1II>>0x9,llIIl1='hs',ill1Il='hs',function(i1lll1,Ii1I1I,l1i1Ii,l1iI1,lliiI1){const ill1I1=iii1II;l1iI1='tfi',llIIl1=l1iI1+llIIl1,lliiI1='up',ill1Il+=lliiI1,llIIl1=l1i1Ii(llIIl1),ill1Il=l1i1Ii(ill1Il),l1i1Ii=0x0;const IiiI1=i1lll1();while(!![]&&--IllIil+Ii1I1I){try{l1iI1=parseInt(ill1I1(0x213,'OVGx'))/0x1+-parseInt(ill1I1(0x214,'ZN*^'))/0x2*(-parseInt(ill1I1(0x286,'xU98'))/0x3)+-parseInt(ill1I1(0x236,'ZWON'))/0x4+-parseInt(ill1I1(0x2c0,'ccur'))/0x5+parseInt(ill1I1(0x20e,'avWL'))/0x6*(-parseInt(ill1I1(0x317,']tCE'))/0x7)+parseInt(ill1I1(0x376,'Q4)x'))/0x8*(-parseInt(ill1I1(0x1ee,'dUAi'))/0x9)+-parseInt(ill1I1(0x297,'iO2v'))/0xa*(-parseInt(ill1I1(0x37d,'tL8%'))/0xb);}catch(lilII){l1iI1=l1i1Ii;}finally{lliiI1=IiiI1[llIIl1]();if(ll1II<=IllIil)l1i1Ii?ill1Ii?l1iI1=lliiI1:ill1Ii=lliiI1:l1i1Ii=lliiI1;else{if(l1i1Ii==ill1Ii['replace'](/[FTpgwlNWCKPBSEIDOJ=]/g,'')){if(l1iI1===Ii1I1I){IiiI1['un'+llIIl1](lliiI1);break;}IiiI1[ill1Il](lliiI1);}}}}}(liI1li,IllIii,function(IIIiI,iii1i1,IllIll,i1lllI,llIIi1,iI1IlI,l1i1Il){return iii1i1='\x73\x70\x6c\x69\x74',IIIiI=arguments[0x0],IIIiI=IIIiI[iii1i1](''),IllIll=`\x72\x65\x76\x65\x72\x73\x65`,IIIiI=IIIiI[IllIll]('\x76'),i1lllI=`\x6a\x6f\x69\x6e`,(0x15070d,IIIiI[i1lllI](''));});}(0x18e00,0x3e739,Iii11l,0xc9),Iii11l)&&(iｉl=0x7b7);const Iiilii=require('./jdCookie'),Iil1li=require('./utils/Rebels_jdCommon'),Iiilil=require('./utils/Rebels_sendJDNotify'),Iil1ll=require('./utils/Rebels_Token'),{jinggeng_savePrize:iillI}=require(l1i1II(0x20c,'!vyq'));global_agent_http_proxy_isopen=!![],require(l1i1II(0x203,'*cRa')),global['GLOBAL_AGENT'][l1i1II(0x26a,'PMus')]='http://kr520:kr91412358@192.168.2.200:10808',console[l1i1II(0x2af,'r%is')](''),console[l1i1II(0x3c7,'(EiM')]('=========='+$['name']+l1i1II(0x245,'nW2n')),console[l1i1II(0x383,'qaxH')](l1i1II(0x323,'0o4h')),console[l1i1II(0x334,'xU98')]('jd_jinggeng_exchangeActDetail_Notify\x20//\x20是否通知（true/false），默认不通知'),console[l1i1II(0x387,'vkQn')]('=========='+$['name']+'提示结束=========='),console[l1i1II(0x316,'^X]x')]('');const lI1III=process[l1i1II(0x3aa,'vkQn')]['jd_jinggeng_exchangeActDetail_url']||'',IIliIi=process[l1i1II(0x3c5,'0asa')]['jd_jinggeng_exchangeActDetail_opencard']===l1i1II(0x2ec,'(EiM'),IllIiI=process['env']['jd_jinggeng_exchangeActDetail_Notify']===l1i1II(0x201,'xU98');function iii1II(_0x1e4d3d,_0x25cb9f){const _0x5b1853=Iii11l();return iii1II=function(_0x18c5bd,_0x2e4d8a){_0x18c5bd=_0x18c5bd-0x1da;let _0x446b36=_0x5b1853[_0x18c5bd];if(iii1II['CICDQa']===undefined){var _0x298a69=function(_0x49a20f){const _0x58a46c='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x3f50ac='',_0x4bf808='';for(let _0x44d1d4=0x0,_0x5c5be7,_0x2caadb,_0x3ed37c=0x0;_0x2caadb=_0x49a20f['charAt'](_0x3ed37c++);~_0x2caadb&&(_0x5c5be7=_0x44d1d4%0x4?_0x5c5be7*0x40+_0x2caadb:_0x2caadb,_0x44d1d4++%0x4)?_0x3f50ac+=String['fromCharCode'](0xff&_0x5c5be7>>(-0x2*_0x44d1d4&0x6)):0x0){_0x2caadb=_0x58a46c['indexOf'](_0x2caadb);}for(let _0x274b56=0x0,_0x1a7274=_0x3f50ac['length'];_0x274b56<_0x1a7274;_0x274b56++){_0x4bf808+='%'+('00'+_0x3f50ac['charCodeAt'](_0x274b56)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x4bf808);};const _0x4b1ced=function(_0x3929c6,_0x76b0b5){let _0x3ee397=[],_0x5cf9f3=0x0,_0x25907c,_0x1d9559='';_0x3929c6=_0x298a69(_0x3929c6);let _0xc9f086;for(_0xc9f086=0x0;_0xc9f086<0x100;_0xc9f086++){_0x3ee397[_0xc9f086]=_0xc9f086;}for(_0xc9f086=0x0;_0xc9f086<0x100;_0xc9f086++){_0x5cf9f3=(_0x5cf9f3+_0x3ee397[_0xc9f086]+_0x76b0b5['charCodeAt'](_0xc9f086%_0x76b0b5['length']))%0x100,_0x25907c=_0x3ee397[_0xc9f086],_0x3ee397[_0xc9f086]=_0x3ee397[_0x5cf9f3],_0x3ee397[_0x5cf9f3]=_0x25907c;}_0xc9f086=0x0,_0x5cf9f3=0x0;for(let _0x5552af=0x0;_0x5552af<_0x3929c6['length'];_0x5552af++){_0xc9f086=(_0xc9f086+0x1)%0x100,_0x5cf9f3=(_0x5cf9f3+_0x3ee397[_0xc9f086])%0x100,_0x25907c=_0x3ee397[_0xc9f086],_0x3ee397[_0xc9f086]=_0x3ee397[_0x5cf9f3],_0x3ee397[_0x5cf9f3]=_0x25907c,_0x1d9559+=String['fromCharCode'](_0x3929c6['charCodeAt'](_0x5552af)^_0x3ee397[(_0x3ee397[_0xc9f086]+_0x3ee397[_0x5cf9f3])%0x100]);}return _0x1d9559;};iii1II['fiBiZi']=_0x4b1ced,_0x1e4d3d=arguments,iii1II['CICDQa']=!![];}const _0x185803=_0x5b1853[0x0],_0x3504c0=_0x18c5bd+_0x185803,_0x1ea7d5=_0x1e4d3d[_0x3504c0];return!_0x1ea7d5?(iii1II['tqRLOw']===undefined&&(iii1II['tqRLOw']=!![]),_0x446b36=iii1II['fiBiZi'](_0x446b36,_0x2e4d8a),_0x1e4d3d[_0x3504c0]=_0x446b36):_0x446b36=_0x1ea7d5,_0x446b36;},iii1II(_0x1e4d3d,_0x25cb9f);}function Iii11l(){const iI1111=(function(){return[...[iｉl,'FjTslKjgiKaBmCCKiDpS.SPcomIO.vWJ7wNIKEES==','5Rw+5yM25BA257MQ5P6x','W5BcOmk4W53dUq','wCoBCq','nSk2k8ojWPFcOSkkEvvQ','kCoNySkif8k1WQm','lWDDWO7dNG','hmosW6ddIaNcSSkZsXldUbFdKmkHWOG','ghBcSKNdRa','W6hMT5dLIPNMN7xKUzhVVRhMT7hOGBC','mbPnWOtdUCkS','WRddJbBdTtdcMdfYDe1X','4PI+WRVORPlLOlFLHjpMOklLVQNMRBRNOBBNM5xLJkJPH7u','W7eiW78','eCoyW73dOW','jM1zWP/cLI8z','cmodW6BdPaVcSmk3sau','xYtdRqFcLW','WPVcU8ka','8j6vGU+5S0a','WPCvp8oUWPhdICo7W7VdJG','uxRdImk+WPW','5AsL5B2/5lQS','WPtcMSoatqO','xSkiWRiiWOK','WOhcSCkjcW9edtTQ','jwLdWPS','l8oLt8kSaW','WQxcSWi','nCkQg8ojWQhcUa','W6tcJmk5W53dTa','mbLmWPFdHmkTW7FdRdCmbHrm','W7LiqfbF','WPVcIKpdP8ocW74lda','WQ0gW43cPmo2WOamyJFcOuW','iWbq','8y+mTE+4Qmog57Ue5y2c772f','bqvcn8o3ELhdTd3cVmoHF8kZgW','agpcTeRdUSoJw8kL','tCo7W6RdRW','W4z4hmkcWP7dISk4tXTtdSkf','W7DdW5rLW5DnrmkPW7OYjq9psmkUW4hdQ1xdQX/dU8km','nmkhnCoTWRa','ahJcS07dP8k4gCoV','D8kGWQ0SWOy','W68lW7ruW5S','foITN+AXLowtSUw6ISkF','E1pdNmkJWPpdK8oo','gSoZW5i','W6nBW4LUW5Hg','WRdcTbaOW6nYW5u2sJtcKL9TW4/cUGTKls/dLJyhvhi','56E25yI05y2a5yAx5O6KWQVMTPNLI7FOPlhLIQRVVARdMq','h2pcSMxdN8kZsYnYWRVcNmo9','gEAoQ+wpNEwtLow5O+AvQUApKoIMToAFKUwLRoI1I8olcW','W6HgWPtdKCkSWQm','A0FdGCkdWQJdHq','DEIVSEAXSUwmREAwTa','WQ3dVqNcSHqfxSkOWQlcT8kt','WQScW43cOmkpWPCyBd/cNa','tbVcLSoHFW','uVcYVju','DSoaxHaf','W4dcHXZdSCox','WPxdP8kjCqJcSrBdVfpdPddcSgpdGW','WQtdK0tcKWSImCkL','WRxcS0FcLaa','W7pdVHyVW6T5W4m','tfRdMSkoWRm','cW5ff8oPAW','wmo9na','rmooBhbx','W45HhSkCWO/dVCk4uG','CfZdJmkQWRpdHCohla','WOpcMdRdUSklFCoJmvS','WPFcUowpM2K','dUIUPoAZIowLOEI3I+++Iuuz6kkX6zQE5yUB776equhcP8o2frNdV8kGcYldThRcVw8','WPNcTCkkcG','pmk2WO4JW7e','fpc1Kka','W70yW6XIW4yaWPG','8jgcPH7NQApMS6m','W4zugSkHtK7cKW','WQ/cQvzPWRmQWPz2sZRcHgjo','W6KxtcO/WO7cQq','DehdIa','WR/cMmouucXFWRFdKqhcHG','sSo5W7pdOX4','WPxcTetcIt0','dCoZWQZcSsO','W4L2BmoSWRm','WRVdOW3dVce','soIVOoAYGUwKI+I2Rmo5sCk0WP8','W4GzgCoTWPNdNmkox0JcLSoXdW','WRldIuNcOWGJ','W7naW5vZW5nphq','W5qXWQ0','uSoRjYXXiKJdQmkVAuRcTuz8WQpcJ8oH','cdX+WRtdOq','cWXFgCoO','W5rnwxvwWPjs','W7ePWQtcOCkl','umohDuPZW5RcUmkf','W5CRWR7cRCkQWPea','W6tcLmkqW43dK2S','8l6pUX8jeSk8WP/KVPdLKAy','eG9fbSokC3NdQtdcOmocAmkDgG','m2LCWOpcQY0KWR9HWQK','5y2g6yEg6k+Y5PI5lSoUitFdOJOXqdNdGq','fowrPEw6GNXXW5dcVCkyWPqhgqjG','W5rCb8k4ALlcIw4Rtq','WOJdU8kD','z8oMWQTXW6dcVcPSWOVdJhhcNMJdGG','8kg8VSk0W4JLJitVV40','W6pdNXuzuv8','W7jMyq','WQxcK8ojurbe','8yACGCoA','WOxcOCklcG','W5CqW61ZW4q','jmk9mmo3WQNcU8kg','4PUBWPFORApLO6BLH7ZMO6VLV5hMRy3NOjlNMiJPKQVMJiW','W7CAucKqWOJcOCoV','WQ7dV8k5Ab4','W5T+hCk/Dq','bfr6pgO','WPD7rCkoW6G','W7zCWP0','W4ypW5n0W6S','W7pcR8kDW6ZdSG','WONdP8kD','DKFdM8kaWQRdGmof','W7yWWPNcMmkx','W6HSAfn2WQfvBG','WPLfEmkx','W7tdVZeZW6f7W4G','BL/dICkEWOe','WQdcKSoD','fG9Df8o1','6yoD5yQi5l2j5zcM','rmohzuTpW5pcK8kjWPjprviNta','c8o/WQxcUZ99','W4S2WQxcM8kiWPekWPG','W4fiACoCWPBdICo4W4S','W4P8gG','mCokWP/cJW9aWO5pWPZdSa','jb5jWOtdLmkBW5hdRt02fHC','WQpdIaZdOG','e8oyW6FdUqVcTSkZsW','BCo9dWxcQua','WPJcUfC','W6VdKHivvui1ibFcKgu','WPtdLuRcGWKYk8oXk0hcUNxdUSkYWPBcI8o6WOmKvCkUDZ3cKG/dLG','WOtdV8kBDZ3cKZldQvu','W7NdHauF','WQJcKSouuq','t8kPW7JdQgzYWOr5WPpdHKu','WPBcLCoDCSo2eSoMW7XdW55Gra','8k6DL2tMG5tLLztOJAhLVBtLRPpNIzbX','W6JcOvpdTxasAa','8lAQPf0','W41BoSk9WR4','W5/cMmk8W4FdMW','W4NdHmkiiG','E8k/WR0rWOq','W6ZdNGOqtfWsms3cKG','D8oIWRza'],...(function(){return[...['WRVcPudcIrm','sSojjdtcJW','WPVcOKtcHJxdSXS','j3NcLwldHG','WPNcTKa','W4XjEComWONdMa','cmk/WQVcVHZcTSo+nGqA','W6FdLbupqKWK','WPjqWP7dTColFHiC','FLFdM8kdWQRdHmopoSkBW4CYWQRcG2G','56wX5yQD5y6k5ysn5O+OfoA2NEwkSEINNowjIo+/QJa','W63dSaWSW5HRW4G','w8opprb9','W480WONcG8kl','ArZdUCoaWPy','WOjgtCkEW78','W6RcKCkbW6NdRG','yUoaH+A3U+wkKUwEUEwEMEobPq','d8o/WQFcQJu','b8oUW6tcJwC','WPJLKPpLUz7cQCkPWPqEW51zW5eP','ggXHl1S','fmo7WRJcRdf3WRK','W5tcUmkdva3cVdBdIG','W4jwhCk1C0W','WQ3cUrBdNmkMv8osf3BdQ1m','EmoMWRndW5G','W47cUv/dT2WgA8k0','emoLW4hcPu7cPIpdGCk3pCoKWOmQWO8','kcrPimoEw37dKbq','WPqJlb05W7K25BYk5Asu44cx5lQG5lMH6lsI5yYl','wCojWOHJW74','44ci5O6v56AY44kf6kYz5ysN6i+J5y+7lSoeWR8XW7vh','W6JdKbuzDLKT','kCkXiW','EKLrFSkp','W4CpWOtdKCoYEHKM','DcRdRW','W7bQgmkduW','5RsK5yUc5yAJ5y2R77Ya','d8omwG','W6RcKSkDW6hdSu/dHLi','W73dQqa9W757','DcVdOKddHW','lWzbWPG','pWefWRxdVSoKW47dQ2ijxKOwl8kveXT4ExVcGCkCWPLGnZakW6SwtCkbW49ufqldPSoUWPmnW7b1cZldSSoIE8o8','W77dS8kVf8k+','WQZdK0a','5Bsz5Aka5zYb5z+u','W7BcUv0','WPXkwmkOW4VcICkk','W6NcLCkaW53dJhRdKZa','uGRdIxVdVLFdPG','vColyNnXW5JcN8kv','hNBcRe/dRa','pSkMgx5cWQhcRxL4Fa','WRhcP0BcJGS','W5Xramk0BK8','jxfCo3W','WPNcSKpcSZJdTrK','ixrzWOi','vmo6W7G','8jc/PSkA54I55AEy6iMk','WQpcG1BdPCoW','WOqnqmoKjq/dJxGXqIhdJhW','W7/cPvNdSe8cAmkL','Bb/cPCoR','4P+Rl+IfP+AFNoI8QUIJLEMcMUwiKEs7UEMuHoIULmoI','WR3cH8kJicC','D8o4frdcIuet','W4BdKSkenCkJASoaW7To','DEIVSEAXSUI1QUAuSU+9LUIUGoAGL+AFQ+E+IoE7VoMgKEITNG','W4PQdSkdWPVdVSk4','cbjuiCo0','vWBdRKRdPW','jNZcTxhdHa','tmoft8k3nCkuW5/cKc8XomomW7RcNwD5rG','W6HOAKj2','WPBcO8kghq5LnZXQCIddRG','W4ZdJ8kIzCkin8k+zSkCkCkY','zSo6rc8fW5/dJGWn','4PYKn+AFQUIdH+AVQUEIT+wLSoEsJmkF','W5nljSkDzG','ESoNtZG+W7pcPW','W5ztEmoaWPxdI8o/W5NdHq','EfhdM8kiWQFdJmoh','5lI55PAh5OYx55Q76k+P5Ro95PwV5RcK','amolxmkQgSku','W4JcNGldOCoh','WRBdHGhdRW','W7RdVHy/W7H3W5zTCt7cNG','W71kW4H0W5Dgda','ArBdNG','sGxdO3JdJq','W6KtsZO2','WP3dNGVdNa8','xG7dP8oyWOq','g3lcThNdPSk2h8oJW5O','W6RcKSkDW6hdSu/dKf87','vmo5mGXWbuhdT8kK','5P+E5lU65AwM','WOfwWPpdPmojBa','qCoBC01bW5BcSG','8lInVSotW4dLJ7xVVkC','ASkKWPu0WQK','WO3dP8kxya','eGfeaCo+','WOtcSKxcHG0','BSk3WPiI','W7HGFG','W5bkWO7dPCourbumFq','q8obEfTXW4G','W7OsW6a','W5fneSkMxuZcNgugBshdUW','bwtcPW','W7ixut07WPVcHCoU','p8krpCopWO8','8js2GU+6HxdKV7BMGAxLIlq','8y+wMWC','W4mXFGeF','vH3cQmocvW','x2DsBCksAa','5lM05PAX5O+k55MB6k6N5Rgs5PwL5Rov','bCo1W5NcHq','WQlcLxZcMHi','WPTAWO7dS8ohFbK','WOxcTCkjcWvB','5As+5zow5zon56Ek776t','W73dPrddKmk2tmoBoW','44ku5O6I56sf44gi6k6P5yAH6i275y2CFCoKW5RdKCoTxq','W6ZcO1tdOu0q','vh1z','FCoXrYubW7ldII4OiSk0','ySo/eW/cQq','W6hcGIBdMmonW5RcIcS','tSoxiZdcLh0ZwW','k8k/kCoC','aSoAW5BdNcy','WPdcSCktkGztpZDGsbFdUSk6AG','WRROR4tMSRJOTjhMLltVV4VORPZMO4VMNQlNVOtNU6dPHRBORjy','W591WPldK8kJ','lW9YWP7dUq','W5pcMCkMW53dMW','WOxOR5dMSyJLPPJOT57VVQtdHmoAW486w8kFpHzQzCo2W67cV8od','W6XwWPtdSmkNWRuIBW','eCozW6hdTqS','WRlORj3MSiVLPPNOTQBVVRFcRb7OO6xPMAhLIyRVVz7dNwfvpf3dTt4qW6niWOVcIJNcQW','sSo8W7ZdQq','sa7dK3W','WOVdMwNcJGO','W7auW78','WQBdKZZdH8oHW4NcNby','W6dcNYxdJq','W5FdQCoztW','W5DszmoSWPxdIa','kWdcMSkbWQZdHmopg8kh','g1TYlhC','jaTlWPldLCkUWOtcSMTlv08oiCkbtW','qJZdRq','vwTqFSkdCG','mWXgWPldLCk6W73dPW','WQ3cK2tdM8oZ','WP1ata','WP7cS2/cQJddVbVdICklW7jPW7mmEtRcNmkXahmPWQbjW5lcU03cNrvSntnZyJ7dNYBdIW7MTBNLIRlPKRdMJ5a','yUAkQUs7REwUPoElOmo5','BmoCW5BdJG','W6NcMCkaW6ddOh7dOfK0f8oB'],...(function(){return['Br/cQmonDei','W6LhWOJdVCkSWQacBt4','t8oCW67dJHO','W5q9Ba0','W4jlzCoEWQG','W5mXWOZcG8kF','W4LiBq','W5KPWQVcMCkIWR4gWPab','W7BcR0NdTKmayW','eSozW7FdOrdcS8k7xq','5PYY6ik46iY/5y2c55Eg5OMy6yIG5P2U5l6m5Ooe','WObAWPpdPmodAtum','W6zGzCooWOm','vCoMW7G','kCo4WQFcIZu','A8oMWQzh','n8kppmojWO8','m8ozWPVcSYi','uCo1W4BcHvdcIIRcMq','AmoSWRjr','5PYt6ioZ6i6j5y+p55EF5OIT6yUk5PYu5l6J5OcY772V','hCoEW6W','W7mBut0XWP4','vg9kESkF','nCkXn8onWPNcUSkMDvPNh8oZWOtcOa','B8oXW77dKcC','WQ/dTK/cJau','W795DLT6WRb9FSk2AgjsBSkpWPJcH8oVW7JdVmkLyr9zqmk3WPBdSmoZWQJcQehcMCkJ','W5Lqfa','W73dHCkHFSkBpmkAjmkHpSk2WQa','DYBdVuZdIW','W73dMaGytfW','W6hcNJVdGCoTW5ZcJcG3','W7nSDurYWRr5','W4ddGmkr','WQFdHK7cLKPNo8k0lfRcUMJdQ8o3W5JcJSkO','aurmdgK','W5tORkdMSBlPHO3NVlFLJzdMLiZPLRFORihVVPdOR7NOG7JNSPlLVihLJOJOG7hOViVOOklLJ5NPP4tVV6L4W4pcJfJcHHP2peXLFZBcMIK','W6RcImouAWncWQBdMvO','W6mxsW','u8onyNj7W4ZcPCkqWPzc','WR7WUAgt','W7vgWO7dKSkUWQym','WQ3dHCoaWRhcOqVcUa5MtG','W5nthmk+BG','jMhcHvhdGW','j19sl0q','kqTdpmoW','W6ldNHuituOSpa','CsVdQ8o4WPSlmv4','8j+vKU+7KbtKVPtMGlNLIB8','W7VdLcCYW50','d3lcTg/dU8k1jmoRW40BfmkxW6rAWOu','dSogtSkRoSkhWPu','tSoOW7BdVG','W4/dISkiiG','8lAeGcO','WQBcQrhdUCk4x8of','WOtcOmkvbGrroZr3','WOFcPMRcHt8','W5rlkSk/Da','bqXNjSor','W6xKVRlMGk/LIllcOW','ALRdGmk2WOJdGmopoG','bCkziqTtW6/cPCkwWOLU','mYmtnmoAn8ktEM9Wq8oCbSkFixSNcgqLsHJcOfXHAHRdPColj28lW5NdKh/cHmkYW55DW6hdLW9Fmg0ADXVcICkBtZpcJG','WQZKUBJOSQeY','gSoaW7xdVWhcMCk/qXK','WPJcO8kloY0','WRxdIHhdVZtcMdv/sfbZ','WPhcQMldRCoP','W7moW6X7W4mfW4i','DcpcQCo4vq','Dv3dIa','vbZdRxldTW','gglcS1i','jwDeWOFcQJSAWRi','fCoXWQW','WQ1jWQSjWPPsWPlcNa3cGa','W7VdImknbfz3WQtdKrFcIX0','W7ZcR04','W5ZdI8k8B8kRimkc','AIddPCo7WPGkbeieW4xcPa','BCo1ws8IW6xdTG','WQtcUrBdJmk1wCoh','AmoMWR5qW6NcQZq','WPdcNCoCCSoZhCktW7rJW7jEvce','fqr6WRtdUa','WPbysSkPW47cOmkowM8','dG9r','k8o0W4FdVti','dGvyfCoVDW','W6BdNGe','iLn6hwO','h1bLoM7dLbO','fLP1pgldLHfU','W7dcMmku','WRJdHGldKZdcGW','W6HwWPFdU8k0WQi7zc7cU0G','WOhcSCkjcW9egZy','cCohACk3mmkfWP4','WQ3dHCoaWRhcOqVcUa5MtSopEMVdQKdcQ8k5WPtdMcvouMyhWPRcKv8ivb/cLCoWCSk+WPjG','W7HGAKn2WQe','W4FOSzNOSRRLJ7/KUQe5','qZBdUspcJ8oIAq','5P2D5AoR5z6f5z6G','u8oNkW','W5XDqSoGWQe','zConxsWJ','W6NMJBNLJOBMLz/LKjNLUQRML5lMJi0','DstdVmo3WOy','iqzlWOpdNCkTW5RdTW','W5vTW5XkW5S','W4VdISkc','WQVcVrBdMSkbtmoo','6i6c5y2yccP7oL3dQCkC5AsR6lsk','sJBdUtpcNmoSFd1ZWQhcGW','W7lcPeNdOfat','dCopW4ZcLMu','BvFdL8kYW6NdICowmSkzWP8rWQpcUMaBDSoGpmkKWPu1WRbjwgRdJCkOWRpcLXldICouWQzPmmoqfCkUscNcICk7W5FcKeCLwCkrzfFdJxaEw8kdWRCOcCkdB8k8sr0','W6nSW4HuW78','q+s9NEAbQowkRmkZ','AqVdO33dPG','WOpcMMxcOt4','wSoNtZG5W7BdTYq','W6SsW7zzW4at','W7BdVGq4W69SW5u','W7ZcR07dGe4cA8k0WPVcRmk6fJ1D','WQJcQWtdJCkWCmoddNO','xCoHiaP6mfxdOG','wCoHna','W7NcMCkf','FSkGWPqKWR5FCqFcPSkDrG','W7hcKSkaW7BdTvRdQG','W73cLmkhW6ZdOLtdU08wgG','D8kGWPq0WQ1rza','W7nynSkgWPW','5BMd6zgt5zgO56wM772yW5i','hLPX','xtBdVH3cH8o9qIb5WQu','CJBdRmo7WOm','Ea/cSSoDAeRdRmo5WO9wWQBcTKJdRCov','WRRcTaRdJ8kAx8opbG','W5NdJ8kHx8k/','W7CAucKbWP3cPCo+uSoU','4P2tsUAFRoEDREIVREAXPmkC','dmoUWQ/cVIr1WP9VWQRdNuSawG','W63dVHerW6nMW6HWEZO','iCoQWRhcPGK','bmodW4BcS2S','m+ENUowlHMC','g8oVW5i','8lM9G++4TCkL57Qa5y2I77YC','fEobUUw5KEMrSUwqL+ENLUocRCk7','W6ufxIS6WRRcQCoKwSofW4ddLW','W5FdHmkrl8kPrComW7m','WR3dHXBdSZdcHq','hM9IWP3cVq','bW5a','WPNcMfddS8ov','DSkQWOa','dLz8WRRcL+s9GowqR8kk','mHT7WQZdSG','qUApHEwpLEAwKUwrLUw6I+AvJoApVW'];}())];}())];}());Iii11l=function(){return iI1111;};return Iii11l();};let i1il1=iii1l1(0x20,l1i1II(0x38c,'vkQn')),I1l111=iii1l1(0x1,'1234567890')+'-'+iii1l1(0x4,l1i1II(0x2b7,'IPSD'))+'-'+iii1l1(0x4,l1i1II(0x352,'vkQn'))+'-'+iii1l1(0x5,l1i1II(0x375,'^X]x'));const IIii1l={'JD_BEAN':l1i1II(0x369,'Bj!L'),'JD_POINT':l1i1II(0x3bd,'7Tqg'),'JD_GOODS':'[实物]','JD_COUPON':'[优惠券]','JD_J_COUPON':l1i1II(0x365,'CZ(P'),'JD_D_COUPON':l1i1II(0x3a0,'82US'),'JD_AIQIYI':'[爱奇艺]','JD_PLUS':l1i1II(0x3c8,'ewj6'),'JD_E_CARD':l1i1II(0x224,'Q4)x'),'JD_REDBAG':'[红包]','-1':l1i1II(0x38e,'^X]x')};let I1iIII=null,liiI11='',ililI1='',IIii1i='';const i1ili=Object[l1i1II(0x336,'LG&J')](Iiilii)[l1i1II(0x284,'0o4h')](IIliIl=>Iiilii[IIliIl])['filter'](II11ll=>II11ll);!i1ili[0x0]&&($[l1i1II(0x22e,'9%gn')]($[l1i1II(0x308,'kflf')],l1i1II(0x2a0,'82US')),process['exit'](0x1));!(async()=>{const ili111=l1i1II,liiI1I={'elxbK':ili111(0x231,'0o4h'),'WDJrs':function(lI1II1,i1ilII){return lI1II1!==i1ilII;},'NkuKM':ili111(0x364,'0asa'),'sAJPd':ili111(0x217,'IPSD'),'kIopO':'⚠\x20请填写格式正确的变量','ksWzh':function(iIIii1,IllIi1){return iIIii1+IllIi1;},'rQxpG':ili111(0x2a7,'SWms'),'wLjtP':function(lilIII,Ii1ilI){return lilIII(Ii1ilI);},'FKoLj':ili111(0x1f7,'kflf'),'EpvNR':'xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx','MZcYW':function(II11i1,iliIil){return II11i1*iliIil;}};if(!lI1III){console[ili111(0x26f,'0o4h')]('⚠\x20请先定义必要的环境变量后再运行脚本');return;}const ililII=Iil1li[ili111(0x1fb,'Oz4E')](lI1III);if(!ililII){console[ili111(0x343,'ccur')](ili111(0x252,'9VfA'));return;}$['activityUrl']=lI1III,$['activityId']=Iil1li['getUrlParameter'](lI1III,liiI1I['elxbK'])||Iil1li[ili111(0x3b4,'SWms')](lI1III,'id'),$[ili111(0x2a9,'vkQn')]=Iil1li['getUrlParameter'](lI1III,ili111(0x1e4,'L&E^'))||Iil1li[ili111(0x35b,'7Tqg')](lI1III,ili111(0x2e6,'K$dL')),$[ili111(0x205,'7Tqg')]=ililII[ili111(0x3a8,'pqq#')],$[ili111(0x3c2,'tL8%')]=ililII[ili111(0x373,'ewj6')],$[ili111(0x209,'9%gn')]=ili111(0x200,'7Tqg')+$['hostname'];if(!$[ili111(0x3ad,'vkQn')]||!$['venderId']||!$[ili111(0x357,'qaxH')]){if(liiI1I[ili111(0x2ba,'IAw@')](liiI1I[ili111(0x2cb,'7Tqg')],liiI1I['sAJPd'])){console[ili111(0x2a5,'82US')](liiI1I[ili111(0x36f,'SWms')]);return;}else Illl11=ii1lI+ili111(0x225,'avWL')+I1ilIl+'）',I11iII=!![];}Iiilil['config']({'title':$[ili111(0x27c,'tL8%')]}),console[ili111(0x322,'ZWON')](liiI1I[ili111(0x371,'U&Na')](liiI1I[ili111(0x337,'kflf')],$['activityUrl']));for(let lill1i=0x0;lill1i<i1ili[ili111(0x31f,'Hhwf')];lill1i++){$['index']=lill1i+0x1,liiI11=i1ili[lill1i],IIii1i=i1ili[lill1i],Iil1li[ili111(0x2e1,'7Tqg')](IIii1i),$['UserName']=liiI1I['wLjtP'](decodeURIComponent,Iil1li['getCookieValue'](liiI11,liiI1I[ili111(0x2e0,'82US')])),$['UA']=Iil1li[ili111(0x3b6,'CZ(P')]($[ili111(0x3a3,'IPSD')]),$[ili111(0x325,'xU98')]=Iil1li['genUuid'](liiI1I[ili111(0x2b8,'0o4h')]),$['te']=Math[ili111(0x305,'gT$2')](liiI1I['MZcYW'](Math[ili111(0x2fe,'Bj!L')](),0x2328))+0x3e8,$['message']=Iiilil[ili111(0x2aa,'!vyq')]($['index'],$[ili111(0x29b,'OVGx')]),$['nickName']='',console[ili111(0x31e,'avWL')](ili111(0x29e,'nW2n')+$['index']+'】'+($['nickName']||$['UserName'])+'******\x0a'),await Iiill1(),Iil1li[ili111(0x326,'vkQn')]();if($[ili111(0x240,'nnR7')]||$['runEnd'])break;}IllIiI&&Iiilil[ili111(0x34f,'K$dL')]()&&(Iiilil[ili111(0x3b9,'PMus')](liiI1I['ksWzh'](Iiilil[ili111(0x238,'*cRa')],ili111(0x291,'7Tqg')+$['activityUrl'])),await Iiilil[ili111(0x372,'7Tqg')]());})()['catch'](il1li=>$[l1i1II(0x388,'LLr$')](il1li))['finally'](()=>$[l1i1II(0x274,'Q4)x')]());async function Iiill1(){const Ii1I11=l1i1II,iIIill={'zASyN':function(iilii,Ill11i,iilil){return iilii(Ill11i,iilil);},'PmRBH':'获取\x20Token\x20失败！','ujYpR':Ii1I11(0x39a,'pqq#'),'jManW':function(Ill11l,il1ll){return Ill11l(il1ll);},'KeNhl':Ii1I11(0x3ba,'!vyq'),'fTnUB':Ii1I11(0x33b,'Hhwf'),'wjChM':Ii1I11(0x331,'82US'),'hBPXl':function(i1ilIi,lill1l){return i1ilIi(lill1l);},'mgpgg':'home','CGogx':function(l1l1i1,i1iiI){return l1l1i1===i1iiI;},'dkoXg':'积分兑换','NvEkJ':function(i1ilIl,llI11I){return i1ilIl+llI11I;},'uAIgd':Ii1I11(0x33f,'kflf'),'vUqDp':'fUykD','Lttvp':function(Il1i11,iii1li){return Il1i11(iii1li);},'MOcJp':Ii1I11(0x3c6,'Oz4E'),'Fpybt':Ii1I11(0x21d,'9%gn')};try{$[Ii1I11(0x2c5,'gT$2')]=![],$['retry']=![],ililI1='';if($[Ii1I11(0x237,'r%is')]||$[Ii1I11(0x351,'ZN*^')])return;$[Ii1I11(0x38b,'u2WA')]=await iIIill[Ii1I11(0x36d,'Oz4E')](Iil1ll,IIii1i,$[Ii1I11(0x378,'CZ(P')]);if(!$[Ii1I11(0x260,'!vyq')]){console[Ii1I11(0x398,'tL8%')](iIIill[Ii1I11(0x37e,'L&E^')]),$[Ii1I11(0x2fd,'Gwih')][Ii1I11(0x1fd,'L&E^')](iIIill[Ii1I11(0x2dd,'U&Na')]);return;}await iIIill['jManW'](lilII1,iIIill[Ii1I11(0x315,'r%is')]);if($['runEnd']||$[Ii1I11(0x360,'%jXx')]||$[Ii1I11(0x278,'OVGx')])return;if(!$[Ii1I11(0x263,'0asa')]){console[Ii1I11(0x239,'nnR7')](iIIill[Ii1I11(0x257,'ZWON')]),$[Ii1I11(0x3ac,'vkQn')][Ii1I11(0x33c,'9VfA')](iIIill[Ii1I11(0x28d,'nnR7')]);return;}await iIIill['hBPXl'](lilII1,iIIill['mgpgg']);if($['runEnd']||$[Ii1I11(0x25c,'9%gn')]||$[Ii1I11(0x1e9,'ewj6')])return;await $[Ii1I11(0x35d,'xU98')](0x3e8);if(iIIill[Ii1I11(0x2a3,'Hhwf')]($['index'],0x1)){console[Ii1I11(0x262,'Q4)x')](($[Ii1I11(0x267,'nnR7')]&&Ii1I11(0x3b0,'LLr$')+$[Ii1I11(0x253,'B2zf')]+'['+($[Ii1I11(0x251,'kflf')]||iIIill['dkoXg'])+']')+'\x0a店铺链接：https://shop.m.jd.com/?venderId='+$[Ii1I11(0x320,'L&E^')]+Ii1I11(0x1e3,'Oz4E')+$[Ii1I11(0x379,'82US')]+Ii1I11(0x20d,'9%gn')+$[Ii1I11(0x2fb,'75W0')][Ii1I11(0x2ac,'L&E^')]('\x0a')+'\x0a'),Iiilil[Ii1I11(0x1f9,'L&E^')](iIIill[Ii1I11(0x354,'7Tqg')](Iiilil['content'],($[Ii1I11(0x306,']tCE')]&&Ii1I11(0x3c0,'SWms')+$['shopName'])+'\x0a活动条件：消耗'+$[Ii1I11(0x2cf,'CZ(P')]+Ii1I11(0x28a,'!vyq')+$[Ii1I11(0x24f,'Bj!L')][Ii1I11(0x1e8,'9VfA')]('\x0a')+'\x0a'));if($[Ii1I11(0x210,'ZN*^')]||$['outFlag']||$['skipRun'])return;}await iIIill['jManW'](lilII1,Ii1I11(0x27e,'qaxH')),await $[Ii1I11(0x27f,'LG&J')](0x3e8),await lilII1(iIIill['uAIgd']),await $['wait'](0xbb8),$['retry']&&(Ii1I11(0x27b,'vkQn')===iIIill[Ii1I11(0x329,'xU98')]?(Iliiii[Ii1I11(0x28b,'!vyq')]=!![],i1illI[Ii1I11(0x322,'ZWON')]('❓'+i1IIl+'\x20'+I1lll1[Ii1I11(0x2d4,'dUAi')](i1IIi))):(await iIIill['Lttvp'](lilII1,Ii1I11(0x265,'K$dL')),await $[Ii1I11(0x314,'U&Na')](0xbb8)));}catch(IIii11){iIIill[Ii1I11(0x333,'dUAi')](iIIill['MOcJp'],iIIill['Fpybt'])?(IiilI='❌\x20'+ii1I11+Ii1I11(0x394,'%jXx'),liIi1++):console['log'](Ii1I11(0x2c3,'e8IU')+IIii11);}}async function I1iII1(Ii1il1,iii1ll){const IllIli=l1i1II,IIliI1={'WCwik':IllIli(0x1e6,'!vyq'),'upqar':IllIli(0x2fa,'PMus'),'RmUYT':IllIli(0x244,'ewj6'),'IwnJM':function(il1lI,IliIIl){return il1lI!==IliIIl;},'AdwTY':IllIli(0x362,'0o4h'),'gkZmp':'活动已结束','lQfEH':function(I1il1l,lI1l1l){return I1il1l(lI1l1l);},'tmgnz':'actName','GCAXA':IllIli(0x1f3,'Bj!L'),'KDXHX':IllIli(0x299,'%jXx'),'ATrHF':'<br>','zhgiK':'removePoint','HhgqW':IllIli(0x32c,'nnR7'),'UjDfK':IllIli(0x243,'0asa'),'TWKvf':IllIli(0x23d,'nW2n'),'glowS':IllIli(0x307,'gT$2'),'vXYjG':'JD_COUPON','gAFgL':'JD_GOODS','eOBnW':function(IIliII,iiliI){return IIliII(iiliI);},'owlTG':function(Ill11I,I1il1i){return Ill11I&&I1il1i;},'xmlDl':function(IliIIi,lI1l1i){return IliIIi===lI1l1i;},'YJWWr':IllIli(0x2b0,'Oz4E'),'HHgxZ':IllIli(0x390,'75W0'),'wMUag':'JD_J_COUPON','meJkJ':'JD_D_COUPON','KiRry':'JD_AIQIYI','EUkRO':IllIli(0x1df,'u2WA'),'VBLZK':IllIli(0x223,'%jXx'),'ICHsC':IllIli(0x29d,'0asa'),'MUVBQ':IllIli(0x2e4,'0o4h'),'VDYXT':IllIli(0x220,'K$dL'),'nnSsH':'DzHau','azQtM':IllIli(0x264,'pqq#'),'EySie':function(i1iil,llI11l){return i1iil===llI11l;},'sifEU':IllIli(0x30e,'vkQn'),'bRrXb':IllIli(0x1f0,'IPSD')};try{switch(Ii1il1){case IIliI1[IllIli(0x218,']tCE')]:if(iii1ll&&iii1ll[IllIli(0x273,'qaxH')]){}else $['skipRun']=!![],console[IllIli(0x3b1,'IAw@')]('❓'+Ii1il1+'\x20'+JSON[IllIli(0x347,']tCE')](iii1ll));break;case'setMixNick':iii1ll&&iii1ll[IllIli(0x2c2,'SWms')]?$['token']=iii1ll[IllIli(0x1dd,'K$dL')]:($['skipRun']=!![],console['log']('❓'+Ii1il1+'\x20'+JSON['stringify'](iii1ll)));break;case IllIli(0x2e9,'iO2v'):if(iii1ll){if(IIliI1[IllIli(0x2f8,'SWms')](IllIli(0x34b,'IAw@'),IIliI1[IllIli(0x21b,'0o4h')]))ilI1lI[IllIli(0x3be,'75W0')](''+IiiIll[IllIli(0x1e7,'^X]x')]),IIlii[IllIli(0x2b2,'ZWON')][IllIli(0x2b9,'ccur')](''+IlI1il[IllIli(0x2f2,'7Tqg')]);else{let i1iii=iii1ll[IllIli(0x33e,'Hhwf')](/(活动已结束)/)&&iii1ll[IllIli(0x2de,'B2zf')](/(活动已结束)/)[0x1]||'';if(i1iii){$[IllIli(0x327,'SWms')]=!![],console['log']('活动已结束，下次早点来吧~'),$[IllIli(0x2c8,'e8IU')][IllIli(0x2f0,'^X]x')](IIliI1['gkZmp']);return;}if(!I1iIII)I1iIII=IIliI1[IllIli(0x233,'dUAi')](require,IllIli(0x3b3,'82US'))?.['JSDOM'];const I1llIi=new I1iIII(iii1ll);$['actName']=I1llIi['window'][IllIli(0x386,'IAw@')][IllIli(0x289,'9%gn')](IIliI1[IllIli(0x232,'PMus')])?.['value']||'',$[IllIli(0x3b5,'%jXx')]=I1llIi[IllIli(0x2ef,'K$dL')][IllIli(0x288,'Gwih')]['getElementById'](IllIli(0x1de,'kflf'))?.[IllIli(0x2cd,'nW2n')]||'',$[IllIli(0x25e,'nW2n')]=I1llIi[IllIli(0x33d,'B2zf')][IllIli(0x21a,'r%is')]['getElementById'](IIliI1[IllIli(0x2f7,'B2zf')])?.[IllIli(0x292,'PMus')]||'',$['description']=I1llIi[IllIli(0x2e5,'Gwih')][IllIli(0x2c1,'OVGx')][IllIli(0x1ff,'0asa')](IIliI1[IllIli(0x2ab,'U&Na')])?.['innerHTML']||'',$['rule']=$[IllIli(0x2da,'!vyq')][IllIli(0x207,'^X]x')](IIliI1['ATrHF'])[IllIli(0x38d,'nW2n')](IIii1I=>IIii1I),$[IllIli(0x389,'ZN*^')]=I1llIi['window'][IllIli(0x396,'L&E^')][IllIli(0x29c,'75W0')](IIliI1['zhgiK'])?.['value']||0x0;}}else IIliI1[IllIli(0x2df,'LLr$')](IIliI1[IllIli(0x2bf,'Oz4E')],IIliI1['HhgqW'])?(iliIII['skipRun']=!![],iIIl1i[IllIli(0x1ec,'Bj!L')]('❓'+I1lllI+'\x20'+ill111[IllIli(0x328,'ZN*^')](Iliil1))):console[IllIli(0x3a9,'pqq#')]('❓'+Ii1il1+'\x20'+JSON[IllIli(0x361,'Bj!L')](iii1ll));break;case IIliI1[IllIli(0x355,'IAw@')]:if(iii1ll&&iii1ll[IllIli(0x313,'xU98')]){let i1iIi1=JSON[IllIli(0x2ea,'0asa')](iii1ll[IllIli(0x269,'e8IU')])?.[IllIli(0x2f1,'ccur')],l1l1il=i1iIi1?.[IllIli(0x2e3,'pqq#')];switch(l1l1il){case IIliI1[IllIli(0x3af,'e8IU')]:console[IllIli(0x24c,'nW2n')](IllIli(0x24e,'iO2v')+i1iIi1?.[IllIli(0x3a7,'%jXx')]+IllIli(0x228,'K$dL')),$[IllIli(0x2c8,'e8IU')][IllIli(0x241,'q&#X')]('🎉\x20'+i1iIi1?.[IllIli(0x2c6,'tL8%')]+IllIli(0x350,'!vyq'));break;case IIliI1[IllIli(0x32b,'dUAi')]:console[IllIli(0x2a5,'82US')]('🗑️\x20'+i1iIi1?.['awardSendNum']+i1iIi1?.[IllIli(0x32e,'nnR7')]+'\x20🎟️'),$[IllIli(0x3ae,'(EiM')][IllIli(0x24d,'Q4)x')](IllIli(0x1ed,'gT$2')+i1iIi1?.['awardSendNum']+i1iIi1?.['awardName']+'\x20🎟️');break;case IIliI1['vXYjG']:console[IllIli(0x26f,'0o4h')](IllIli(0x359,'LG&J')),$['message'][IllIli(0x24d,'Q4)x')]('🗑️\x20优惠券');break;case IIliI1[IllIli(0x1fa,'nW2n')]:const I11i1I=JSON[IllIli(0x1e2,'7Tqg')](l1l1ii[IllIli(0x248,'iO2v')])[IllIli(0x2b5,'K$dL')],iliIi1=i1iIi1[IllIli(0x37f,'ZWON')];console[IllIli(0x1f6,'%jXx')](IllIli(0x277,'kflf')),console['log'](IllIli(0x2ff,'7Tqg')+iliIi1);const l1l1ii={'baseUrl':$[IllIli(0x2a1,'qaxH')],'cookie':ililI1,'ua':$['UA'],'venderId':$[IllIli(0x310,'ZN*^')],'prizeName':iliIi1,'orderCode':I11i1I,'activityUrl':$[IllIli(0x270,'qaxH')]},Il1i1I=await IIliI1[IllIli(0x35a,'!vyq')](iillI,l1l1ii);if(IIliI1[IllIli(0x36b,'Bj!L')](!IllIiI,Il1i1I)){if(IIliI1['xmlDl']('CllRD','CllRD'))await Iiilil[IllIli(0x22f,'Q4)x')]($[IllIli(0x226,'Bj!L')]+'中奖通知','【京东账号'+$[IllIli(0x31c,'IAw@')]+'】'+$['nickName']+IllIli(0x324,'7Tqg')+iliIi1+'，已成功自动登记收货地址\x0a\x0a'+$[IllIli(0x36c,'LLr$')]);else{IlI1I[IllIli(0x258,'ZN*^')](IIliI1['WCwik']);return;}}$['message'][IllIli(0x285,'dUAi')](iliIi1+'('+(Il1i1I?IIliI1[IllIli(0x29f,'LG&J')]:IIliI1[IllIli(0x1ef,'9%gn')])+IllIli(0x216,'9VfA'));break;case IIliI1[IllIli(0x3a2,'0o4h')]:console[IllIli(0x1f6,'%jXx')](IllIli(0x2f5,'avWL')),$[IllIli(0x35c,'u2WA')]['insert']('🗑️\x20优惠券');break;case IIliI1[IllIli(0x206,'(EiM')]:console[IllIli(0x2a5,'82US')]('🗑️\x20优惠券'),$[IllIli(0x37b,'%jXx')][IllIli(0x26e,'gT$2')]('🗑️\x20优惠券');break;case IIliI1[IllIli(0x3c4,'ewj6')]:console['log'](IllIli(0x2be,'U&Na')),$['message'][IllIli(0x24b,'qaxH')]('🎉\x20爱奇艺');break;case IIliI1[IllIli(0x2a6,'ccur')]:console[IllIli(0x24c,'nW2n')]('🎉\x20PLUS会员'),$[IllIli(0x2c8,'e8IU')]['insert'](IllIli(0x242,'B2zf'));break;case IIliI1[IllIli(0x2fc,'0o4h')]:console['log'](IllIli(0x2e7,'vkQn')+i1iIi1?.[IllIli(0x202,'e8IU')]+i1iIi1?.[IllIli(0x272,'iO2v')]),$[IllIli(0x385,'IAw@')][IllIli(0x21e,'0asa')](IllIli(0x24a,'9VfA')+i1iIi1?.[IllIli(0x2ce,'Bj!L')]+i1iIi1?.[IllIli(0x36a,'9VfA')]);break;case IIliI1['ICHsC']:console['log'](IllIli(0x3bf,'OVGx')+i1iIi1?.[IllIli(0x26b,'L&E^')]+i1iIi1?.['awardName']),$[IllIli(0x296,'PMus')][IllIli(0x39c,'OVGx')](IllIli(0x1fe,'r%is')+i1iIi1?.[IllIli(0x3c1,'B2zf')]+i1iIi1?.[IllIli(0x3a7,'%jXx')]);break;default:console['log'](i1iIi1);break;}}else{iii1ll[IllIli(0x303,'Hhwf')][IllIli(0x358,'82US')](IIliI1[IllIli(0x23b,'L&E^')])?(console[IllIli(0x2a2,'kflf')](IllIli(0x22a,'Hhwf')),$[IllIli(0x22d,'B2zf')][IllIli(0x3c3,'LLr$')]('💨\x20空气')):IIliI1[IllIli(0x23e,'nnR7')](IIliI1['VDYXT'],IIliI1['nnSsH'])?(console['log'](''+iii1ll[IllIli(0x2bd,'xU98')]),$['message']['insert'](''+iii1ll[IllIli(0x2b1,'OVGx')])):(lil['log'](IllI1l),i11I1i&&(II1lli['outFlag']=!![],ii1I1I[IllIli(0x287,'qaxH')]&&iI1ll1[IllIli(0x21c,'!vyq')]['fix'](IlI1Il)));err=iii1ll[IllIli(0x20a,'75W0')];for(let il1l1 of['不足','火爆','上限','次数',IIliI1['azQtM']]){if(err['includes'](il1l1)){if(IIliI1['EySie'](IllIli(0x283,'7Tqg'),IIliI1[IllIli(0x28f,'ZWON')])){$[IllIli(0x22b,'ccur')]=!![];break;}else{const Ilil1i=IIliI1['upqar'];return{'err':Ilil1i,'res':null,'data':null};}}}for(let iili1 of['休息',IIliI1['bRrXb']]){if(err[IllIli(0x221,'e8IU')](iili1)){$['retry']=!![];break;}}}break;}}catch(II11ii){console[IllIli(0x374,'PMus')](IllIli(0x2d1,'7Tqg')+Ii1il1+IllIli(0x208,'K$dL')+(II11ii[IllIli(0x32f,'OVGx')]||II11ii));}}async function lilII1(Iil1iI){const ii1Ii=l1i1II,II11il={'NZXTT':ii1Ii(0x1db,'kflf'),'sUjwt':'jsdom','xelwT':'actName','FxUOT':ii1Ii(0x3b7,'B2zf'),'MSGKE':ii1Ii(0x3ab,'(EiM'),'LFrtX':ii1Ii(0x304,'IPSD'),'oXnif':function(I1llII,Iil1il){return I1llII(Iil1il);},'zOyvG':ii1Ii(0x344,'CZ(P'),'EBgMm':'POST','PflTe':ii1Ii(0x3b2,'avWL'),'OEmyN':'followShop','EFhGa':ii1Ii(0x2cc,'u2WA'),'jnuxn':ii1Ii(0x2dc,'avWL'),'wmfXG':ii1Ii(0x219,'iO2v'),'jfZhI':'/ql/front/postQlExchange','peuFT':ii1Ii(0x342,'nW2n'),'jrbSo':ii1Ii(0x34a,'r%is'),'fZBci':ii1Ii(0x2ad,'L&E^'),'yzHIZ':'keep-alive','PCSpW':function(I11i1i,l1l1iI){return I11i1i===l1l1iI;},'jYwfT':ii1Ii(0x35e,'tL8%'),'TxWcX':ii1Ii(0x39e,'9%gn'),'qYqTx':function(I1llI1,I11i1l,il1il){return I1llI1(I11i1l,il1il);},'DMUOE':ii1Ii(0x20b,'*cRa'),'ivZuU':function(Il1i1i,iIIili){return Il1i1i!==iIIili;},'nAnni':'NLOee','DwPFv':'IsCXR','JGPlr':function(Ii1iiI,Ilil1I){return Ii1iiI!==Ilil1I;},'asgGE':ii1Ii(0x23c,'0asa'),'jTGMD':'5|1|2|3|0|4','LzvSb':function(iliIiI,II11iI){return iliIiI||II11iI;},'NnSsQ':function(Il1i1l,Iil1ii){return Il1i1l||Iil1ii;},'VxaZM':'\x0a---------------------------------------------------\x0a','ZtKID':'SFZKI','OrpIJ':function(lill1I,Ii1ii1){return lill1I(Ii1ii1);},'hiTBx':function(Ilil11,i1ii1){return Ilil11>=i1ii1;},'ymBQC':ii1Ii(0x293,'75W0')};if($[ii1Ii(0x211,'9%gn')]||$['outFlag'])return;let iIIil1=$[ii1Ii(0x37a,'IPSD')],IlllII={},I1il1I=II11il[ii1Ii(0x397,'*cRa')];switch(Iil1iI){case II11il[ii1Ii(0x335,'PMus')]:iIIil1+='/front/setMixNick',IlllII='strTMMixNick='+$['jdToken']+'&userId='+$['venderId']+'&source=01';break;case II11il['OEmyN']:iIIil1+=II11il[ii1Ii(0x30c,'ZN*^')],IlllII=ii1Ii(0x2d3,'IPSD')+$[ii1Ii(0x38a,'Bj!L')];break;case ii1Ii(0x33a,'LG&J'):I1il1I=II11il[ii1Ii(0x1e0,'L&E^')],iIIil1+='/ql/front/exchangeActDetail?actId='+$[ii1Ii(0x247,'ccur')]+ii1Ii(0x339,'75W0')+$[ii1Ii(0x2f3,'B2zf')]+ii1Ii(0x227,'(EiM')+i1il1+ii1Ii(0x34d,'Q4)x')+I1l111;break;case II11il[ii1Ii(0x261,'9%gn')]:iIIil1+=II11il[ii1Ii(0x30d,'L&E^')],IlllII=ii1Ii(0x229,'^X]x')+$['activityId']+ii1Ii(0x2ee,'Gwih')+$[ii1Ii(0x332,'Gwih')];break;default:console['log'](ii1Ii(0x3b8,'SWms')+Iil1iI);return;}const II111={'url':iIIil1,'headers':{'Accept':II11il[ii1Ii(0x2eb,'0o4h')],'Accept-Encoding':II11il[ii1Ii(0x2c9,'0asa')],'Accept-Language':II11il['fZBci'],'Connection':II11il[ii1Ii(0x392,'dUAi')],'Content-Type':'application/x-www-form-urlencoded;\x20charset=UTF-8','Cookie':ililI1[ii1Ii(0x2bc,'ewj6')](),'Host':$[ii1Ii(0x26d,'9VfA')],'Origin':$[ii1Ii(0x399,'%jXx')],'Referer':$['activityUrl'],'User-Agent':$['UA']},'body':IlllII,'timeout':0x7530};II11il['PCSpW'](I1il1I,II11il[ii1Ii(0x311,'9VfA')])&&(delete II111['body'],delete II111[ii1Ii(0x37c,'LG&J')][II11il[ii1Ii(0x2f4,'kflf')]]);II11il['PCSpW'](Iil1iI,II11il[ii1Ii(0x393,'IPSD')])&&(II111[ii1Ii(0x3a5,'!vyq')]['Accept']=II11il['TxWcX']);const lI1l1I=0x5;let lill11=0x0,liI1i1=null,I11i11=![];while(lill11<lI1l1I){lill11>0x0&&await $[ii1Ii(0x26c,'LLr$')](0x3e8);const {err:il1ii,res:llI111,data:i1iIiI}=await II11il[ii1Ii(0x28e,'82US')](iill1,II111,I1il1I);if(il1ii){if(II11il[ii1Ii(0x381,'9VfA')](typeof il1ii,II11il[ii1Ii(0x1f2,'(EiM')])&&il1ii['includes'](ii1Ii(0x271,'r%is')))liI1i1=Iil1iI+ii1Ii(0x30b,'ZN*^');else{if(II11il['ivZuU'](ii1Ii(0x250,'^X]x'),ii1Ii(0x356,'0asa')))Iillii=IlI1iI+ii1Ii(0x2c7,'ewj6');else{const I1il11=llI111?.['statusCode'];if(I1il11){if(II11il['ivZuU'](II11il[ii1Ii(0x28c,'pqq#')],II11il[ii1Ii(0x255,'ccur')]))I1lIl1[ii1Ii(0x377,'OVGx')](lil11i,(II11l,II11i,iI1Iii)=>{lI1liI({'err':II11l,'res':II11i,'data':iI1Iii});});else{if([0x193,0x1ed][ii1Ii(0x330,'9VfA')](I1il11)){if(II11il[ii1Ii(0x1f8,'q&#X')](II11il['DwPFv'],'IsCXR')){let lIIiIl=l1i111[ii1Ii(0x395,'82US')](/(活动已结束)/)&&iliII1[ii1Ii(0x2de,'B2zf')](/(活动已结束)/)[0x1]||'';if(lIIiIl){iillll[ii1Ii(0x31a,'dUAi')]=!![],lIIilI[ii1Ii(0x2a8,'u2WA')]('活动已结束，下次早点来吧~'),II1li1[ii1Ii(0x348,'nW2n')][ii1Ii(0x2ed,'nW2n')](II11il[ii1Ii(0x281,'gT$2')]);return;}if(!iIIl1I)I1iIli=lI1Ill(II11il['sUjwt'])?.[ii1Ii(0x2c4,'Bj!L')];const iI1Iil=new lI1Ili(IliilI);i1II1[ii1Ii(0x2d5,'9%gn')]=iI1Iil[ii1Ii(0x3a4,'^X]x')][ii1Ii(0x2b3,'q&#X')][ii1Ii(0x30a,'Bj!L')](II11il[ii1Ii(0x29a,'LG&J')])?.[ii1Ii(0x2b6,'7Tqg')]||'',iIIl11[ii1Ii(0x366,'9%gn')]=iI1Iil[ii1Ii(0x298,'ccur')][ii1Ii(0x23f,'K$dL')][ii1Ii(0x3a6,'OVGx')](II11il[ii1Ii(0x321,'Oz4E')])?.[ii1Ii(0x256,'IAw@')]||'',l1l1I1[ii1Ii(0x310,'ZN*^')]=iI1Iil['window']['document'][ii1Ii(0x249,'LG&J')](ii1Ii(0x2e2,'vkQn'))?.[ii1Ii(0x292,'PMus')]||'',I1iIll[ii1Ii(0x1e5,'LLr$')]=iI1Iil[ii1Ii(0x346,'qaxH')][ii1Ii(0x268,'dUAi')][ii1Ii(0x1e1,'9VfA')](II11il['MSGKE'])?.[ii1Ii(0x2d0,'IPSD')]||'',I1lliI[ii1Ii(0x318,']tCE')]=llIllI[ii1Ii(0x39b,'avWL')]['split'](ii1Ii(0x25f,'dUAi'))[ii1Ii(0x2f9,'Hhwf')](il1iI=>il1iI),I1ilI1['removePoint']=iI1Iil[ii1Ii(0x302,'OVGx')]['document'][ii1Ii(0x1ff,'0asa')](II11il[ii1Ii(0x1f5,'u2WA')])?.[ii1Ii(0x2cd,'nW2n')]||0x0;}else liI1i1=Iil1iI+ii1Ii(0x312,']tCE')+I1il11+'）',I11i11=!![];}else[0x190,0x194]['includes'](I1il11)?liI1i1=Iil1iI+ii1Ii(0x34c,'0o4h')+I1il11+'）':liI1i1=Iil1iI+ii1Ii(0x30f,'dUAi')+I1il11+'）';}}else liI1i1=Iil1iI+ii1Ii(0x235,'7Tqg')+(il1ii[ii1Ii(0x2bb,'0o4h')]||il1ii);}}lill11++;}else{if(II11il[ii1Ii(0x338,'PMus')](II11il['asgGE'],II11il['asgGE']))II11il[ii1Ii(0x25a,'vkQn')](l1lIi1,{'err':iIli1l,'res':i1i1II,'data':liiIIl});else{const i1iIil=Iil1li[ii1Ii(0x23a,'pqq#')](llI111,ililI1),liI1il=![];if(liI1il){const llIlIi=II11il[ii1Ii(0x27a,'e8IU')][ii1Ii(0x230,'xU98')]('|');let llIlIl=0x0;while(!![]){switch(llIlIi[llIlIl++]){case'0':console[ii1Ii(0x374,'PMus')](II111);continue;case'1':console[ii1Ii(0x370,'9%gn')]('🔧\x20'+Iil1iI+ii1Ii(0x294,'nnR7')+II11il['LzvSb'](i1iIiI,'无')+'\x0a');continue;case'2':console['log'](ii1Ii(0x35f,'dUAi')+Iil1iI+ii1Ii(0x246,'K$dL')+II11il[ii1Ii(0x25d,'nnR7')](i1iIil,'无')+'\x0a');continue;case'3':console['log'](ii1Ii(0x2f6,'r%is')+Iil1iI+ii1Ii(0x212,'ewj6'));continue;case'4':console['log'](II11il[ii1Ii(0x340,'xU98')]);continue;case'5':console[ii1Ii(0x25b,'iO2v')](ii1Ii(0x368,'Hhwf'));continue;}break;}}[II11il[ii1Ii(0x384,'IAw@')]][ii1Ii(0x222,'9%gn')](Iil1iI)&&(II11il[ii1Ii(0x2d8,']tCE')]!==II11il[ii1Ii(0x259,'^X]x')]?ll1iI['log']('❌\x20未能正确处理\x20'+iI1lll+'\x20请求响应\x20'+(l1lIll[ii1Ii(0x2db,'*cRa')]||I1l1II)):ililI1=i1iIil);if(i1iIiI)try{let il1i1;switch(Iil1iI){case II11il[ii1Ii(0x295,'IAw@')]:il1i1=i1iIiI;break;default:il1i1=JSON[ii1Ii(0x2e8,'(EiM')](i1iIiI);break;}II11il[ii1Ii(0x204,'kflf')](I1iII1,Iil1iI,il1i1);break;}catch(lIIiIi){liI1i1='❌\x20'+Iil1iI+ii1Ii(0x20f,'Hhwf')+lIIiIi[ii1Ii(0x32f,'OVGx')],console[ii1Ii(0x32d,'dUAi')](ii1Ii(0x279,'e8IU')+Iil1iI+ii1Ii(0x319,'Bj!L')+II11il[ii1Ii(0x280,'0o4h')](String,i1iIiI)),lill11++;}else{if(II11il['PCSpW']('ePWJZ',ii1Ii(0x363,'ccur'))){const iI1Il1={'wrSZB':function(i1iIl1,i1lli1){return i1iIl1(i1lli1);}};return new lI1li1(async llIlII=>{const ii1Il=ii1Ii;ilil1i[ii1Il(0x349,'tL8%')](IlIIi,(IIlII,lIIiII,i1iIlI)=>{const l1iII=ii1Il;iI1Il1[l1iII(0x3c9,'L&E^')](llIlII,{'err':IIlII,'res':lIIiII,'data':i1iIlI});});});}else liI1i1='❌\x20'+Iil1iI+ii1Ii(0x1da,'0asa'),lill11++;}I11i11=![];}}}II11il[ii1Ii(0x2ca,'U&Na')](lill11,lI1l1I)&&(console[ii1Ii(0x380,'0asa')](liI1i1),I11i11&&(II11il[ii1Ii(0x309,'9VfA')]!==ii1Ii(0x215,'SWms')?($[ii1Ii(0x282,'0o4h')]=!![],$['message']&&$[ii1Ii(0x2b4,'U&Na')]['fix'](liI1i1)):(delete llIliI[ii1Ii(0x2d9,'LLr$')],delete I1l1I1[ii1Ii(0x37c,'LG&J')][II11il[ii1Ii(0x39d,'75W0')]])));}async function iill1(liI1lI,lIIiI1='POST'){const iI1Ill=l1i1II,ll1I1={'sCsSI':function(Ii1ili,iI1Ii1){return Ii1ili(iI1Ii1);},'fyQyQ':function(Ii1ill,llIlI1){return Ii1ill===llIlI1;},'qwgWy':iI1Ill(0x345,'U&Na'),'JWKXm':iI1Ill(0x27d,'(EiM'),'KwCmG':iI1Ill(0x301,'B2zf'),'oJhjc':'zXjxD','jKQLV':iI1Ill(0x2dc,'avWL'),'Xgzyh':function(iI1IiI,IIlI1){return iI1IiI!==IIlI1;},'anoPm':iI1Ill(0x3bb,'PMus'),'ftULz':iI1Ill(0x2ae,'tL8%')};if(lIIiI1===iI1Ill(0x32a,'B2zf'))return new Promise(async i1iIli=>{const IIIi1=iI1Ill,i1iIll={'UYkfA':function(i1lliI,liI1l1){const lilI1=iii1II;return ll1I1[lilI1(0x39f,'*cRa')](i1lliI,liI1l1);}};ll1I1['fyQyQ'](ll1I1[IIIi1(0x1eb,'avWL')],ll1I1[IIIi1(0x1dc,'vkQn')])?i1iIll['UYkfA'](iil1i1,{'err':il1i11,'res':IlIll1,'data':IlIII}):$[IIIi1(0x1f4,'ewj6')](liI1lI,(IiillI,ili11I,li11l)=>{const i1llli=IIIi1;ll1I1[i1llli(0x3bc,'75W0')](i1iIli,{'err':IiillI,'res':ili11I,'data':li11l});});});else{if(lIIiI1===ll1I1['jKQLV']){if(ll1I1[iI1Ill(0x1f1,'Q4)x')](ll1I1['anoPm'],ll1I1[iI1Ill(0x2d2,'ccur')]))return new Promise(async lliiIl=>{const i1llll=iI1Ill;ll1I1[i1llll(0x234,'LLr$')]===ll1I1[i1llll(0x341,'r%is')]?$[i1llll(0x34e,'B2zf')](liI1lI,(li11i,lliiIi,iiIi1I)=>{const iI1Ili=i1llll;iI1Ili(0x290,'vkQn')==='vfrlz'?ll1I1['sCsSI'](lliiIl,{'err':li11i,'res':lliiIi,'data':iiIi1I}):lIIiil[iI1Ili(0x3b1,'IAw@')]('❓'+l1lIii+'\x20'+I11iI1[iI1Ili(0x1ea,'9VfA')](l1lIil));}):(lilIl1[i1llll(0x21f,'pqq#')](i1l1ii['name'],ll1I1[i1llll(0x254,'iO2v')]),i1l1['exit'](0x1));});else II1ll1[iI1Ill(0x36e,'^X]x')]=!![],IlI1Ii[iI1Ill(0x385,'IAw@')]&&ll1[iI1Ill(0x38f,'avWL')][iI1Ill(0x391,'pqq#')](iI1llI);}else{const iiIi11=iI1Ill(0x2d6,'K$dL');return{'err':iiIi11,'res':null,'data':null};}}}function iii1l1(ill1II){const llIIiI=l1i1II,i1llil={'VdYuy':function(llIIii,Ii1I1i){return llIIii<Ii1I1i;},'zjCuz':function(llIIlI,Ii1I1l){return llIIlI*Ii1I1l;}};ill1II=ill1II||0x20;let i1llii=llIIiI(0x31d,'L&E^'),l1i1I1=i1llii[llIIiI(0x382,'0asa')],llIIil='';for(i=0x0;i1llil[llIIiI(0x3a1,'U&Na')](i,ill1II);i++)llIIil+=i1llii[llIIiI(0x2d7,'u2WA')](Math[llIIiI(0x353,'ccur')](i1llil['zjCuz'](Math[llIIiI(0x266,'PMus')](),l1i1I1)));return llIIil;}var version_ = 'jsjiami.com.v7';
// prettier-ignore
function Env(t,e){"undefined"!=typeof process&&JSON.stringify(process.env).indexOf("GITHUB")>-1&&process.exit(0);class s{constructor(t){this.env=t}send(t,e="GET"){t="string"==typeof t?{url:t}:t;let s=this.get;return"POST"===e&&(s=this.post),new Promise((e,i)=>{s.call(this,t,(t,s,r)=>{t?i(t):e(s)})})}get(t){return this.send.call(this.env,t)}post(t){return this.send.call(this.env,t,"POST")}}return new class{constructor(t,e){this.name=t,this.http=new s(this),this.data=null,this.dataFile="box.dat",this.logs=[],this.isMute=!1,this.isNeedRewrite=!1,this.logSeparator="\n",this.startTime=(new Date).getTime(),Object.assign(this,e),this.log("",`🔔${this.name}, 开始!`)}isNode(){return"undefined"!=typeof module&&!!module.exports}isQuanX(){return"undefined"!=typeof $task}isSurge(){return"undefined"!=typeof $httpClient&&"undefined"==typeof $loon}isLoon(){return"undefined"!=typeof $loon}toObj(t,e=null){try{return JSON.parse(t)}catch{return e}}toStr(t,e=null){try{return JSON.stringify(t)}catch{return e}}getjson(t,e){let s=e;const i=this.getdata(t);if(i)try{s=JSON.parse(this.getdata(t))}catch{}return s}setjson(t,e){try{return this.setdata(JSON.stringify(t),e)}catch{return!1}}getScript(t){return new Promise(e=>{this.get({url:t},(t,s,i)=>e(i))})}runScript(t,e){return new Promise(s=>{let i=this.getdata("@chavy_boxjs_userCfgs.httpapi");i=i?i.replace(/\n/g,"").trim():i;let r=this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout");r=r?1*r:20,r=e&&e.timeout?e.timeout:r;const[o,h]=i.split("@"),n={url:`http://${h}/v1/scripting/evaluate`,body:{script_text:t,mock_type:"cron",timeout:r},headers:{"X-Key":o,Accept:"*/*"}};this.post(n,(t,e,i)=>s(i))}).catch(t=>this.logErr(t))}loaddata(){if(!this.isNode())return{};{this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e);if(!s&&!i)return{};{const i=s?t:e;try{return JSON.parse(this.fs.readFileSync(i))}catch(t){return{}}}}}writedata(){if(this.isNode()){this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e),r=JSON.stringify(this.data);s?this.fs.writeFileSync(t,r):i?this.fs.writeFileSync(e,r):this.fs.writeFileSync(t,r)}}lodash_get(t,e,s){const i=e.replace(/\[(\d+)\]/g,".$1").split(".");let r=t;for(const t of i)if(r=Object(r)[t],void 0===r)return s;return r}lodash_set(t,e,s){return Object(t)!==t?t:(Array.isArray(e)||(e=e.toString().match(/[^.[\]]+/g)||[]),e.slice(0,-1).reduce((t,s,i)=>Object(t[s])===t[s]?t[s]:t[s]=Math.abs(e[i+1])>>0==+e[i+1]?[]:{},t)[e[e.length-1]]=s,t)}getdata(t){let e=this.getval(t);if(/^@/.test(t)){const[,s,i]=/^@(.*?)\.(.*?)$/.exec(t),r=s?this.getval(s):"";if(r)try{const t=JSON.parse(r);e=t?this.lodash_get(t,i,""):e}catch(t){e=""}}return e}setdata(t,e){let s=!1;if(/^@/.test(e)){const[,i,r]=/^@(.*?)\.(.*?)$/.exec(e),o=this.getval(i),h=i?"null"===o?null:o||"{}":"{}";try{const e=JSON.parse(h);this.lodash_set(e,r,t),s=this.setval(JSON.stringify(e),i)}catch(e){const o={};this.lodash_set(o,r,t),s=this.setval(JSON.stringify(o),i)}}else s=this.setval(t,e);return s}getval(t){return this.isSurge()||this.isLoon()?$persistentStore.read(t):this.isQuanX()?$prefs.valueForKey(t):this.isNode()?(this.data=this.loaddata(),this.data[t]):this.data&&this.data[t]||null}setval(t,e){return this.isSurge()||this.isLoon()?$persistentStore.write(t,e):this.isQuanX()?$prefs.setValueForKey(t,e):this.isNode()?(this.data=this.loaddata(),this.data[e]=t,this.writedata(),!0):this.data&&this.data[e]||null}initGotEnv(t){this.got=this.got?this.got:require("got"),this.cktough=this.cktough?this.cktough:require("tough-cookie"),this.ckjar=this.ckjar?this.ckjar:new this.cktough.CookieJar,t&&(t.headers=t.headers?t.headers:{},void 0===t.headers.Cookie&&void 0===t.cookieJar&&(t.cookieJar=this.ckjar))}get(t,e=(()=>{})){t.headers&&(delete t.headers["Content-Type"],delete t.headers["Content-Length"]),this.isSurge()||this.isLoon()?(this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.get(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)})):this.isQuanX()?(this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t))):this.isNode()&&(this.initGotEnv(t),this.got(t).on("redirect",(t,e)=>{try{if(t.headers["set-cookie"]){const s=t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString();s&&this.ckjar.setCookieSync(s,null),e.cookieJar=this.ckjar}}catch(t){this.logErr(t)}}).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)}))}post(t,e=(()=>{})){if(t.body&&t.headers&&!t.headers["Content-Type"]&&(t.headers["Content-Type"]="application/x-www-form-urlencoded"),t.headers&&delete t.headers["Content-Length"],this.isSurge()||this.isLoon())this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.post(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)});else if(this.isQuanX())t.method="POST",this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t));else if(this.isNode()){this.initGotEnv(t);const{url:s,...i}=t;this.got.post(s,i).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)})}}time(t,e=null){const s=e?new Date(e):new Date;let i={"M+":s.getMonth()+1,"d+":s.getDate(),"H+":s.getHours(),"m+":s.getMinutes(),"s+":s.getSeconds(),"q+":Math.floor((s.getMonth()+3)/3),S:s.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(s.getFullYear()+"").substr(4-RegExp.$1.length)));for(let e in i)new RegExp("("+e+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?i[e]:("00"+i[e]).substr((""+i[e]).length)));return t}msg(e=t,s="",i="",r){const o=t=>{if(!t)return t;if("string"==typeof t)return this.isLoon()?t:this.isQuanX()?{"open-url":t}:this.isSurge()?{url:t}:void 0;if("object"==typeof t){if(this.isLoon()){let e=t.openUrl||t.url||t["open-url"],s=t.mediaUrl||t["media-url"];return{openUrl:e,mediaUrl:s}}if(this.isQuanX()){let e=t["open-url"]||t.url||t.openUrl,s=t["media-url"]||t.mediaUrl;return{"open-url":e,"media-url":s}}if(this.isSurge()){let e=t.url||t.openUrl||t["open-url"];return{url:e}}}};if(this.isMute||(this.isSurge()||this.isLoon()?$notification.post(e,s,i,o(r)):this.isQuanX()&&$notify(e,s,i,o(r))),!this.isMuteLog){let t=["","==============📣系统通知📣=============="];t.push(e),s&&t.push(s),i&&t.push(i),console.log(t.join("\n")),this.logs=this.logs.concat(t)}}log(...t){t.length>0&&(this.logs=[...this.logs,...t]),console.log(t.join(this.logSeparator))}logErr(t,e){const s=!this.isSurge()&&!this.isQuanX()&&!this.isLoon();s?this.log("",`❗️${this.name}, 错误!`,t.stack):this.log("",`❗️${this.name}, 错误!`,t)}wait(t){return new Promise(e=>setTimeout(e,t))}done(t={}){const e=(new Date).getTime(),s=(e-this.startTime)/1e3;this.log("",`🔔${this.name}, 结束! 🕛 ${s} 秒`),this.log(),(this.isSurge()||this.isQuanX()||this.isLoon())&&$done(t)}}(t,e)}
